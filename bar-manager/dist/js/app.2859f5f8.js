(function(t){function e(e){for(var a,n,r=e[0],c=e[1],l=e[2],_=0,u=[];_<r.length;_++)n=r[_],i[n]&&u.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"035d":function(t,e,s){"use strict";var a=s("9268"),i=s.n(a);i.a},"49f8":function(t,e,s){var a={"./en.json":"edd4","./ru.json":"7704"};function i(t){var e=o(t);return s(e)}function o(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="49f8"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove",attrs:{id:"cove"}},[s("router-view")],1)},o=[],n={name:"app"},r=n,c=s("2877"),l=Object(c["a"])(r,i,o,!1,null,null,null);l.options.__file="App.vue";var d=l.exports,_=s("8c4f"),u=s("2f62"),m=(s("f751"),{resize:!1,options:{period_id:0,start_time:-1,end_time:-1}}),p={resetOptions:function(t){t.options=Object.assign({},{period_id:0,start_time:-1,end_time:-1})},resize:function(t){t.resize=!t.resize},setPeriod:function(t,e){t.options=e}},v={resize:function(t){var e=t.commit;e("resize")},setPeriod:function(t,e){var s=t.commit;return new Promise(function(t){t(function(){return s("setPeriod",e),!0}())})}},h={namespaced:!0,state:m,actions:v,mutations:p},f=(s("ac6a"),s("456d"),{production:"https://api.admin.thecove.pub",debug:"https://debugapi.admin.thecove.pub",local:"http://127.0.0.1:8282"}),b=function(t,e,s){var a={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};return fetch(t+e,a).then(g)},y=function(t,e){var s={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}};return fetch(t+e,s).then(g)};function g(t){return t.text().then(function(e){var s=e;if(s)try{s=JSON.parse(e)}catch(t){s={code:1e3,error:"error: No JSON format"}}if(!t.ok){401===t.status&&location.reload(!0);var a=s&&s.message||t.statusText;return console.log("error",s.error),Promise.reject(a)}return s})}var C={login:"/api/v1/auth/login",logout:"/api/v1/auth/logout",logcheck:"/api/v1/auth/check",menu:"/api/v1/admin/menu/list",stock:"/api/v1/admin/stock/list","stock-story":"/api/v1/admin/stock/story","stock-categories":"/api/v1/admin/stock/categories","stock-merge":"/api/v1/admin/stock/merge","stock-dependencies":"/api/v1/admin/stock/dependencies","stock-writeoff":"/api/v1/admin/stock/writeoff","stock-barcodes":"/api/v1/admin/stock/barcodes","stock-barcodes-add":"/api/v1/admin/stock/barcodes/add","stock-barcodes-delete":"/api/v1/admin/stock/barcodes/delete","stock-save":"/api/v1/admin/stock/save","stock-barcodes-find":"/api/v1/admin/stock/barcodes/find","stock-add":"/api/v1/admin/stock/add","stock-delete":"/api/v1/admin/stock/delete",ingredients:"/api/v1/admin/menu/ingredients/","add-dish":"/api/v1/admin/menu/create_item","update-dish":"/api/v1/admin/menu/save","add-category":"/api/v1/admin/menu/create_category","remove-item":"/api/v1/admin/menu/delete","clone-item":"/api/v1/admin/menu/copy_item","check-id":"/api/v1/admin/menu/check","expenses-funds":"/api/v1/admin/funds","expenses-categories":"/api/v1/admin/expenses/categories","expenses-list":"/api/v1/admin/expenses/list","expenses-rename":"/api/v1/admin/expenses/rename","expenses-transfer":"/api/v1/admin/expenses/transfer","expenses-delete":"/api/v1/admin/expenses/delete","orders-list":"/api/v1/admin/orders/list","orders-cashiers":"/api/v1/admin/users/cashiers","orders-item":"/api/v1/admin/orders/","stat-list":"/api/v1/admin/statistics/","operations-get-funds":"/api/v1/admin/funds","operations-set-funds":"/api/v1/admin/funds/operation","operations-services-add":"/api/v1/admin/services/add","settings-user-list":"/api/v1/admin/users/list","settings-role-list":"/api/v1/admin/users/roles","settings-users-edit":"/api/v1/admin/users/edit","settings-users-create":"/api/v1/admin/users/create","settings-users-delete":"/api/v1/admin/users/delete","analytics-list":"/api/v1/admin/analytics/","analytics-buisnesslanch":"/api/v1/admin/analytics/",post:b,get:y},w={auth:!!localStorage.getItem("user-auth")&&JSON.parse(localStorage.getItem("user-auth")),props:!!localStorage.getItem("user-props")&&JSON.parse(localStorage.getItem("user-props"))},x=Object.keys(f),k=w.auth&&x.filter(function(t){return w.auth.host==t}).length?w.auth.host:x[0],$={login:"",username:"",password:"",authorized:!1,host:k,locale:w.auth?w.auth.locale:"ru",user:w.props?w.props:{code:0},status:{loggingIn:!1},error_login:!1},P={setUsername:function(t,e){t.username=e.username},setPass:function(t,e){t.password=e.password},setHost:function(t,e){t.host=e.id},setLocal:function(t,e){t.locale=e.id},loginRequest:function(t,e){t.status={loggingIn:!0},t.username=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.authorized=!0,t.user=e},loginFailure:function(t){t.status={},t.user={code:0},t.authorized=!1},errorLogin:function(t,e){t.error_login=e.status},logout:function(t){t.username="",t.password="",t.status={},t.user={code:0},t.authorized=!1},error:function(t,e){t.type="alert-danger",t.message=e}},O={login:function(t){var e=t.commit,s=t.state,a=t.rootState;s.username&&s.password&&C.post(f[a.auth.host],C["login"],{login:s.username,password:s.password,time:(new Date).getTime()}).then(function(t){return e("loginSuccess",t),localStorage.setItem("user-auth",JSON.stringify({host:s.host,locale:s.locale})),localStorage.setItem("user-props",JSON.stringify(t)),t},function(t){return e("loginFailure",t),t}).then(function(t){t.hasOwnProperty("code")?(e("loginFailure"),e("errorLogin",{status:!0})):(e("errorLogin",{status:!1}),nm.push({name:"menu"}))})},logout:function(t){var e=t.commit,s=t.rootState;C.post(f[s.auth.host],C["logout"],{}).then(function(){localStorage.removeItem("user-props"),e("logout")}).then(function(){nm.push({name:"login"})})},logcheck:function(t){var e=t.rootState;return new Promise(function(t){C.get(f[e.auth.host],C["logcheck"],{}).then(function(e){t(e)})})},setLocal:function(t,e){var s=t.commit,a=JSON.parse(localStorage.getItem("user-auth"));localStorage.setItem("user-auth",JSON.stringify({host:a.host,locale:e.id})),s("setLocal",e)},error:function(t,e){var s=t.commit;s("error",e)}},S={namespaced:!0,state:$,actions:O,mutations:P},I=(s("7f7f"),s("8afe")),M=(s("55dd"),s("7514"),s("a322")),L=s("c93e"),E={logout:T,setCategoryPath:W,getMenuItem:A,getParent:R,createTree:U,getMenuItems:N,getItemPath:B,findMenuItem:D,sortingFolderToFile:Q,removeItem:j,setItemProp:q,createTreeFolder:z,createTreeSelect:H,getDishesId:Y};function T(){localStorage.removeItem("user")}function A(t,e,s){return t.filter(function(t){return t[e]==s})[0]}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t.item_id),t.is_file||t.children.map(function(t){var s=F(t);e=Object(I["a"])(e).concat(Object(I["a"])(s))}),e}function j(t,e){var s=F(e),a={remove:s,new:t.filter(function(t){return!s.filter(function(e){return e==t.item_id}).length})};return a}function q(t,e,s,a){return t.map(function(t){return t.item_id==e.item_id?Object(L["a"])({},t,Object(M["a"])({},s,a)):t})}function D(t,e,s,a){var i=!1;return e.map(function(e){i=A(t,s,e),t=i.children}),{item:t.filter(function(t){return t[s]==a})[0],path:e}}function N(t,e,s){return t.filter(function(t){if(t[e].toLowerCase().indexOf(s.toLowerCase())>-1&&t.is_file)return t})}function B(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t.filter(function(t){return t["item_id"]===e});return a.length&&(s.unshift(a[0].parent_id),B(t,a[0].parent_id,s)),s}function R(t,e){var s=t;return e.length?(e.map(function(t){s=A(s.children,"item_id",t)}),s):s}function W(t,e,s){var a,i=[];return e.length?(e.map(function(o,n){a=t.find(function(t){return t.item_id==o}),i.push({name:a.name.toUpperCase(),path:a.path,id:a.item_id}),t=a.children,n+1==e.length&&(a=t.find(function(t){return t.item_id==s}),i.push({name:a.name.toUpperCase(),path:a.path,id:a.item_id}))}),i):[{name:t[0].name.toUpperCase(),path:t[0].path,id:t[0].item_id}]}function z(t){var e,s=[];return t.children.map(function(t){if(!t.is_file){var a={};e=t.children.filter(function(t){return!t.is_file}),a["id"]=t.item_id,a["label"]=t.name,e.length&&(a["children"]=z(t)),s.push(a)}}),s}function H(t){var e=[];return t.children.map(function(t){var s={};s["id"]=t.item_id,s["label"]=t.name,t.is_file||(s["children"]=H(t)),e.push(s)}),e}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Menu",s={};t.map(function(t){t["path"]=[],s.hasOwnProperty("p-"+t["parent_id"])?s["p-"+t["parent_id"]].push(Object.assign({},t)):(s["p-"+t["parent_id"]]=[],s["p-"+t["parent_id"]].push(Object.assign({},t)))});var a={status:!0,name:e,is_file:!1,item_id:0,parent_id:-1,path:[],children:[]};function i(t,e){return s[t].map(function(t){var a=Object.assign({},t);a["path"]=Object(I["a"])(e.path).concat([t.parent_id]),t.is_file||(a["children"]=[],s.hasOwnProperty("p-"+t.item_id)&&i("p-"+t.item_id,a)),e.children.push(a)}),e.children=Q(e.children),e}return new Promise(function(t){t(i("p-0",a))}).then(function(t){return[t]}),[a]}var V={ASC:function(t,e){return t.sort(function(t,s){var a="string"==typeof t[e]?t[e].toLowerCase():t[e],i="string"==typeof s[e]?s[e].toLowerCase():s[e];return a>i?1:a<i?-1:0}),t},DESC:function(t,e){return t.sort(function(t,s){var a="string"==typeof t[e]?t[e].toLowerCase():t[e],i="string"==typeof s[e]?s[e].toLowerCase():s[e];return a<i?1:a>i?-1:0}),t}};function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",a=[],i=[];return t.map(function(t){t.is_file?i.push(t):a.push(t)}),V[s](a,e).concat(V[s](i,e))}function Y(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.map(function(a){a.parent_id==e&&(a.is_file?s.push(a.item_id):Y(t,a.item_id,s)),a.item_id==e&&a.is_file&&s.push(a.item_id)}),s}var Z={menuMap:[],menuStatus:!1,menu:[],treeMenu:[],treeFolder:{},activeCategory:{},activeCategoryId:0,activeCategoryList:[],categoryPath:[],errorId:!1,ingredientMap:[],ingredientStore:[],ingredientTree:[],ingredientList:[],activeItemId:-1,selectedMenuItem:{},selectedMenuList:[],sortListDir:"ASC",search:[],searchInput:"",searchMode:!1,searchPath:[],editItemMode:!1},K={error:function(t,e){t.type="alert-danger",t.message=e},setMenuMap:function(t,e){t.menuMap=e},resetMenuStatus:function(t){t.activeCategoryId=0,t.menuStatus=!1},setMenu:function(t,e){t.menu=e,t.menuStatus=!0,t.activeCategoryId=t.activeCategoryId?t.activeCategoryId:0},setTreeMenu:function(t,e){t.treeMenu=e},setMenuTreeFolder:function(t,e){t.treeFolder=e},setActiveItemId:function(t,e){t.activeItemId=e.id},setActiveCategory:function(t,e){t.activeCategory=e.item,t.activeCategoryId=e.item.item_id,t.activeCategoryList=e.list},setCategoryPath:function(t,e){t.categoryPath=e},setActiveCategoryId:function(t,e){t.activeCategoryId=e},searchInput:function(t,e){t.searchInput=e},searchMenu:function(t,e){t.search=e},setEditItemMode:function(t,e){t.editItemMode=e},sortList:function(t,e){t.selectedMenuList=e.list,t.sortListDir=e.dir},setIngredientMap:function(t,e){t.ingredientMap=e},setIngredientStore:function(t,e){t.ingredientStore=e},setIngredientTree:function(t,e){t.ingredientTree=e},setIngredientList:function(t,e){t.ingredientList=e},resetItem:function(t){t.ingredientList=[]},checkId:function(t,e){t.errorId=e.exists}},J={error:function(t,e){var s=t.commit;s("error",e)},menu:function(t){var e=t.commit,s=t.state,a=t.rootState;C.get(f[a.auth.host],C["menu"]).then(function(t){return e("setMenuMap",t),E.createTree(t)}).then(function(t){return{tree:E.createTreeSelect(t[0]),menu:t}}).then(function(t){var s=[{id:0,label:"Menu",children:t.tree}];return e("setTreeMenu",s),t.menu}).then(function(t){e("setMenu",t);var a=[{id:0,label:"Menu",children:E.createTreeFolder(t[0])}];return e("setMenuTreeFolder",a),s.activeCategoryId}).then(function(t){return t?E.getItemPath(s.menuMap,t):[]}).then(function(t){return E.findMenuItem(s.menu,t,"item_id",s.activeCategoryId)}).then(function(t){return t=t.item,e("setActiveCategory",{item:t,list:t.children}),t}).then(function(t){e("setCategoryPath",E.setCategoryPath(s.menu,t.path,t.item_id))}).catch(function(){console.log("err")})},setMenu:function(t){var e=t.commit,s=t.state;e("setMenu",s.menuMap)},setActiveCategory:function(t,e){var s=t.commit,a=t.state;new Promise(function(t){s("setActiveCategory",{item:e.item,list:e.list}),t(e.item)}).then(function(t){s("setCategoryPath",E.setCategoryPath(a.menu,t.path,t.item_id))})},setCategoryPath:function(t,e){var s=t.commit;s("setCategoryPath",E.setCategoryPath(Z.menu,e))},setCategoryFromPath:function(t,e){var s=t.dispatch,a=E.findMenuItem(Z.menu,e.path,"item_id",e.id).item;s("setActiveCategory",{item:a,list:a.children})},setActiveCategoryId:function(t){var e=t.commit,s=t.state;e("setActiveCategoryId",s.activeCategoryId)},setIngredientStore:function(t){var e=t.commit,s=t.state,a=t.rootState;C.get(f[a.auth.host],C["ingredients"]).then(function(t){return e("setIngredientMap",t),t}).then(function(t){e("setIngredientStore",E.createTree(t,"Store"))}).then(function(){return E.createTreeSelect(s.ingredientStore[0])}).then(function(t){var s=[{id:0,label:"Store",children:t}];e("setIngredientTree",s)})},setIngredientList:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;-1==e?s("resetItem"):C.get(f[i.auth.host],C["ingredients"]+e+"/").then(function(t){a("setIngredientList",t)})},findListItem:function(t,e){var s=t.dispatch,a=t.state;new Promise(function(t){t(E.getItemPath(a.menuMap,e.parent_id))}).then(function(t){return E.findMenuItem(a.menu,t,"item_id",e.parent_id)}).then(function(t){var a=[];a=e.item_id<0?Object(I["a"])(t.item.children):t.item.children.filter(function(t){return t.item_id==e.item_id}),s("setActiveCategory",{item:t.item,list:a})})},removeItem:function(t,e){var s=t.dispatch,a=t.commit,i=t.state,o=t.rootState;new Promise(function(t){t(E.removeItem(i.menuMap,e))}).then(function(t){return{res:C.post(f[o.auth.host],C["remove-item"],{items:t.remove}),list:t}}).then(function(t){return t.list.new}).then(function(t){return a("setMenuMap",t),E.createTree(t)}).then(function(t){return a("setMenu",t),i.activeCategory}).then(function(t){return E.findMenuItem(i.menu,t.path,"item_id",t.item_id)}).then(function(t){var e=t.item.children;s("setActiveCategory",{item:t.item,list:e})})},setItemProp:function(t,e){var s=t.dispatch,a=t.commit,i=t.state;new Promise(function(t){t(E.setItemProp(i.menuMap,e.item,e.property,e.value))}).then(function(t){return a("setMenuMap",t),E.createTree(t)}).then(function(t){return a("setMenu",t),i.activeCategory}).then(function(t){return E.findMenuItem(i.menu,t.path,"item_id",t.item_id)}).then(function(t){var e=t.item.children;s("setActiveCategory",{item:t.item,list:e})})},searchList:function(t,e){var s=t.commit,a=t.state;s("searchMenu",E.getMenuItems(a.menuMap,"name",e)),s("searchInput",e)},setEditItemMode:function(t,e){var s=t.commit;s("setEditItemMode",e)},sortList:function(t,e){var s=t.commit,a=t.state,i=a.selectedMenuList;i=E.sortingFolderToFile(i,e.propname,e.dir),s("sortList",{list:i,dir:e.dir})},resetItem:function(t){var e=t.commit;e("resetItem")},addCategory:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;C.post(f[i.auth.host],C["add-category"],{parent_id:e.parent_id,name:e.name}).then(function(t){return a("setActiveCategoryId",t.item_id),!0}).then(function(){s("menu")},function(t){console.log("err"),a("loginFailure",t),s("error",t,{root:!0})})},addDish:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["add-dish"],e).then(function(e){t(e)},function(e){console.log("error:",e),t(e)})})},updateDish:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;C.post(f[i.auth.host],C["update-dish"],e).then(function(){s("menu")},function(t){console.log("err"),a("loginFailure",t),s("error",t,{root:!0})})},cloneDish:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;C.post(f[i.auth.host],C["clone-item"],{source_id:e.item_id}).then(function(){s("menu")},function(t){console.log("err"),a("loginFailure",t),s("error",t,{root:!0})})},addIngredient:function(t,e){var s=t.commit,a=t.state,i=a.ingredientMap.filter(function(t){return t.item_id==e.id})[0],o={item_id:e.id,item_quantity:0,prime_cost:i.prime_cost,name:i.name,measure_name:i.measure_name,measure_id:i.measure_id},n=a.ingredientList;n.push(o),s("setIngredientList",n)},changeIngredient:function(t,e){var s=t.commit,a=t.state,i=a.ingredientMap.filter(function(t){return t.item_id==e.id_next})[0],o={item_id:e.id_next,item_quantity:0,prime_cost:i.prime_cost,name:i.name,measure_name:i.measure_name,measure_id:i.measure_id},n=a.ingredientList.map(function(t){return t.item_id==e.id_prev?o:t});s("setIngredientList",n)},checkId:function(t,e){var s=t.commit,a=t.state,i=t.rootState;a.activeItemId!=e.id&&(""!=e.id?C.post(f[i.auth.host],C["check-id"],{item_id:e.id}).then(function(t){s("checkId",t)}):s("checkId",!1))}},X={namespaced:!0,state:Z,actions:J,mutations:K},G={loading:!1,stockMap:[],stockStatus:!1,stock:[],stockSelectList:[],measureList:[],productList:[],stockStory:[],stockBarcode:{},stockDependencies:[],stockCategories:[],treeFolder:{},activeCategory:{},activeCategoryId:0,activeCategoryList:[],categoryPath:[],activeItemId:-1,selectedStockItem:{},selectedStockList:[],sortListDir:"ASC",search:[],searchInput:"",searchMode:!1,searchPath:[],editItemMode:!1},tt={setLoading:function(t,e){t.loading=e},resetStockStatus:function(t){t.activeCategoryId=0,t.stockStatus=!1},error:function(t,e){t.type="alert-danger",t.message=e},setStockMap:function(t,e){t.stockMap=e},setStock:function(t,e){t.stock=e,t.stockStatus=!0,t.activeCategoryId=t.activeCategoryId?t.activeCategoryId:0},setStockSelectList:function(t,e){t.stockSelectList=e},measureList:function(t,e){t.measureList=e},setStory:function(t,e){t.stockStory=e},setProductList:function(t,e){t.productList=e},setBarcode:function(t,e){t.stockBarcode=e},setDependencies:function(t,e){t.stockDependencies=e},setStockTreeFolder:function(t,e){t.treeFolder=e},setStockCategory:function(t,e){t.stockCategories=e},setActiveItemId:function(t,e){t.activeItemId=e.id},setActiveCategory:function(t,e){t.activeCategory=e.item,t.activeCategoryId=e.item.item_id,t.activeCategoryList=e.list},setCategoryPath:function(t,e){t.categoryPath=e},setActiveCategoryId:function(t,e){t.activeCategoryId=e},searchInput:function(t,e){t.searchInput=e},searchStock:function(t,e){t.search=e},setEditItemMode:function(t,e){t.editItemMode=e},sortList:function(t,e){t.selectedStockList=e.list,t.sortListDir=e.dir}},et={error:function(t,e){var s=t.commit;s("error",e)},stock:function(t){var e=t.commit,s=t.state,a=t.rootState;C.get(f[a.auth.host],C["stock"]).then(function(t){if(e("setStockMap",t),!s.measureList.length){var i=[];t.map(function(t){var e=i.filter(function(e){return e.id==t.measure_id});e.length||i.push({id:t.measure_id,label:t.measure_name})}),e("measureList",i)}s.stockCategories.length||C.get(f[a.auth.host],C["stock-categories"]).then(function(t){var s=[];t.map(function(t){s.push({id:t.category_id,label:t.name})}),e("setStockCategory",s)});var o=t.filter(function(t){return t.is_file});return e("setProductList",o),E.createTree(t,"Stock")}).then(function(t){return{tree:E.createTreeSelect(t[0]),stock:t}}).then(function(t){var s=[{id:0,label:"Stock",children:t.tree}];return e("setStockSelectList",s),t.stock}).then(function(t){e("setStock",t);var a=[{id:0,label:"Stock",children:E.createTreeFolder(t[0])}];return e("setStockTreeFolder",a),s.activeCategoryId}).then(function(t){return t?E.getItemPath(s.stockMap,t):[]}).then(function(t){return E.findMenuItem(s.stock,t,"item_id",s.activeCategoryId)}).then(function(t){return t=t.item,e("setActiveCategory",{item:t,list:t.children}),t}).then(function(t){e("setLoading",!1),e("setCategoryPath",E.setCategoryPath(s.stock,t.path,t.item_id))}).catch(function(){console.log("err")})},setStock:function(t){var e=t.commit,s=t.state;e("setStock",s.stockMap)},setActiveCategory:function(t,e){var s=t.commit,a=t.state;new Promise(function(t){s("setActiveCategory",{item:e.item,list:e.list}),t(e.item)}).then(function(t){s("setCategoryPath",E.setCategoryPath(a.stock,t.path,t.item_id))})},setCategoryPath:function(t,e){var s=t.commit;s("setCategoryPath",E.setCategoryPath(G.stock,e))},setCategoryFromPath:function(t,e){var s=t.dispatch,a=E.findMenuItem(G.stock,e.path,"item_id",e.id).item;s("setActiveCategory",{item:a,list:a.children})},setActiveCategoryId:function(t){var e=t.commit,s=t.state;e("setActiveCategoryId",s.activeCategoryId)},mergeItems:function(t,e){var s=t.dispatch,a=t.rootState;C.post(f[a.auth.host],C["stock-merge"],e).then(function(){s("stock")},function(t){console.log("error:",t)})},setDependencies:function(t,e){var s=t.commit,a=t.rootState;return s("setDependencies",[]),new Promise(function(t){C.post(f[a.auth.host],C["stock-dependencies"],e).then(function(e){s("setDependencies",e),t(e)},function(t){console.log("error:",t)})})},setStory:function(t,e){var s=t.commit,a=t.rootState;return s("setStory",[]),new Promise(function(t){C.post(f[a.auth.host],C["stock-story"],e).then(function(e){s("setStory",e),t(e)},function(t){console.log("error:",t)})})},setBarcode:function(t,e){var s=t.commit,a=t.rootState;return s("setBarcode",[]),new Promise(function(t){C.post(f[a.auth.host],C["stock-barcodes"],e).then(function(e){s("setBarcode",e),t(e)},function(t){console.log("error:",t)})})},addBarcode:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-barcodes-add"],e).then(function(e){t(e)},function(t){console.log("error:",t)})})},removeBarcode:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-barcodes-delete"],e).then(function(e){t(e)},function(t){console.log("error:",t)})})},saveItem:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-save"],e).then(function(e){t(e)},function(t){console.log("error:",t)})})},writeoff:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-writeoff"],e).then(function(){t(!1)},function(e){console.log("error:",e),t(e)})})},findProductByBarcode:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-barcodes-find"],e).then(function(e){t(e)},function(e){console.log("error:",e),t(e)})})},stockAdd:function(t,e){var s=t.rootState;return new Promise(function(t){C.post(f[s.auth.host],C["stock-add"],e).then(function(e){t(e)},function(e){console.log("error:",e),t(e)})})},stockRemove:function(t,e){var s=t.rootState;return new Promise(function(t){t(E.removeItem(G.stockMap,e))}).then(function(t){return new Promise(function(e){C.post(f[s.auth.host],C["stock-delete"],{items:t.remove}).then(function(){e(!0)},function(t){console.log("error:",t),e(t)})})},function(t){console.log("error:",t)})},findListItem:function(t,e){var s=t.dispatch,a=t.state;new Promise(function(t){t(E.getItemPath(a.stockMap,e.parent_id))}).then(function(t){return E.findMenuItem(a.stock,t,"item_id",e.parent_id)}).then(function(t){var a=[];a=e.item_id<0?Object(I["a"])(t.item.children):t.item.children.filter(function(t){return t.item_id==e.item_id}),s("setActiveCategory",{item:t.item,list:a})})},searchList:function(t,e){var s=t.commit,a=t.state;s("searchStock",E.getMenuItems(a.stockMap,"name",e)),s("searchInput",e)},setEditItemMode:function(t,e){var s=t.commit;s("setEditItemMode",e)},sortList:function(t,e){var s=t.commit,a=t.state,i=a.selectedStockList;i=E.sortingFolderToFile(i,e.propname,e.dir),s("sortList",{list:i,dir:e.dir})}},st={namespaced:!0,state:G,actions:et,mutations:tt},at={loading:!0,totals:{},expensesList:[],expensesStatus:!1,expenses:[],funds:{},categories:[],stockCategories:[],options:{}},it={resetExpensesStatus:function(t){t.expensesStatus=!1},setFunds:function(t,e){t.funds=Object.assign({},e)},setCategories:function(t,e){t.categories=e},setStockCategories:function(t,e){t.stockCategories=e},expensesList:function(t,e){t.totals=Object.assign({},e.totals),t.expensesList=e.list,t.expensesStatus||(t.expensesStatus=!0)},setReportType:function(t,e){t.options=Object.assign(t.options,e)},setOptions:function(t,e){t.options=Object.assign({},e)},setLoading:function(t,e){t.loading=e,t.expensesStatus||(t.expensesStatus=!0)}},ot={setLoading:function(t,e){var s=t.commit;s("setLoading",e)},setFunds:function(t){var e=t.commit,s=t.rootState;return C.get(f[s.auth.host],C["expenses-funds"]).then(function(t){return e("setFunds",t),!0})},setCategories:function(t){var e=t.commit,s=t.rootState;C.get(f[s.auth.host],C["expenses-categories"]).then(function(t){e("setCategories",t)})},setStockCategories:function(t){var e=t.commit,s=t.rootState;C.get(f[s.auth.host],C["stock-categories"]).then(function(t){var s=[];t.map(function(t){s.push({id:t.category_id,label:t.name})}),e("setStockCategories",s)})},expensesList:function(t,e){var s=t.commit,a=t.rootState;0!=a.common.options.start_time&&(e["start_time"]=a.common.options.start_time),0!=a.common.options.end_time&&(e["end_time"]=a.common.options.end_time),C.post(f[a.auth.host],C["expenses-list"],e).then(function(t){for(var e=Object.keys(t),a={},i=0,o=e.length;i<o;i++)"filtered_records"!=e[i]&&Object.assign(a,Object(M["a"])({},e[i],t[e[i]]));s("expensesList",{list:t.filtered_records,totals:a})},function(t){console.log(t)}).then(function(){s("setLoading",!1)})},setReportType:function(t,e){var s=t.commit;s("setReportType",e)},setOptions:function(t,e){var s=t.dispatch,a=t.commit,i=t.state;a("setLoading",!0),new Promise(function(t){t(function(){var t=Object.assign(i.options,e);return e.hasOwnProperty("page")||(t=Object.assign(t,{page:1})),a("setOptions",t),t}())}).then(function(t){for(var e={},s=Object.keys(t),a=0,i=s.length;a<i;a++)!1!==t[s[a]]&&(e[s[a]]=t[s[a]]);return e}).then(function(t){s("expensesList",t)})},expensesRename:function(t,e){var s=t.dispatch,a=t.state,i=t.rootState;C.post(f[i.auth.host],C["expenses-rename"],e).then(function(){s("setOptions",a.options)},function(t){console.log(t)})},expensesRemove:function(t,e){var s=t.dispatch,a=t.state,i=t.rootState;C.post(f[i.auth.host],C["expenses-delete"],e).then(function(){s("setOptions",a.options)},function(t){console.log(t)})},expensesTransfer:function(t,e){var s=t.dispatch,a=t.state,i=t.rootState;C.post(f[i.auth.host],C["expenses-transfer"],e).then(function(){s("setOptions",a.options)},function(t){console.log(t)})}},nt={namespaced:!0,state:at,actions:ot,mutations:it},rt={funds:{}},ct={getFunds:function(t,e){t.funds=Object.assign({},e)}},lt={getFunds:function(t){var e=t.commit,s=t.rootState;return C.get(f[s.auth.host],C["operations-get-funds"]).then(function(t){return e("getFunds",t),Promise.resolve(t)})},setFundsOperation:function(t,e){var s=t.rootState;return new Promise(function(t,a){C.post(f[s.auth.host],C["operations-set-funds"],{operation:e.type,amount:parseFloat(e.value)}).then(function(){t("ok")},function(t){a(t)})})},addService:function(t,e){var s=t.rootState;C.post(f[s.auth.host],C["operations-services-add"],e).then(function(){console.log("service add")},function(t){console.log(t)})}},dt={namespaced:!0,state:rt,actions:lt,mutations:ct},_t={loading:!0,ordersMap:[],totals:{},ordersList:[],ordersStatus:!1,orders:[],options:{},cashier_list:[],orderItem:null},ut={resetOrdersStatus:function(t){t.ordersStatus=!1},ordersList:function(t,e){t.totals=Object.assign({},e.totals),t.ordersList=e.list,t.ordersStatus||(t.ordersStatus=!0)},setCashierList:function(t,e){t.cashier_list=e},setReportType:function(t,e){t.options=Object.assign(t.options,e)},setOptions:function(t,e){t.options=Object.assign({},e)},setOrderItem:function(t,e){t.orderItem=Object.assign({},e)},setLoading:function(t,e){t.loading=e,t.ordersStatus||(t.ordersStatus=!0)}},mt={setLoading:function(t,e){var s=t.commit;s("setLoading",e)},setCashierList:function(t){var e=t.commit,s=t.rootState;C.get(f[s.auth.host],C["orders-cashiers"]).then(function(t){e("setCashierList",t)})},setOrderItem:function(t,e){var s=t.commit,a=t.rootState;C.get(f[a.auth.host],C["orders-item"]+e.id).then(function(t){return s("setOrderItem",t),t})},ordersList:function(t,e){var s=t.commit,a=t.rootState;0!=a.common.options.start_time&&(e["start_time"]=a.common.options.start_time),0!=a.common.options.end_time&&(e["end_time"]=a.common.options.end_time),C.post(f[a.auth.host],C["orders-list"],e).then(function(t){for(var e=Object.keys(t),a={},i=0,o=e.length;i<o;i++)"orders"!=e[i]&&Object.assign(a,Object(M["a"])({},e[i],t[e[i]]));s("ordersList",{list:t.orders,totals:a})}).then(function(){s("setLoading",!1)})},setReportType:function(t,e){var s=t.commit;s("setReportType",e)},setOptions:function(t,e){var s=t.dispatch,a=t.commit,i=t.state;a("setLoading",!0),new Promise(function(t){t(function(){var t=Object.assign(i.options,e);return e.hasOwnProperty("page")||(t=Object.assign(t,{page:1})),a("setOptions",t),t}())}).then(function(t){for(var e={},s=Object.keys(t),a=0,i=s.length;a<i;a++)!1!==t[s[a]]&&(e[s[a]]=t[s[a]]);return e}).then(function(t){s("ordersList",t)})}},pt={namespaced:!0,state:_t,actions:mt,mutations:ut},vt=(s("6b54"),{loading:!0,totals:{},statList:[],statStatus:!1,stats:[],statItem:null,menu:[],categoryTree:{},categoryTreeDishes:{},part:"",parts:{}}),ht={resetStatStatus:function(t){t.statStatus=!1},statList:function(t,e){t.parts[e.part].totals=Object.assign({},e.totals),t.parts[e.part].statList=e.list,t.parts[e.part].statStatus||(t.parts[e.part].statStatus=!0)},setPart:function(t,e){t.parts.hasOwnProperty(e.part)||(t.parts[e.part]={totals:{},statList:[],statStatus:!1,options:{}})},setOptions:function(t,e){t.parts[e.part].options=Object.assign({},e),t.part=e.part},setStatItem:function(t,e){t.statItem=Object.assign({},e)},setLoading:function(t,e){t.loading=e,t.statStatus||(t.statStatus=!0)},setCategoryTree:function(t,e){t.categoryTree={tree:e.tree},t.menu=e.menu},setCategoryTreeDishes:function(t,e){t.categoryTreeDishes={tree:e.tree},t.menu=e.menu}},ft={setLoading:function(t,e){var s=t.commit;s("setLoading",e)},setStatItem:function(t,e){var s=t.commit,a=t.rootState;C.get(f[a.auth.host],C["stat-item"]+e.id).then(function(t){return s("setStatItem",t),t}).then(function(t){return t})},statList:function(t,e){var s=t.commit,a=t.rootState;0!=a.common.options.start_time&&(e["start_time"]=a.common.options.start_time),0!=a.common.options.end_time&&(e["end_time"]=a.common.options.end_time),C.post(f[a.auth.host],C["stat-list"]+e.part,e).then(function(t){if("[object Array]"!==Object.prototype.toString.call(t)){for(var a,i=Object.keys(t),o={},n=0,r=i.length;n<r;n++)"items"!=i[n]&&"groups"!=i[n]&&Object.assign(o,Object(M["a"])({},i[n],t[i[n]])),"items"!=i[n]&&"groups"!=i[n]||(a=t[i[n]]);s("statList",{list:a,totals:o,part:e.part})}else s("statList",{list:t,totals:{},part:e.part})},function(t){console.log("error:",t),s("statList",{list:[],totals:{},part:e.part})}).then(function(){s("setLoading",!1)})},setOptions:function(t,e){var s=t.dispatch,a=t.commit,i=t.state;a("setLoading",!0);var o=Object.assign(i.parts[e.part].options,e);e.hasOwnProperty("page")||(o=Object.assign(o,{page:1})),a("setOptions",o);for(var n={},r=Object.keys(o),c=0,l=r.length;c<l;c++)!1!==o[r[c]]&&(n[r[c]]=o[r[c]]);s("statList",n)},categoryTree:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;C.get(f[i.auth.host],C["menu"]).then(function(t){var e=E.createTree(t),s={tree:e,menu:t};return s}).then(function(t){var e=[{id:0,label:"Menu",children:E.createTreeFolder(t.tree[0])}];return a("setCategoryTree",{tree:e,menu:t.menu}),t.menu}).then(function(t){var e=E.getDishesId(t,0);return e}).then(function(t){e["menu_ids"]=t,s("setOptions",e)})},categoryTreeDishes:function(t,e){var s=t.dispatch,a=t.commit,i=t.rootState;C.get(f[i.auth.host],C["menu"]).then(function(t){var e=E.createTree(t),s={tree:e,menu:t};return s}).then(function(t){var e=[{id:0,label:"Menu",children:E.createTreeSelect(t.tree[0])}];return a("setCategoryTreeDishes",{tree:e,menu:t.menu}),t.menu}).then(function(t){var e=E.getDishesId(t,0);return e}).then(function(t){e["menu_ids"]=t,s("setOptions",e)})},setCategoryId:function(t,e){var s=t.dispatch,a=t.state;new Promise(function(t){t(function(){var t=E.getDishesId(a.menu,e.id);return t}())}).then(function(t){s("setOptions",{menu_ids:t,part:e.part})})},setPart:function(t,e){var s=t.commit;s("setPart",e)}},bt={namespaced:!0,state:vt,actions:ft,mutations:ht},yt={loading:!0,totals:{},analyticsList:[],analyticsStatus:!1,analytics:[],analyticsItem:null,menu:[],categoryTree:{},categoryTreeDishes:{},part:"",parts:{}},gt={resetAnalyticsStatus:function(t){t.analyticsStatus=!1},analyticsList:function(t,e){t.parts[e.part].totals=Object.assign({},e.totals),t.parts[e.part].analyticsList=e.list,t.parts[e.part].analyticsStatus||(t.parts[e.part].analyticsStatus=!0)},setPart:function(t,e){t.parts.hasOwnProperty(e.part)||(t.parts[e.part]={totals:{},analyticsList:[],analyticsStatus:!1,options:{}})},setOptions:function(t,e){t.parts[e.part].options=Object.assign({},e),t.part=e.part},setLoading:function(t,e){t.loading=e,t.analyticsStatus||(t.analyticsStatus=!0)},setCategoryTree:function(t,e){t.categoryTree={tree:e.tree},t.menu=e.menu},setCategoryTreeDishes:function(t,e){t.categoryTreeDishes={tree:e.tree},t.menu=e.menu}},Ct={setLoading:function(t,e){var s=t.commit;s("setLoading",e)},analyticsList:function(t,e){var s=t.commit,a=t.rootState;0!=a.common.options.start_time&&(e["start_time"]=a.common.options.start_time),0!=a.common.options.end_time&&(e["end_time"]=a.common.options.end_time),C.post(f[a.auth.host],C["analytics-list"]+e.part,e).then(function(t){if("[object Array]"!==Object.prototype.toString.call(t)){for(var a,i=Object.keys(t),o={},n=0,r=i.length;n<r;n++)"items"!=i[n]&&"groups"!=i[n]&&"data"!=i[n]&&Object.assign(o,Object(M["a"])({},i[n],t[i[n]])),"items"!=i[n]&&"groups"!=i[n]&&"data"!=i[n]||(a=t[i[n]]);s("analyticsList",{list:a,totals:o,part:e.part})}else s("analyticsList",{list:t,totals:{},part:e.part})},function(t){console.log("error:",t),s("analyticsList",{list:[],totals:{},part:e.part})}).then(function(){s("setLoading",!1)})},setOptions:function(t,e){var s=t.dispatch,a=t.commit,i=t.state;a("setLoading",!0);var o=Object.assign(i.parts[e.part].options,e);e.hasOwnProperty("page")||(o=Object.assign(o,{page:1})),a("setOptions",o);for(var n={},r=Object.keys(o),c=0,l=r.length;c<l;c++)!1!==o[r[c]]&&(n[r[c]]=o[r[c]]);n.hasOwnProperty("redirect")?s(n.redirect,n):s("analyticsList",n)},BuisnessLanch:function(t,e){var s=t.commit,a=t.rootState;s("setLoading",!0),new Promise(function(t){C.get(f[a.auth.host],C["menu"]).then(function(a){var i=E.createTree(a),o={tree:i,menu:a},n=[{id:0,label:"Menu",children:E.createTreeSelect(o.tree[0])}];s("setCategoryTreeDishes",{tree:n,menu:o.menu});var r=E.getDishesId(a,e.id);t(r)})}).then(function(t){return new Promise(function(s){var i={menu_ids:t};0!=a.common.options.start_time&&(i["start_time"]=a.common.options.start_time),0!=a.common.options.end_time&&(i["end_time"]=a.common.options.end_time),C.post(f[a.auth.host],C["stat-list"]+e.api,i).then(function(t){s(t)})})}).then(function(t){return s("setOptions",e),s("analyticsList",{list:t.items,part:e.part}),!0}).then(function(){s("setLoading",!1)})},setPart:function(t,e){var s=t.commit;s("setPart",e)}},wt={namespaced:!0,state:yt,actions:Ct,mutations:gt},xt={loading:!0,settingsStatus:!1,role:!1,userList:{list:[]},roleList:{list:[]},activeUser:{},expensesCategories:[]},kt={resetSettingsStatus:function(t){t.settingsStatus=!1},setLoading:function(t,e){t.loading=e,t.statStatus||(t.statStatus=!0)},setRole:function(t,e){t.role=e.role_id},userList:function(t,e){t.userList.list=e.list},roleList:function(t,e){t.roleList.list=e.list},setActiveUser:function(t,e){t.activeUser=e},setExpensesCategories:function(t,e){t.expensesCategories=e}},$t={setLoading:function(t,e){var s=t.commit;s("setLoading",e)},setRole:function(t,e){var s=t.dispatch,a=t.commit;new Promise(function(t){a("setRole",e),t({role_id:e.role_id})}).then(function(){var t={};e.role_id&&(t={role_id:e.role_id}),s("userList",t)})},userList:function(t,e){var s=t.commit,a=t.rootState,i={};return e.hasOwnProperty("role_id")&&(i={role_id:e.role_id}),new Promise(function(t){C.post(f[a.auth.host],C["settings-user-list"],i).then(function(e){s("userList",{list:e}),t(e)},function(t){console.log("error:",t),s("userList",{list:[]})})})},roleList:function(t){var e=t.commit,s=t.rootState;C.get(f[s.auth.host],C["settings-role-list"]).then(function(t){e("roleList",{list:t})},function(t){console.log("error:",t)})},userCreate:function(t,e){var s=t.dispatch,a=t.commit,i=t.state,o=t.rootState;C.post(f[o.auth.host],C["settings-users-create"],e).then(function(t){var o=i.role,n={};o&&(n={role_id:e.role_id}),s("userList",n).then(function(e){var s=e.filter(function(e){return e.user_id==t});s.length?a("setActiveUser",s[0]):a("setActiveUser",{})})},function(t){console.log("error:",t)})},userRemove:function(t,e){var s=t.dispatch,a=t.state,i=t.rootState;C.post(f[i.auth.host],C["settings-users-delete"],e).then(function(){var t=a.role,i={};t&&(i={role_id:e.role_id}),s("userList",i)},function(t){console.log("error:",t)})},userEdit:function(t,e){var s=t.dispatch,a=t.state,i=t.rootState;C.post(f[i.auth.host],C["settings-users-edit"],e).then(function(){var t=a.role,i={};t&&(i={role_id:e.role_id}),s("userList",i)},function(t){console.log("error:",t)})},setExpensesCategories:function(t){var e=t.commit,s=t.rootState;C.get(f[s.auth.host],C["stock-categories"]).then(function(t){e("setExpensesCategories",t)},function(t){console.log("error:",t)})}},Pt={namespaced:!0,state:xt,actions:$t,mutations:kt};a["default"].use(u["a"]);var Ot=new u["a"].Store({modules:{common:h,auth:S,menu:X,stock:st,expenses:nt,operations:dt,orders:pt,statistics:bt,analytics:wt,settings:Pt}}),St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth-layout"},[s("div",{staticClass:"main"},[s("div",{staticClass:"auth-content"},[s("router-view")],1),s("div",{staticClass:"auth-wallpaper"},[s("div",{staticClass:"oblique"}),s("router-link",{staticClass:"i-cove",attrs:{to:{path:"/"}}},[s("span",[t._v("THE COVE")])])],1)])])},It=[],Mt={name:"AuthLayout"},Lt=Mt,Et=Object(c["a"])(Lt,St,It,!1,null,null,null);Et.options.__file="AuthLayout.vue";var Tt=Et.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-layout",[s("app-sidebar",{attrs:{slot:"sidebar"},slot:"sidebar"}),s("main",{staticClass:"content",attrs:{slot:"content",id:"main-content"},slot:"content"},[s("router-view")],1)],1)},Ft=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[t._t("sidebar"),s("div",{staticClass:"content-wrap",attrs:{id:"content-wrap"}},[t._t("content")],2)],2)},qt=[],Dt={name:"cove-layout"},Nt=Dt,Bt=Object(c["a"])(Nt,jt,qt,!1,null,null,null);Bt.options.__file="CoveLayout.vue";var Rt=Bt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-sidebar",{class:{"cove-sidebar__mini":t.mini},attrs:{mini:t.mini}},[s("template",{slot:"logo"},[s("sidebar-panel",{on:{slide:t.slide}})],1),s("template",{slot:"nav"},t._l(t.nav,function(e,a){return s("sidebar-link",{key:a,attrs:{to:{path:"/"+e.name}}},[s("span",{staticClass:"sidebar__icon",class:e.icon,attrs:{slot:"icon"},slot:"icon"}),s("span",{staticClass:"sidebar__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("navigation."+e.title)))])])}))],2)},zt=[],Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("aside",{staticClass:"cove-sidebar"},[t._t("logo"),s("div",{staticClass:"sidebar-menu__wrap"},[s("ul",{staticClass:"sidebar-menu"},[t._t("nav")],2)])],2)},Ut=[],Vt={name:"cove-sidebar"},Qt=Vt,Yt=Object(c["a"])(Qt,Ht,Ut,!1,null,null,null);Yt.options.__file="CoveSidebar.vue";var Zt=Yt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"sidebar-link"},[s("router-link",{staticClass:"sidebar-link__router-link",attrs:{to:t.to,target:t.target}},[t._t("icon"),t._t("title")],2)],1)},Jt=[],Xt={name:"sidebar-link",props:{to:{type:Object,required:!0},target:{type:String,default:"_self"}},watch:{$route:function(t){var e=this;this.$nextTick(function(){e.$children[0].$el.classList.contains("router-link-active")})}}},Gt=Xt,te=Object(c["a"])(Gt,Kt,Jt,!1,null,null,null);te.options.__file="SidebarLink.vue";var ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar-logo"},[s("router-link",{staticClass:"logo-link",attrs:{to:{path:"/"}}},[t._v("The Cove")]),s("div",{staticClass:"sidebar-burg",on:{click:t.slide}},[s("span",{staticClass:"sidebar-burg__plast sidebar-burg__plast-a"}),s("span",{staticClass:"sidebar-burg__plast sidebar-burg__plast-b"}),s("span",{staticClass:"sidebar-burg__plast sidebar-burg__plast-c"})])],1)},ae=[],ie={name:"sidebar-panel",methods:{slide:function(){this.$emit("slide")}}},oe=ie,ne=Object(c["a"])(oe,se,ae,!1,null,null,null);ne.options.__file="SidebarPanel.vue";var re=ne.exports,ce={name:"app-sidebar",components:{CoveSidebar:Zt,SidebarLink:ee,SidebarPanel:re},data:function(){return{mini:!1,nav:[{name:"menu",title:"menu",icon:"flaticon-checklist"},{name:"stock",title:"stock",icon:"flaticon-box"},{name:"expenses",title:"expenses",icon:"flaticon-calculator"},{name:"operations",title:"operations",icon:"flaticon-card-payment"},{name:"orders",title:"orders",icon:"flaticon-cashbox"},{name:"statistics",title:"statistics",icon:"flaticon-bar-chart"},{name:"analytics",title:"analytics",icon:"flaticon-admin"},{name:"settings",title:"settings",icon:"flaticon-settings"}]}},methods:{slide:function(){this.mini=!this.mini,this.$store.dispatch("common/resize")}}},le=ce,de=Object(c["a"])(le,Wt,zt,!1,null,null,null);de.options.__file="AppSidebar.vue";var _e=de.exports,ue={methods:{getTime:function(t){var e=6e4*(new Date).getTimezoneOffset(),s=new Date(new Date(t).getTime()+e),a=s.getFullYear()+"-"+this.pad2(s.getMonth()+1)+"-"+this.pad2(s.getDate())+" "+this.pad2(s.getHours())+":"+this.pad2(s.getMinutes())+":"+this.pad2(s.getSeconds());return a},pad2:function(t){return t<10?"0"+t:t}}},me={methods:{setTime:function(t){var e={period_id:t.id},s=new Date,a=6e4*(new Date).getTimezoneOffset(),i=function(t){t=new Date(t);var e=t.getDay(),s=t.getDate()-e+(0==e?-6:1);return new Date(t.setDate(s))};if(0==t.id){var o=new Date(s);s.setHours(12,0,0,0),o<s&&s.setDate(s.getDate()-1);var n=s-a;e["start_time"]=new Date(n).toISOString(),e["end_time"]=!1}else if(1==t.id){var r=new Date(s),c=s;c.setHours(12,0,0,0),r<s&&c.setDate(c.getDate()-1);var l=new Date((new Date).setDate(c.getDate()-1));l.setHours(12,0,0,0),e["start_time"]=new Date(l-a).toISOString(),e["end_time"]=new Date(c-a).toISOString()}else if(2==t.id){var d=i(s);d.setHours(8,0,0,0),e["start_time"]=new Date(d-a).toISOString(),e["end_time"]=!1}else if(3==t.id){var _=new Date(s.getFullYear(),s.getMonth(),1);_.setHours(0,0,0,0);var u=_-a;e["start_time"]=new Date(u).toISOString(),e["end_time"]=!1}else if(4==t.id)e["start_time"]=!1,e["end_time"]=!1;else if(5==t.id){if(""==t.start_time)return;e["start_time"]=""!=t.start_time&&new Date(new Date(t.start_time)-a).toISOString(),e["end_time"]=""!=t.end_time?new Date(new Date(t.end_time)-a).toISOString():new Date((new Date).getTime()-a).toISOString()}return e}}},pe={name:"AppLayout",mixins:[me],components:{CoveLayout:Rt,AppSidebar:_e},created:function(){if(-1==this.$store.state.common.options.start_time){var t=this.setTime({id:0});a["default"].set(this.$store.state.common.options,"start_time",t.start_time),a["default"].set(this.$store.state.common.options,"end_time",t.end_time)}}},ve=pe,he=Object(c["a"])(ve,At,Ft,!1,null,null,null);he.options.__file="AppLayout.vue";var fe=he.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("h2",[t._v(t._s(t.$t("auth.welcome")))]),s("form",{attrs:{method:"post",name:"login"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group",class:{error:t.errorLogin}},[s("div",{staticClass:"input-group"},[s("input",{attrs:{type:"text",id:"username",required:"required"},domProps:{value:t.username},on:{input:t.setUsername}}),s("label",{staticClass:"control-label",attrs:{for:"username"}},[t._v(t._s(t.$t("auth.username")))]),s("i",{staticClass:"bar"})])]),s("div",{staticClass:"form-group",class:{error:t.errorLogin}},[s("div",{staticClass:"input-group"},[s("input",{attrs:{type:"password",id:"password",required:"required"},domProps:{value:t.password},on:{input:t.setPass}}),s("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v(t._s(t.$t("auth.password")))]),s("i",{staticClass:"bar"})])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.servers},on:{select:t.selectHost},model:{value:t.host,callback:function(e){t.host=e},expression:"host"}})],1)]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.lang.options},on:{select:t.setLocal},model:{value:t.locale,callback:function(e){t.locale=e},expression:"locale"}})],1)]),s("div",{staticClass:"cove-btn"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.$t("auth.login")))])])])])},ye=[],ge=s("7026"),Ce=s.n(ge),we={name:"login",data:function(){return{locale:null,host:null,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},lang:{value:"English",options:[{id:"en",label:"English",value:"en"},{id:"ru",label:"Русский",value:"ru"}]}}},components:{Treeselect:Ce.a},computed:Object(u["b"])({username:function(t){return t.auth.username},password:function(t){return t.auth.password},errorLogin:function(t){return t.auth.error_login},servers:function(){var t=Object.keys(f),e=[];return t.map(function(t){e.push({id:t,label:t,value:f[t]})}),e}}),methods:{login:function(){this.$store.dispatch("auth/login")},setUsername:function(t){var e=t.target.value;this.$store.commit("auth/setUsername",{username:e})},setPass:function(t){var e=t.target.value;this.$store.commit("auth/setPass",{password:e})},selectHost:function(t){this.$store.commit("auth/setHost",t)},setLocal:function(t){this.$i18n.locale=t.id,this.$store.dispatch("auth/setLocal",t)}},created:function(){var t=this.$store.state.auth.host;if(!t||void 0==t){var e=Object.keys(f);t=e[0]}this.host=t,this.locale=this.$store.state.auth.locale}},xe=we,ke=Object(c["a"])(xe,be,ye,!1,null,null,null);ke.options.__file="Login.vue";var $e=ke.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-menu",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("MenuCategory",{attrs:{slot:"category",dx:t.dx,endResize:t.endResize},on:{setDx:t.setDx},slot:"category"}),s("CoveResizer",{attrs:{slot:"resizer"},on:{setDx:t.setDx,setResize:t.setResize},slot:"resizer"}),s("MenuList",{attrs:{slot:"list"},slot:"list"})],1)},Oe=[],Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("category"),t._t("resizer"),t._t("list")],2)],2)},Ie=[],Me={name:"cove-menu"},Le=Me,Ee=Object(c["a"])(Le,Se,Ie,!1,null,null,null);Ee.options.__file="CoveMenu.vue";var Te=Ee.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))]),s("div",{staticClass:"cove-panel__link",on:{click:t.addDish}},[t._v(t._s(t.$t("panel.add_dish")))]),s("div",{staticClass:"cove-panel__link",on:{click:t.addCategory}},[t._v(t._s(t.$t("panel.add_category")))])]),s("search-panel",{attrs:{slot:"right",modul:"menu"},slot:"right"}),s("div",{attrs:{slot:"future"},slot:"future"},[t.editItem?s("edit-item",{attrs:{closeModal:t.closeModal,activeItem:t.activeItem,title:t.$t("menu.new_dish.titles.add")}}):t._e(),t.editCategory?s("edit-category",{attrs:{closeModal:t.closeModal,activeCategory:null,title:t.$t("menu.new_category.titles.add")}}):t._e(),s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}})],1)],1)},Fe=[],je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-panel"},[s("div",{staticClass:"cove-panel__wrap"},[s("div",{staticClass:"cove-panel__part-left"},[t._t("left")],2),s("div",{staticClass:"cove-panel__part-right"},[t._t("right")],2)]),t._t("future")],2)},qe=[],De={name:"cove-panel"},Ne=De,Be=Object(c["a"])(Ne,je,qe,!1,null,null,null);Be.options.__file="CovePanel.vue";var Re=Be.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-panel_search"},[s("input",{attrs:{type:"text",placeholder:t.$t("panel.search")},domProps:{value:t.searchValue},on:{input:function(e){t.searchInput({key:"key",$event:e})},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.searchInput({key:"enter",$event:e})},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.searchInput({key:"up",$event:e})},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.searchReady=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.searchInput({key:"down",$event:e})}]}}),s("div",{staticClass:"cove-panel_search-btn"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchReady,expression:"searchReady"}],ref:"searchResultBox",staticClass:"cove-panel_search-result"},[s("ul",{ref:"searchResultUl"},t._l(t.search,function(e,a){return s("li",{key:a,ref:"li-"+a,refInFor:!0,class:{active:t.searchIndex==a&&0!=e.id},on:{click:function(s){t.selectRes(e)}}},[t._v(t._s(e.name))])}))])])},ze=[],He=(s("386d"),{name:"search-panel",props:["modul"],data:function(){return{searchReady:!1,searchIndex:0}},computed:Object(u["b"])({search:function(t){return t[this.modul].search.length?t[this.modul].search:[{id:0,name:"No result"}]},searchValue:function(t){return t[this.modul].searchInput}}),methods:{searchInput:function(t){var e=this;"enter"==t.key?this.search.length&&this.selectRes(this.search[this.searchIndex]):"up"==t.key?(0==this.searchIndex?this.searchIndex=this.search.length-1:this.searchIndex--,this.scrollSearchBoxUp()):"down"==t.key?(this.searchIndex==this.search.length-1?this.searchIndex=0:this.searchIndex++,this.scrollSearchBoxDown()):"key"==t.key&&(t.$event.target.value?(this.searchReady=!0,this.searchIndex=0,this.$store.dispatch(this.modul+"/searchList",t.$event.target.value).then(function(){e.$refs.searchResultBox.scrollTop=0})):(this.searchReady=!1,this.$store.dispatch(this.modul+"/searchList",t.$event.target.value)))},scrollSearchBoxDown:function(){var t=this.$refs.searchResultBox.clientHeight-20,e=this.$refs["li-0"][0].clientHeight;t+this.$refs.searchResultBox.scrollTop<e*this.searchIndex&&(this.$refs.searchResultBox.scrollTop+=e),0==this.searchIndex&&(this.$refs.searchResultBox.scrollTop=0)},scrollSearchBoxUp:function(){var t=this.$refs.searchResultBox.clientHeight-20,e=this.$refs["li-0"][0].clientHeight,s=this.$refs.searchResultUl.clientHeight;e*this.searchIndex<this.$refs.searchResultBox.scrollTop&&(this.$refs.searchResultBox.scrollTop-=e),this.searchIndex==this.search.length-1&&(this.$refs.searchResultBox.scrollTop=s-t)},selectRes:function(t){this.searchReady=!1,this.$store.dispatch(this.modul+"/findListItem",{parent_id:t.parent_id,item_id:t.item_id})},cancelSearch:function(){this.searchReady&&event.target!=this.$el&&!this.$el.contains(event.target)&&(this.searchReady=!1)}},mounted:function(){document.addEventListener("click",this.cancelSearch,!1)},beforeDestroy:function(){document.removeEventListener("click",this.cancelSearch)}}),Ue=He,Ve=Object(c["a"])(Ue,We,ze,!1,null,null,null);Ve.options.__file="SearchPanel.vue";var Qe=Ve.exports,Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{ref:"mask",staticClass:"modal-wrapper",on:{click:t.close}},[s("div",{ref:"modal",staticClass:"modal-container",class:t.size?"modal-container__"+t.size:""},[s("div",{staticClass:"modal-table"},[s("div",{staticClass:"modal-table__row m-header"},[s("div",{staticClass:"modal-header"},[t._v(t._s(t.title))])]),s("div",{staticClass:"modal-table__row m-content"},[t._t("content")],2),s("div",{staticClass:"modal-table m-footer"},[s("div",{staticClass:"modal-footer"},t._l(t.btnAction,function(e,a){return s("div",{key:a,staticClass:"modal-default-button",class:{"c-btn__disabled":t.disable(e)},on:{click:function(s){t.callback(e)}}},[t._v(t._s(e.name))])}))])]),s("div",{ref:"close",staticClass:"modal-close",on:{click:t.close}})])])])])},Ze=[],Ke={name:"modal",props:["title","btnAction","size"],methods:{close:function(t){t.target!=this.$refs.mask&&t.target!=this.$refs.close||this.$emit("closeModal")},callback:function(t){var e=Object.keys(t),s={};e.map(function(e){"data"==e&&(s=Object.assign({},t.data))}),t.action(s)},disable:function(t){var e=Object.keys(t),s=!1;return e.map(function(e){"active"==e&&(t["active"]||(s=!0))}),s}}},Je=Ke,Xe=Object(c["a"])(Je,Ye,Ze,!1,null,null,null);Xe.options.__file="Modal.vue";var Ge=Xe.exports,ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,btnAction:[{name:t.$t("btn.reset"),action:t.resetModal},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal,active:!t.errorId}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"properties"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("menu.new_dish.titles.characteristics")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{error:t.errorId}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.item_id,expression:"itemProperty.item_id",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.item_id},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"item_id",t._n(e.target.value))},t.checkId],blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.identifier")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.name,expression:"itemProperty.name"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.name},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"name",e.target.value)},t.setChangeMode]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.name")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.max_discount,expression:"itemProperty.max_discount",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.max_discount},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"max_discount",t._n(e.target.value))},t.setChangeMode],blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.max_discount")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.description,expression:"itemProperty.description"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.description},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"description",e.target.value)},t.setChangeMode]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.description")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.retail_price,expression:"itemProperty.retail_price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.retail_price},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"retail_price",t._n(e.target.value))},t.setChangeMode],blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.menu_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.type,expression:"itemProperty.type",modifiers:{number:!0}}],attrs:{type:"radio",id:"radio-bar",name:"type",value:"0"},domProps:{checked:t._q(t.itemProperty.type,t._n("0"))},on:{click:t.setChangeMode,change:function(e){t.$set(t.itemProperty,"type",t._n("0"))}}}),s("label",{staticClass:"cove-radio",attrs:{for:"radio-bar"}},[t._v(t._s(t.$t("menu.new_dish.props.bar")))]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.type,expression:"itemProperty.type",modifiers:{number:!0}}],attrs:{type:"radio",id:"radio-kitchen",name:"type",value:"1"},domProps:{checked:t._q(t.itemProperty.type,t._n("1"))},on:{click:t.setChangeMode,change:function(e){t.$set(t.itemProperty,"type",t._n("1"))}}}),s("label",{staticClass:"cove-radio",attrs:{for:"radio-kitchen"}},[t._v(t._s(t.$t("menu.new_dish.props.kitchen")))]),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.menu_type")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.treeSelectList},on:{select:t.setCategory},model:{value:t.itemProperty.parent_id,callback:function(e){t.$set(t.itemProperty,"parent_id",t._n(e))},expression:"itemProperty.parent_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.cashback,expression:"itemProperty.cashback",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.cashback},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"cashback",t._n(e.target.value))},t.setChangeMode],blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.fixed_cashback")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__label"}),s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-left"},[s("div",{staticClass:"modal-btn__small",class:{checked:t.itemProperty.status},on:{click:t.setAvailableStatus}},[t._v(t._s(t.$t("menu.new_dish.props.available")))])]),s("div",{staticClass:"modal-right"},[s("div",{staticClass:"modal-default-button",on:{click:function(e){t.editHoursStatus=!0}}},[t._v(t._s(t.$t("btn.edit_hours")))])])])])]),s("div",{staticClass:"modal-block",attrs:{name:"ingredients"}},[s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("menu.new_dish.titles.ingredients")))])])]),s("div",{staticClass:"modal-table__row modal-row modal-table__100"},[s("div",{staticClass:"modal-table__cell modal-table__100 modal-table__padd"},[s("div",{ref:"wrap",staticClass:"modal-table__wrap"},[s("div",{staticClass:"modal-table",attrs:{name:"ingredients"}},[s("div",{ref:"table-body",staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("menu.new_dish.props.id")))]),s("div",{staticClass:"modal-table__cell",attrs:{name:"head-name"}},[t._v(t._s(t.$t("menu.new_dish.props.name")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("menu.new_dish.props.amount")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("menu.new_dish.props.unit")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("menu.new_dish.props.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("menu.new_dish.props.total")))])]),s("div",{staticClass:"modal-table__row-group"},[t._l(t.ingredientList,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",class:[{active:a==t.activeRow},{open:t.activeIngredientIndex==a}],attrs:{name:"items"},on:{click:function(s){t.setActiveIngredient(e,a)}}},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.item_id))]),s("div",{staticClass:"modal-table__cell",attrs:{name:"name"}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.name,expression:"item.name"}]},[t._v(t._s(e.name))]),s("Treeselect",{directives:[{name:"show",rawName:"v-show",value:a==t.activeRow,expression:"index == activeRow"}],attrs:{placeholder:"Select a dish",multiple:t.treeselectIngr.multiple,clearable:t.treeselectIngr.clearable,searchable:t.treeselectIngr.searchable,disabled:t.treeselectIngr.disabled,"open-on-click":t.treeselectIngr.openOnClick,"open-on-focus":t.treeselectIngr.openOnFocus,"clear-on-select":t.treeselectIngr.clearOnSelect,"close-on-select":t.treeselectIngr.closeOnSelect,"always-open":t.treeselectIngr.alwaysOpen,"append-to-body":t.treeselectIngr.appendToBody,"disable-branch-nodes":!0,limit:7,"max-height":200,"show-count":t.treeselectIngr.showCount,defaultExpandLevel:1/0,options:t.ingredientTree},on:{select:t.changeIngredient,open:function(e){t.openSelect(a)},close:function(e){t.closeSelect()}},model:{value:t.activeIngredient,callback:function(e){t.activeIngredient=t._n(e)},expression:"activeIngredient"}})],1),s("div",{staticClass:"modal-table__cell",attrs:{name:"quantity"},on:{click:function(e){t.activeQuantity=a}}},[t._v(" "+t._s(e.item_quantity)+"\r\n                                                    "),t.activeQuantity==a?s("input-quantity",{attrs:{quantity:e.item_quantity,id:e.item_id},on:{blurQuantity:t.blurQuantity}}):t._e()],1),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.measure_name))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.prime_cost))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s((e.item_quantity*e.prime_cost).toFixed(2)))])])}),s("div",{staticClass:"modal-table__row",attrs:{name:"dishes"}},[s("div",{staticClass:"modal-table__cell"}),s("div",{staticClass:"modal-table__cell",attrs:{name:"tree"}},[s("Treeselect",{attrs:{placeholder:t.$t("menu.new_dish.props.new_ingredient"),multiple:t.treeselectIngr.multiple,clearable:t.treeselectIngr.clearable,searchable:t.treeselectIngr.searchable,disabled:t.treeselectIngr.disabled,"open-on-click":t.treeselectIngr.openOnClick,"open-on-focus":t.treeselectIngr.openOnFocus,"clear-on-select":t.treeselectIngr.clearOnSelect,"close-on-select":t.treeselectIngr.closeOnSelect,"always-open":t.treeselectIngr.alwaysOpen,"append-to-body":t.treeselectIngr.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,"show-count":t.treeselectIngr.showCount,options:t.ingredientTree},on:{select:t.addIngredient},model:{value:t.newIngredient,callback:function(e){t.newIngredient=t._n(e)},expression:"newIngredient"}})],1),s("div",{staticClass:"modal-table__cell"}),s("div",{staticClass:"modal-table__cell"}),s("div",{staticClass:"modal-table__cell"}),s("div",{staticClass:"modal-table__cell"})])],2)])])])]),s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"property-value"},[t._v("\r\n                                "+t._s(t.totalPrice.toFixed(2)))]),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.total_price")))])])])])])]),t.editHoursStatus?s("edit-hours",{attrs:{activeItem:t.activeItem,closeModal:t.closeEditHours,title:t.$t("menu.new_dish.props.edit_hours")},on:{setHours:t.setHours}}):t._e()],1)])},es=[],ss=(s("a481"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.number",value:t.value,expression:"value",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.value},on:{blur:[t.blurQuantity,function(e){t.$forceUpdate()}],keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.blurQuantity(e):null},input:function(e){e.target.composing||(t.value=t._n(e.target.value))}}})}),as=[],is={name:"input-quantity",data:function(){return{value:0,blur:!1}},props:["quantity","id"],directives:{focus:{inserted:function(t){t.focus()}}},methods:{blurQuantity:function(){if(!this.blur){this.blur=!0;var t=this.value;this.$emit("blurQuantity",this.id,t)}}},created:function(){this.value=this.quantity}},os=is,ns=Object(c["a"])(os,ss,as,!1,null,null,null);ns.options.__file="InputQuantity.vue";var rs=ns.exports,cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s-inline",btnAction:[{name:t.$t("btn.mark_all"),action:t.markAll,data:{value:!0}},{name:t.$t("btn.reset"),action:t.markAll,data:{value:!1}},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-block",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-table__table modal-table__table-collapse"},[s("div",{staticClass:"modal-table__row"},t._l(t.hours.list,function(e,a){return s("div",{key:a,staticClass:"modal-table__cell"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-block__box"},[s("div",{staticClass:"modal-checkbox",class:{active:e.all},on:{click:function(s){t.setAllActiveDay(e)}}}),t._l(e.items,function(e,a){return s("div",{key:a},[s("div",{staticClass:"modal-checkbox",class:{active:e.active},on:{click:function(s){t.toggleHour(e)}}},[s("span",{staticClass:"label-checkbox"},[t._v(t._s(e.title))])])])})],2),s("div",{staticClass:"modal-row__label"},[t._v(t._s(e.title))])])])}))])])])},ls=[],ds={name:"edit-hours",data:function(){return{hours:{value:0,binare:"",list:[{title:this.$t("date.monday"),all:!1,items:[]},{title:this.$t("date.tuesday"),all:!1,items:[]},{title:this.$t("date.wednesday"),all:!1,items:[]},{title:this.$t("date.thursday"),all:!1,items:[]},{title:this.$t("date.friday"),all:!1,items:[]},{title:this.$t("date.saturday"),all:!1,items:[]},{title:this.$t("date.sunday"),all:!1,items:[]}]}}},components:{Modal:Ge},props:["activeItem","closeModal","title"],methods:{cancelModal:function(){this.resetModal(),this.closeModal()},applyModal:function(){this.$emit("setHours",this.hours.binare),this.closeModal()},resetModal:function(){this.closeModal()},toggleHour:function(t){t.active=!t.active,this.computedBinare()},computedBinare:function(){var t="";this.hours.list.map(function(e){var s=!0;e.items.map(function(e){e.active?t+="1":(t+="0",s=!1)}),e.all=!!s}),this.hours.binare=t},setList:function(){var t=this,e=this.activeItem.hours;this.hours.list.map(function(s,a){for(var i=0;i<24;i++){var o=!!parseInt(e[24*a+i]);s.items.push({title:t.pad2(i)+"-"+t.pad2(i+1),active:o})}return s}),this.computedBinare()},setAllActiveDay:function(t){t.all=!t.all,t.items.map(function(e){return e.active=t.all,e}),this.computedBinare()},markAll:function(t){this.hours.list.map(function(e){return e.all=t.value,e.items.map(function(e){return e.active=t.value,e}),e}),this.computedBinare()},pad2:function(t){return t<10?"0"+t:t}},created:function(){this.setList()}},_s=ds,us=Object(c["a"])(_s,cs,ls,!1,null,null,null);us.options.__file="EditHours.vue";var ms=us.exports,ps=s("b012"),vs={name:"edit-item",data:function(){return{editHoursStatus:!1,quantityV:0,changeMode:!1,changeIngredientMode:!1,activeRow:-1,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},treeselectIngr:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},itemProperty:{item_id:0,name:"",parent_id:0,description:"",is_file:!0,cashback:null,days:0,max_discount:0,prime_cost:0,retail_price:0,status:1,type:0,valid_ingredients:0,hours:""},newIngredient:null,activeIngredient:-1,activeIngredientIndex:-1,ingredientQuantity:0,activeQuantity:-1,propertyChange:{item_id:!1,new_item_id:!1,new_name:!1,new_max_discount:!1,new_description:!1,new_retail_price:!1,new_type:!1,new_parent_id:!1,new_cashback:!1,new_status:!1,new_days:!1,new_hours:!1},copyItem:{}}},components:{Treeselect:Ce.a,Modal:Ge,InputQuantity:rs,EditHours:ms},props:["activeItem","closeModal","title"],computed:Object(u["b"])({ingredientList:function(t){return t.menu.ingredientList},ingredientTree:function(t){return t.menu.ingredientTree},totalPrice:function(){var t=0;return this.ingredientList.map(function(e){t+=e.item_quantity*e.prime_cost}),t},treeSelectList:function(t){var e=this.itemProperty.parent_id,s=function t(s){return s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s}),s};return s(t.menu.treeFolder)},errorId:function(t){return t.menu.errorId}}),methods:{closeEditHours:function(){this.editHoursStatus=!1},checkId:Object(ps["debounce"])(function(){this.$store.dispatch("menu/checkId",{id:this.itemProperty.item_id})},100),setChangeMode:function(){this.changeMode=!0},setCategory:function(){this.changeMode=!0},setAvailableStatus:function(){this.changeMode=!0,this.itemProperty.status=this.itemProperty.status?0:1},addIngredient:function(t){var e=this,s=this.ingredientList.filter(function(e){return e.item_id==t.id});s.length?setTimeout(this.resetIngredient.bind(null,"newIngredient",null),0):this.$store.dispatch("menu/addIngredient",{id:t.id}).then(function(){setTimeout(e.resetIngredient.bind(null,"newIngredient",null),0)}).then(function(){e.changeMode=!0,e.changeIngredientMode=!0})},resetIngredient:function(t,e){this[t]=e},blurQuantity:function(t,e){this.activeQuantity=-1;var s=!1,a=this.ingredientList;a=a.map(function(a){return a.item_id==t&&a.item_quantity!=e?(s=!0,Object.assign(a,{item_quantity:e})):a}),s&&(this.changeMode=!0,this.changeIngredientMode=!0,this.$store.commit("menu/setIngredientList",a))},changeIngredient:function(t){var e=this,s=this.ingredientList.filter(function(e){return e.item_id==t.id});s.length?setTimeout(this.resetIngredient.bind(null,"activeIngredient",this.activeIngredient),0):this.$store.dispatch("menu/changeIngredient",{id_prev:this.activeIngredient,id_next:t.id}).then(function(){e.changeMode=!0,e.changeIngredientMode=!0})},cancelModal:function(){this.resetModal(),this.closeModal()},setActiveIngredient:function(t,e){this.activeRow=e,this.activeIngredient=t.item_id},openSelect:function(t){this.activeIngredientIndex=t},closeSelect:function(){this.activeIngredientIndex=-1},applyModal:function(){var t=this;if(!this.errorId){if(null!=this.activeItem){if(this.changeMode){this.propertyChange.item_id=this.activeItem.item_id;var e=Object.keys(this.propertyChange),s=!1,a={};if(e.map(function(e){if("item_id"==e)return e;var a=e.replace(/new_/g,"");return t.itemProperty[a]!=t.copyItem[a]&&(t.propertyChange[e]=t.itemProperty[a],s=!0),e}).map(function(e){return!1!==t.propertyChange[e]&&(a[e]=t.propertyChange[e]),e}),this.itemProperty["item_id"]!=this.copyItem["item_id"]&&(a["new_id"]=parseInt(this.itemProperty["item_id"]),s=!0),this.changeIngredientMode){var i=this.ingredientList;i=i.map(function(t){return{item_id:t.item_id,item_quantity:t.item_quantity}}),a["new_ingredients"]=i,s=!0}s&&this.$store.dispatch("menu/updateDish",a)}}else{var o={parent_id:this.$store.state.menu.activeCategory.item_id,name:this.itemProperty["name"]};this.$store.dispatch("menu/addDish",o)}this.closeModal()}},resetModal:function(){this.itemProperty=Object.assign({},this.copyItem),null!=this.activeItem?this.$store.dispatch("menu/setIngredientList",this.activeItem.item_id):this.$store.dispatch("menu/setIngredientList",-1),this.changeMode=!1,this.changeIngredientMode=!1},setDays:function(t){this.itemProperty.days=this.itemProperty.days&t?this.itemProperty.days^t:this.itemProperty.days|t,this.changeMode=!0},setHours:function(t){this.itemProperty.hours=t,this.changeMode=!0}},created:function(){var t=this;if(null!=this.activeItem){var e=Object.keys(this.itemProperty);e.map(function(e){t.itemProperty[e]=t.activeItem[e]})}this.copyItem=Object.assign({},this.itemProperty),this.$store.commit("menu/checkId",{exists:!1})}},hs=vs,fs=Object(c["a"])(hs,ts,es,!1,null,null,null);fs.options.__file="EditItem.vue";var bs=fs.exports,ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,btnAction:[{name:t.$t("btn.reset"),action:t.resetModal},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-menu-category",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"value-consists-of":t.treeselect.valueConsistsOf,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,value:t.categoryId,options:t.treeSelectList},on:{select:t.setCategory}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.category_name")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.categoryPath}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.path")))])])])])])])},gs=[],Cs={name:"edit-category",data:function(){return{categoryName:"",prevCategoryId:-1,activeRow:-1,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!0,valueConsistsOf:"ALL_WITH_INDETERMINATE",appendToBody:!1,showCount:!0}}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","title","closeModal"],computed:Object(u["b"])({treeSelectList:function(t){var e=0,s=function t(s){return s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s}),s};return s(t.menu.treeFolder)},categoryId:function(t){return t.menu.activeCategory.item_id},categoryPath:function(t){var e="";return t.menu.categoryPath.map(function(t){e+=t.name+" / "}),e+=this.categoryName,e}}),methods:{setCategory:function(t){this.$store.dispatch("menu/findListItem",{parent_id:t.id,item_id:-1})},applyModal:function(){this.$store.dispatch("menu/addCategory",{parent_id:this.categoryId,name:this.categoryName}),this.closeModal()},cancelModal:function(){this.setCategory({id:this.prevCategoryId}),this.closeModal()},resetModal:function(){this.categoryName="",this.setCategory({id:this.prevCategoryId})}},mounted:function(){this.prevCategoryId=this.$store.state.menu.activeCategory.item_id}},ws=Cs,xs=Object(c["a"])(ws,ys,gs,!1,null,null,null);xs.options.__file="EditCategory.vue";var ks=xs.exports,$s={name:"panel",mixins:[ue],components:{CovePanel:Re,SearchPanel:Qe,Modal:Ge,EditItem:bs,EditCategory:ks},data:function(){return{showModal:!1,editItem:!1,activeItem:{},editCategory:!1,frame:!0}},methods:{addDish:function(){var t=this,e={parent_id:this.$store.state.menu.activeCategory.item_id,name:""};this.$store.dispatch("menu/addDish",e).then(function(e){return t.$store.commit("menu/setActiveItemId",{id:e.item_id}),t.$store.dispatch("menu/setIngredientList",-1),e}).then(function(e){t.activeItem=Object.assign({},e),t.editItem=!0}).then(function(){t.$store.dispatch("menu/menu")})},addCategory:function(){this.editCategory=!0},closeModal:function(){this.editCategory=!1,this.editItem=!1},print:function(){if(this.$store.state.menu.menuStatus){this.frame=!0;var t=this.$refs.qframe;t.contentWindow.document.body.innerHTML="";var e='\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n\n                  .print-title {\n                      border-top: 2px solid #000;\n                      border-bottom: 2px solid #000;\n                      border-right: 1px solid #000;\n                      border-left: 1px solid #000;\n                      font-size: 16pt;\n                      padding: 2pt 8pt;\n                  }\n                  .print-wrap {\n                      width: 100%;\n                      height: 100%;\n                  }\n                  .print-table {\n                      width: 100%;\n                      display: table;\n                  }\n                  .print-table-head{\n                      font-weight: bold;\n                  }\n                  .print-table__block {\n                      width: 100%;\n                      margin-bottom: 10px;\n                      page-break-inside: avoid;\n                  }\n                  .print-table__row {\n                      display: table-row;\n                  }\n                  .print-table__cell {\n                      padding: 5pt 10pt 5pt 8pt;\n                      display: table-cell;\n                      border-bottom: 1px solid #000;\n                      border-left: 1px solid #000;\n                  }\n                  .print-table .print-table__row:last-child .print-table__cell{\n                      page-break-inside: avoid;\n                  }\n                  .print-table__cell[name="id"] {\n                      width: 12%;\n                  }\n                  .print-table__cell[name="name"] {\n                      width: 30%;\n                  }\n                  .print-table__cell[name="type"] {\n                      width: 10%;\n                  }\n                  .print-table__cell[name="retail_price"] {\n                      width: 15%;\n                  }\n                  .print-table__cell[name="prime_cost"] {\n                      width: 15%;\n                  }\n                  .print-table__cell[name="last_update"] {\n                      width: 18%;\n                      white-space: nowrap;\n                      border-right: 1px solid #000;\n                  }\n                  .ss{\n\n                  }\n              }',s=document.createElement("style");s.appendChild(document.createTextNode(e)),t.contentWindow.document.body.appendChild(s);var a=this.createElem(null,{tag:"div",className:["print-wrap"],attribute:{id:"menu"}});this.createList([this.$store.state.menu.activeCategory],"",a),t.contentWindow.document.body.appendChild(a),t.contentWindow.print()}},createList:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;if(this.$store.state.menu.categoryPath.length-1>0)for(var i=this.$store.state.menu.categoryPath,o=0,n=i.length-1;o<n;o++)s+=i[o].name,s+=o<n-1?" / ":"";t.map(function(t){if(!t.is_file){var i=t.children.filter(function(t){return t.is_file}),o=s?s+" / "+t.name:t.name;if(i.length){var n=e.createElem(a,{tag:"div",className:["print-table__block","ss"]});e.createElem(n,{tag:"div",text:o,className:["print-title"]});var r=e.createElem(n,{tag:"table",className:["print-table"],attribute:{cellpadding:"0",cellspacing:"0",width:"100%"}}),c=e.createElem(r,{tag:"tr",className:["print-table__row","print-table-head"]}),l=[{name:"Id",attr:"print-table__cell"},{name:"Name",attr:"name"},{name:"Type",attr:"type"},{name:"Retail price",attr:"retail_price"},{name:"Prime cost",attr:"prime_cost"},{name:"Last update",attr:"last_update"}];l.map(function(t){e.createElem(c,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:t.attr}})}),i.map(function(t){var s=e.createElem(r,{tag:"tr",className:["print-table__row"]});e.createElem(s,{tag:"td",text:t.item_id,className:["print-table__cell"],attribute:{name:"id"}}),e.createElem(s,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:"name"}}),e.createElem(s,{tag:"td",text:t.type?"Kitchen":"Bar",className:["print-table__cell"],attribute:{name:"type"}}),e.createElem(s,{tag:"td",text:t.retail_price.toFixed(2),className:["print-table__cell"],attribute:{name:"retail_price"}}),e.createElem(s,{tag:"td",text:t.prime_cost.toFixed(2),className:["print-table__cell"],attribute:{name:"prime_cost"}}),e.createElem(s,{tag:"td",text:e.getTime(t.last_update),className:["print-table__cell"],attribute:{name:"last_update"}})})}t.children.length&&e.createList(t.children,o,a)}})},createElem:function(t,e){var s=Object.assign({tag:"div"},e),a=document.createElement(s.tag);if(t=t||null,s.hasOwnProperty("className")&&(a.className=s.className.join(" ")),s.hasOwnProperty("text")&&(a.innerHTML=s.text),s.hasOwnProperty("attribute"))for(var i=Object.keys(s.attribute),o=0;o<i.length;o++)a.setAttribute(i[o],s.attribute[i[o]]);return t&&t.appendChild(a),s.hasOwnProperty("content")&&s.content(a),a}}},Ps=$s,Os=Object(c["a"])(Ps,Ae,Fe,!1,null,null,null);Os.options.__file="Panel.vue";var Ss=Os.exports,Is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrap",staticClass:"cove-category__wrap",style:t.setWidth},[t.menuStatus&&t.activeCategory?s("category-path",{attrs:{pathList:t.pathList}}):t._e(),t.menuStatus&&t.activeCategory?s("div",{ref:"category-container",staticClass:"cove-category__container"},[s("div",{staticClass:"cove-category__box"},[t.pathList.length>1?s("div",{staticClass:"category-name category-name__back",on:{click:function(e){t.backToRoot()}}},[t._v("\n                Back to "+t._s(t.activeCategory.root.name.toLowerCase())+"\n            ")]):t._e(),t._l(t.activeCategory.list.folders,function(t,e){return s("category-item",{key:e,attrs:{cat:t}})})],2)]):t._e()],1)},Ms=[],Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-name",on:{click:function(e){t.setActiveCategory(t.cat)}}},[s("div",{staticClass:"title"},[t._v(t._s(t.cat.name.toLowerCase()))])])},Es=[],Ts={name:"category-item",props:["cat"],methods:{setActiveCategory:function(t){this.$store.dispatch("menu/setActiveCategory",{item:t,list:t.children})}}},As=Ts,Fs=Object(c["a"])(As,Ls,Es,!1,null,null,null);Fs.options.__file="CategoryItem.vue";var js=Fs.exports,qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-category__path"},[s("div",{staticClass:"cove-category__path-back",on:{click:t.back}}),s("div",{staticClass:"cove-category__path-box"},t._l(t.pathList,function(e,a){return s("div",{key:a,staticClass:"cove-category__path-item"},[s("div",{staticClass:"cove-category__path-name",on:{click:function(s){t.toCategory(e)}}},[t._v(t._s(e.name))]),a+1!=t.pathList.length?s("div",{staticClass:"cove-category__path-separator"},[t._v("/")]):t._e()])}))])},Ds=[],Ns={name:"category-path",props:["pathList"],methods:{back:function(){var t=this.pathList.length>2?this.pathList.length-2:0;this.$store.dispatch("menu/setCategoryFromPath",this.pathList[t])},toCategory:function(t){this.$store.dispatch("menu/setCategoryFromPath",t)}}},Bs=Ns,Rs=Object(c["a"])(Bs,qs,Ds,!1,null,null,null);Rs.options.__file="CategoryPath.vue";var Ws=Rs.exports,zs={name:"MenuCategory",props:["dx","endResize"],data:function(){return{searchPath:[],width:0}},components:{CategoryItem:js,CategoryPath:Ws},computed:Object(u["b"])({setWidth:function(){var t=this.width-this.dx;return this.endResize||this.$nextTick(function(){this.width=this.$el.clientWidth,this.$emit("setDx",0)}),-1==this.endResize?this.width?{width:this.width+"px"}:{}:{width:t+"px"}},setActive:function(t){return this.searchPath=[0].concat(Object(I["a"])(t.menu.searchPath)),{itemActive:t.menu.isActiveMenuItem,activeCategory:t.menu.activeCategory}},pathList:function(t){return t.menu.categoryPath},activeCategory:function(t){if(0===Object.keys(t.menu.activeCategory).length)return!1;var e={folders:t.menu.activeCategory.children.filter(function(t){return!t.is_file}),files:t.menu.activeCategory.children.filter(function(t){return t.is_file})};return{root:t.menu.menu[0],item:t.menu.activeCategory,list:e}},menuStatus:function(t){return t.menu.menuStatus}}),methods:{backToRoot:function(){this.$store.dispatch("menu/setActiveCategory",{item:this.activeCategory.root,list:this.activeCategory.root.children})}},mounted:function(){this.width=this.$el.clientWidth}},Hs=zs,Us=Object(c["a"])(Hs,Is,Ms,!1,null,null,null);Us.options.__file="MenuCategory.vue";var Vs=Us.exports,Qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-list-wrap"},[s("div",{staticClass:"cove-list-container",attrs:{id:"cove-list-container"}},[s("list-table",[s("list-item")],1)],1)])},Ys=[],Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-table"},[s("div",{staticClass:"list-header"},t._l(t.listHeader,function(e,a){return s("div",{key:a,staticClass:"list-header_item",class:["list-header_item-"+e.name,{active:t.active==e.name},t.dir.toLowerCase(),{scroll_table:t.scroll}],on:{click:function(s){t.sortList(e.name)}}},[t._v(t._s(t.$t("menu.table."+e.title))+"\n      ")])})),t._t("default")],2)},Ks=[],Js={name:"list-table",data:function(){return{activeItem:"name",dir:"ASC",scroll:!1,listHeader:[{name:"item_id",title:"id"},{name:"name",title:"name"},{name:"max_discount",title:"discount"},{name:"cashback",title:"fix_cashback"},{name:"type",title:"menu_type"},{name:"retail_price",title:"retail_price"},{name:"prime_cost",title:"cost_price"},{name:"max_discount",title:"max_discount"},{name:"last_update",title:"last_update"}]}},computed:{active:function(){return this.activeItem}},methods:{fixHeader:function(t){var e="translate(0,"+t.scrollTop+"px)";this.scroll=!!t.scrollTop,document.querySelector(".list-header").style.transform=e},sortList:function(t){var e="";this.activeItem!=t?(this.activeItem=t,e=this.dir,this.$store.dispatch("menu/sortList",{propname:t,dir:e})):(e="ASC"==this.dir?"DESC":"ASC",this.dir=e,this.$store.dispatch("menu/sortList",{propname:t,dir:e}))}},mounted:function(){var t=document.getElementById("cove-list-container");t.addEventListener("scroll",this.fixHeader.bind(null,t))}},Xs=Js,Gs=Object(c["a"])(Xs,Zs,Ks,!1,null,null,null);Gs.options.__file="ListTable.vue";var ta=Gs.exports,ea=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.menuStatus?s("div",{staticClass:"list-item_tbody"},[t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"list-item_row",class:{active:t.activeItemIndex==a},on:{click:function(s){t.toggle(e,a)}}},[s("div",{staticClass:"list-item_item list-item_item-id"},[t._v(t._s(t.isFolder(e.is_file)?"":e.item_id))]),s("div",{key:a,staticClass:"list-item_item list-item_item-name",class:[t.isFolder(e.is_file)?"folder":"nofolder",{active:t.activeItemIndex==a},{empty:!e.valid_ingredients&&!t.isFolder(e.is_file)}],attrs:{opened:t.open?"-":"+"},on:{contextmenu:function(s){s.preventDefault(),t.onShowCntxMenu(s,e,a)},dblclick:function(s){t.getItem(e,a)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.editItemMode!=a,expression:"editItemMode != index"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: item.name}"}]},[t._v(t._s(e.name.toLowerCase()))]),s("input",{directives:[{name:"show",rawName:"v-show",value:t.editItemMode==a,expression:"editItemMode == index"}],ref:"item-name",refInFor:!0,domProps:{value:e.name.toLowerCase()},on:{blur:function(s){t.setName(a,e)},keydown:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;s.preventDefault(),t.checkKey(a,e)}}})]),s("div",{staticClass:"list-item_item list-item_item-discount"},[s("span",[t._v(t._s(t.isFolder(e.is_file)?"":(e.max_discount||0)+"%"))])]),s("div",{staticClass:"list-item_item list-item_item-cashback"},[t._v(t._s(t.isFolder(e.is_file)?"":(e.cashback||0).toFixed(2))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-type"},[t._v(t._s(t.isFolder(e.is_file)?"":e.type?t.$t("menu.table.kitchen"):t.$t("menu.table.bar"))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-retail"},[t._v(t._s(t.isFolder(e.is_file)?"":e.retail_price.toFixed(2))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-cost"},[t._v(t._s(t.isFolder(e.is_file)?"":e.prime_cost.toFixed(2))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-max_discount"},[t._v(t._s(t.isFolder(e.is_file)?"":(e.retail_price-e.retail_price*e.max_discount/100).toFixed(2))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-update"},[t._v(t._s(t.isFolder(e.is_file)?"":t.getTime(e.last_update))+"\n    ")])])}),t.showModal?s("edit-item",{attrs:{closeModal:t.closeModal,activeItem:t.activeItem,title:t.$t("menu.new_dish.titles.edit")}}):t._e(),t.showCntxMenu?s("ContextMenu",{attrs:{showCntxMenu:t.showCntxMenu,cntxPos:t.cntxPos,cntxIndex:t.cntxIndex,id:t.id,cntxItem:t.cntxItem},on:{close:t.onCloseCntxMenu,setEditName:t.setEditName,editProperty:t.editProperty,changeData:t.changeData,getItem:t.getItem}}):t._e()],2):t._e()},sa=[],aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"cntxMenu",staticClass:"cove-context-menu",attrs:{tabindex:"-1"},on:{blur:function(e){t.$emit("close")}}},[t.cntxItem.is_file?t._e():s("ul",[s("li",{on:{click:t.open}},[t._v(t._s(t.$t("context_menu.open")))]),s("li",{on:{click:t.rename}},[t._v(t._s(t.$t("context_menu.rename")))]),s("li",{on:{click:t.remove}},[t._v(t._s(t.$t("context_menu.remove")))])]),t.cntxItem.is_file?s("ul",[s("li",{on:{click:t.open}},[t._v(t._s(t.$t("context_menu.open")))]),s("li",{on:{click:t.rename}},[t._v(t._s(t.$t("context_menu.rename")))]),s("li",{on:{click:t.remove}},[t._v(t._s(t.$t("context_menu.remove")))]),s("li",{on:{click:t.reset}},[t._v(t._s(t.$t("context_menu.reset_dis")))]),s("li",{staticClass:"cove-context-menu__box",on:{mouseover:t.showinner}},[t._v(t._s(t.$t("context_menu.set_discount"))+"\n            "),s("ul",{ref:"inner",staticClass:"inner"},[s("li",{on:{click:function(e){t.setdis(5)}}},[t._v("5%")]),s("li",{on:{click:function(e){t.setdis(10)}}},[t._v("10%")]),s("li",{on:{click:function(e){t.setdis(15)}}},[t._v("15%")]),s("li",{on:{click:function(e){t.setdis(20)}}},[t._v("20%")])])])]):t._e()])},ia=[],oa={name:"ContextMenu",props:["showCntxMenu","cntxPos","id","cntxItem","cntxIndex","editProperty","changeData","getItem"],components:{},data:function(){return{discount:""}},methods:{rename:function(){this.$emit("setEditName",this.cntxIndex),this.$emit("close")},remove:function(){this.$store.dispatch("menu/removeItem",this.cntxItem),this.$emit("close")},reset:function(){this.cntxItem.is_file&&(this.$emit("editProperty",this.cntxItem,"max_discount",0),this.$emit("close"))},setdis:function(t){this.cntxItem.is_file&&(this.$emit("editProperty",this.cntxItem,"max_discount",t),this.$emit("close"))},showinner:function(){var t=this.$refs.inner.getBoundingClientRect(),e=window.innerHeight-t.height,s=e>t.top?this.$refs.inner.offsetTop:-(t.height-this.$refs.inner.parentElement.clientHeight-2);this.$refs.inner.style.top=s+"px"},open:function(){this.$emit("getItem",this.cntxItem),this.$emit("close")}},mounted:function(){if(this.showCntxMenu){var t=window.innerHeight-this.$refs.cntxMenu.offsetHeight,e=t>this.cntxPos.top?this.cntxPos.top:t-10;this.$refs.cntxMenu.style.top=e+"px",this.$refs.cntxMenu.style.left=this.cntxPos.left+"px",this.$refs.cntxMenu.focus()}}},na=oa,ra=Object(c["a"])(na,aa,ia,!1,null,null,null);ra.options.__file="ContextMenu.vue";var ca=ra.exports,la={name:"list-item",mixins:[ue],components:{ContextMenu:ca,EditItem:bs},data:function(){return{open:!1,showModal:!1,showCntxMenu:!1,cntxPos:{top:0,left:0},id:"",cntxItem:{},cntxIndex:-1,activeItem:{},activeItemIndex:-1,editItemMode:-1,editNameDone:!1}},computed:Object(u["b"])({isActiveMenuItem:function(t){return t.menu.isActiveMenuItem},list:function(t){return this.activeItemIndex=-1,this.editItemMode=-1,t.menu.activeCategoryList},menuStatus:function(t){return t.menu.menuStatus}}),methods:{onCloseCntxMenu:function(){this.showCntxMenu=!1},onShowCntxMenu:function(t,e,s){this.cntxPos.top=t.y,this.cntxPos.left=t.x,this.id=e.item_id,this.cntxItem=Object.assign({},e),this.cntxIndex=s,this.showCntxMenu=!0,this.activeItemIndex=s,e.is_file?this.activeItem=Object.assign({},e):this.activeItem=!1},closeModal:function(){this.showModal=!1},isFolder:function(t){return!t},getItem:function(t,e){var s=this;this.editItemMode!=e&&(t.is_file?this.$store.dispatch("menu/setIngredientList",t.item_id).then(function(){s.$store.commit("menu/setActiveItemId",{id:t.item_id})}).then(function(){s.showModal=!0}):this.$store.dispatch("menu/setActiveCategory",{item:Object.assign({},t),list:t.children}))},toggle:function(t,e){this.activeItemIndex!=e&&(this.activeItemIndex=e,this.activeItem=Object.assign({},t))},changeData:function(t,e){this[t]=e},setEditName:function(t){this.activeItemIndex=t,this.editItemMode=t,setTimeout(function(){this.editItemMode>=0&&this.$refs["item-name"][t].focus()}.bind(this),0)},editProperty:function(t,e,s){this.$store.dispatch("menu/setItemProp",{item:Object.assign({},t),property:e,value:s})},setName:function(t,e){this.editItemMode=-1,this.editNameDone?this.editNameDone=!1:e.name!=this.$refs["item-name"][t].value&&(this.$refs["item-name"][t].scrollLeft=0,this.editProperty(e,"name",this.$refs["item-name"][t].value.trim()))},checkKey:function(t,e){this.setName(t,e,!0),this.editNameDone=!0},cloneItem:function(){this.activeItem&&(event.preventDefault(),event.stopPropagation(),this.$store.dispatch("menu/cloneDish",Object.assign({},this.activeItem)))},keyDown:function(t){t=t||window.event;var e=t.which||t.keyCode,s=t.ctrlKey?t.ctrlKey:17===e;67==e&&s&&this.cloneItem(),27==e&&(this.showModal=!1)}},mounted:function(){var t=document.getElementById("cove-list-container");t.addEventListener("scroll",this.onCloseCntxMenu),window.addEventListener("keydown",this.keyDown,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown)}},da=la,_a=Object(c["a"])(da,ea,sa,!1,null,null,null);_a.options.__file="ListItem.vue";var ua=_a.exports,ma={name:"MenuList",components:{ListTable:ta,ListItem:ua}},pa=ma,va=Object(c["a"])(pa,Qs,Ys,!1,null,null,null);va.options.__file="MenuList.vue";var ha=va.exports,fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-resizer"},[s("div",{ref:"handler",staticClass:"handler",on:{mousedown:function(e){t.setActive(e)}}})])},ba=[],ya={name:"cove-resizer",data:function(){return{active:!1,x:0}},methods:{setActive:function(t){this.active=!this.active,this.active?(this.x=t.clientX,this.$emit("setResize",!0),document.addEventListener("mouseup",this.setActive,{once:!0})):this.$emit("setResize",!1)},_getDx:function(t){if(t.preventDefault(),this.active){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(t.clientX>e-100)return;this.$emit("setDx",this.x-t.clientX)}}},mounted:function(){document.addEventListener("mousemove",this._getDx,!1)},beforeDestroy:function(){document.removeEventListener("mousemove",this._getDx)}},ga=ya,Ca=Object(c["a"])(ga,fa,ba,!1,null,null,null);Ca.options.__file="CoveResizer.vue";var wa=Ca.exports,xa={name:"AppMenu",components:{CoveMenu:Te,Panel:Ss,MenuCategory:Vs,MenuList:ha,CoveResizer:wa},data:function(){return{dx:0,endResize:-1}},computed:Object(u["b"])({menuStatus:function(t){return t.menu.menuStatus}}),created:function(){this.fetchData()},methods:{fetchData:function(){this.$store.dispatch("menu/menu"),this.$store.dispatch("menu/setIngredientStore")},setDx:function(t){this.dx=t},setResize:function(t){this.endResize=t}}},ka=xa,$a=Object(c["a"])(ka,Pe,Oe,!1,null,null,null);$a.options.__file="AppMenu.vue";var Pa=$a.exports,Oa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-stock",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("StockCategory",{attrs:{slot:"category",dx:t.dx,endResize:t.endResize},on:{setDx:t.setDx},slot:"category"}),s("CoveResizer",{attrs:{slot:"resizer"},on:{setDx:t.setDx,setResize:t.setResize},slot:"resizer"}),s("StockList",{attrs:{slot:"list"},slot:"list"}),t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e()],1)},Sa=[],Ia=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("category"),t._t("resizer"),t._t("list")],2),t._t("default")],2)},Ma=[],La={name:"cove-stock"},Ea=La,Ta=Object(c["a"])(Ea,Ia,Ma,!1,null,null,null);Ta.options.__file="CoveStock.vue";var Aa=Ta.exports,Fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))]),s("div",{staticClass:"cove-panel__link",on:{click:t.addNew}},[t._v(t._s(t.$t("panel.add_to_stock")))])]),s("search-panel",{attrs:{slot:"right",modul:"stock"},slot:"right"}),s("div",{attrs:{slot:"future"},slot:"future"},[t.editItem?s("item-add",{attrs:{closeModal:t.closeModal,activeItem:null,title:t.$t("stock.add_to_stock.add_to_stock")}}):t._e(),s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}})],1)],1)},ja=[],qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s10",btnAction:[{name:t.$t("btn.reset"),action:t.resetModal,active:t.stockAddList.items.length},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal,active:t.stockAddList.items.length}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"properties"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.add_to_stock.new_product")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.barcode,expression:"itemProperty.barcode"}],staticClass:"cove-input",attrs:{type:"text"},domProps:{value:t.itemProperty.barcode},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.findProductByBarcode(e):null},input:function(e){e.target.composing||t.$set(t.itemProperty,"barcode",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.barcode")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"c-search__wrap"},[s("div",{ref:"search",staticClass:"c-search__box",class:{active:t.showSearch}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.name,expression:"itemProperty.name"}],attrs:{type:"text"},domProps:{value:t.itemProperty.name},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"name",e.target.value)},t.inputName],focus:function(e){t.showSearch=!0}}}),t.showSearch?s("div",{staticClass:"c-search__list"},t._l(t.productList,function(e,a){return s("div",{key:a,staticClass:"c-search__list-item",on:{click:function(s){t.searchSelect(e)}}},[t._v(t._s(e.name))])})):t._e()]),s("div",{staticClass:"modal-row__label",style:{"z-index":11}},[t._v(t._s(t.$t("stock.add_to_stock.name")))])])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.categoryList},on:{select:t.setParentName},model:{value:t.itemProperty.parent_id,callback:function(e){t.$set(t.itemProperty,"parent_id",e)},expression:"itemProperty.parent_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.stockCategories},on:{select:t.setCategoryName},model:{value:t.itemProperty.category_id,callback:function(e){t.$set(t.itemProperty,"category_id",e)},expression:"itemProperty.category_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.type_records")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.measureList},on:{select:t.setMeasureName},model:{value:t.itemProperty.measure_id,callback:function(e){t.$set(t.itemProperty,"measure_id",e)},expression:"itemProperty.measure_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_mesurment")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.description,expression:"itemProperty.description"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.description},on:{input:function(e){e.target.composing||t.$set(t.itemProperty,"description",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.description")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.quantity,expression:"itemProperty.quantity",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.quantity},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"quantity",t._n(e.target.value))},t.recalQ],focus:function(e){t.checkZeroFocus("quantity")},blur:[function(e){t.checkZeroBlur("quantity")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.quantity")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.price,expression:"itemProperty.price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.price},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"price",t._n(e.target.value))},t.recalP],focus:function(e){t.checkZeroFocus("price")},blur:[function(e){t.checkZeroBlur("price")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.total_price,expression:"itemProperty.total_price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number"},domProps:{value:t.itemProperty.total_price},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"total_price",t._n(e.target.value))},t.recalT],focus:function(e){t.checkZeroFocus("total_price")},blur:[function(e){t.checkZeroBlur("total_price")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.total_price")))])])]),s("div",{staticClass:"modal-row c-text-right c-nowrap"},[s("div",{staticClass:"modal-default-button",on:{click:t.clear}},[t._v(t._s(t.$t("stock.add_to_stock.clear")))]),s("div",{staticClass:"modal-default-button",class:{"c-btn__disabled":!t.existActive},on:{click:t.editItem}},[t._v(t._s(t.$t("stock.add_to_stock.edit")))]),s("div",{staticClass:"modal-default-button",class:{"c-btn__disabled":!t.readyToAdd},on:{click:t.addItem}},[t._v(t._s(t.$t("stock.add_to_stock.add")))])])]),s("div",{staticClass:"modal-block",attrs:{name:"ingredients"}},[s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.add_to_stock.new_products")))])])]),s("div",{staticClass:"modal-table__row modal-row modal-table__100"},[s("div",{staticClass:"modal-table__cell modal-table__100 modal-table__padd"},[s("div",{ref:"wrap",staticClass:"modal-table__wrap"},[s("div",{staticClass:"modal-table",attrs:{name:"ingredients"}},[s("div",{ref:"table-body",staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.category_full")))]),s("div",{staticClass:"modal-table__cell",attrs:{name:"head-name"}},[t._v(t._s(t.$t("stock.add_to_stock.heads.name")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.mesurment")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.quantity")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.total_price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.expense")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.stockAddList.items,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",class:{active:t.itemProperty.id===e.id},attrs:{name:"items"},on:{click:function(s){t.setActive(e)}}},[s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.category_name))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"modal-table__cell modal-table__cell-quarted",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.measure_name))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(1==e.measure_id||3==e.measure_id?e.quantity.toFixed(3):e.quantity))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(t.VAT(e.total_price)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(t.VAT(e.price)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.category_name))])])}))])])])]),s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"property-value"},[t._v(t._s(t.VAT(t.totalCost)))]),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.total_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},t._l(t.checkbox,function(e,a){return s("div",{key:a,staticClass:"modal-btn__small",class:{checked:t.stockAddList[e.a]},on:{click:function(s){t.setCheckbox(e.a)}}},[t._v(t._s(e.name))])}))])])])])])])},Da=[],Na={name:"item-add",data:function(){return{count:0,checkbox:[{a:"use_own_funds",name:this.$t("stock.add_to_stock.use_own")},{a:"pay_later",name:this.$t("stock.add_to_stock.pay_later")},{a:"include_vat",name:this.$t("stock.add_to_stock.vat")}],treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},itemProperty:{id:!1,item_id:!1,barcode:"",parent_id:null,parent_name:"",measure_id:0,measure_name:"",category_id:0,category_name:"",name:"",quantity:0,price:"0.00",description:"",total_price:"0.00"},itemPropertyCopy:{},stockAddList:{use_own_funds:!1,include_vat:!1,pay_later:!1,items:[]},showSearch:!1}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","closeModal","title"],computed:Object(u["b"])({productList:function(t){var e=this,s=[];return this.itemProperty.name?(s=t.stock.productList.filter(function(t){if(t.name.toLowerCase().indexOf(e.itemProperty.name.toLowerCase())>-1)return t}),this.sortASC(s,"name")):s},measureList:function(t){var e=this,s=t.stock.measureList,a=s.map(function(t){var s=Object.assign({},t);return s.label=e.$t("measure."+t.label),s});return a},categoryList:function(t){return t.stock.treeFolder},stockCategories:function(t){return t.stock.stockCategories},readyToAdd:function(){var t=!1;return null!=this.itemProperty.parent_id&&this.itemProperty.name&&this.itemProperty.quantity>0&&parseFloat(this.itemProperty.price)>0&&(t=!0),t},existActive:function(){var t=this,e=!1;return this.stockAddList.items.map(function(s){s.id===t.itemProperty.id&&(e=!0)}),e},totalCost:function(){var t=0;return this.stockAddList.items.map(function(e){t+=parseFloat(e.total_price)}),t}}),watch:{"itemProperty.parent_id":{handler:function(t){var e=this.stockCategories.filter(function(e){return e.id==t});e.length&&(this.itemProperty.parent_name=e[0].label)},deep:!0},"itemProperty.category_id":{handler:function(t){var e=this.stockCategories.filter(function(e){return e.id==t});e.length&&(this.itemProperty.category_name=e[0].label)},deep:!0},"itemProperty.measure_id":{handler:function(t){var e=this.measureList.filter(function(e){return e.id==t});e.length&&(this.itemProperty.measure_name=e[0].label)},deep:!0}},methods:{recalQ:function(t){this.itemProperty.quantity<0&&(this.itemProperty.quantity=0),this.itemProperty.total_price=(this.itemProperty.price*this.itemProperty.quantity).toFixed(2)},recalP:function(t){this.itemProperty.price<0&&(this.itemProperty.price=0),this.itemProperty.total_price=(this.itemProperty.price*this.itemProperty.quantity).toFixed(2)},recalT:function(t){var e=!0;this.itemProperty.quantity||(e=!1),(parseInt(this.itemProperty.total_price)<0||0==parseInt(this.itemProperty.quantity))&&(this.itemProperty.total_price=0,e=!1),e&&(this.itemProperty.price=(this.itemProperty.total_price/this.itemProperty.quantity).toFixed(2))},cancelModal:function(){this.resetModal(),this.closeModal()},applyModal:function(){var t=this,e=Object.assign({},this.stockAddList);e.items=e.items.map(function(t){return t.item_id?{item_id:t.item_id,quantity:t.quantity,price:parseFloat(t.price)}:{name:t.name,parent_id:t.parent_id,category_id:t.category_id,description:t.description,quantity:t.quantity,price:parseFloat(t.price),measure_id:t.measure_id}}),this.$store.dispatch("stock/stockAdd",e).then(function(){t.$store.dispatch("stock/stock"),t.$store.dispatch("menu/menu")}),this.cancelModal()},resetModal:function(){this.clear(),this.stockAddList.use_own_funds=!1,this.stockAddList.include_vat=!1,this.stockAddList.pay_later=!1,this.stockAddList.items=[],this.count=0},clear:function(){Object.assign(this.itemProperty,this.itemPropertyCopy)},removeItem:function(){var t=this.itemProperty.id;this.stockAddList.items=this.stockAddList.items.filter(function(e){return e.id!=t}),this.clear()},addItem:function(){var t={id:this.count,item_id:this.itemProperty.item_id,name:this.itemProperty.name,parent_id:this.itemProperty.parent_id,category_id:this.itemProperty.category_id,category_name:this.itemProperty.category_name,description:this.itemProperty.description,quantity:this.itemProperty.quantity,price:this.itemProperty.price,total_price:this.itemProperty.total_price,measure_id:this.itemProperty.measure_id,measure_name:this.itemProperty.measure_name};this.count++,this.stockAddList.items.push(t),this.clear()},editItem:function(){var t=this;this.stockAddList.items.map(function(e){e.id==t.itemProperty.id&&(e=Object.assign(e,t.itemProperty))})},VAT:function(t){return this.stockAddList.include_vat?(parseFloat(t)+parseFloat(t)/100*7).toFixed(2):parseFloat(t).toFixed(2)},setActive:function(t){Object.assign(this.itemProperty,t)},setCheckbox:function(t){return this.stockAddList[t]=!this.stockAddList[t],this.stockAddList[t]},checkZeroFocus:function(t){0==parseInt(this.itemProperty[t])&&(this.itemProperty[t]="")},checkZeroBlur:function(t){var e="quantity"==t;""===this.itemProperty[t]?(this.itemProperty[t]=0,e||(this.itemProperty[t]=parseFloat(this.itemProperty[t]).toFixed(2))):e||(this.itemProperty[t]=parseFloat(this.itemProperty[t]).toFixed(2))},findProductByBarcode:function(){var t=this;this.itemProperty.barcode&&this.$store.dispatch("stock/findProductByBarcode",{barcode:this.itemProperty.barcode}).then(function(e){t.setItemProperty(e)})},setItemProperty:function(t){var e=t.category_id,s=t.item_id,a=t.description,i=t.name,o=t.measure_id,n=t.parent_id,r=t.quantity,c=t.stock_price;this.itemProperty.id=!!t.hasOwnProperty("id")&&t.id,this.itemProperty.item_id=s,this.itemProperty.name=i,this.itemProperty.parent_id=n,this.itemProperty.category_id=e,this.itemProperty.description=a,this.itemProperty.price=parseFloat(c).toFixed(2),this.itemProperty.measure_id=o,this.itemProperty.parent_id=n,this.itemProperty.total_price=parseFloat(this.itemProperty.price*r).toFixed(2)},inputName:Object(ps["debounce"])(function(){var t=this;this.itemProperty.item_id=!1,this.itemProperty.id=!1;var e=this.productList.filter(function(e){return e.name==t.itemProperty.name});e.length&&this.setItemProperty(e[0])},100),searchBlur:function(){this.showSearch&&event.target!=this.$refs.search&&!this.$refs.search.contains(event.target)&&(this.showSearch=!1)},searchSelect:function(t){this.setItemProperty(t),this.showSearch=!1},sortASC:function(t,e){return t.sort(function(t,s){var a="string"==typeof t[e]?t[e].toLowerCase():t[e],i="string"==typeof s[e]?s[e].toLowerCase():s[e];return a>i?1:a<i?-1:0}),t},setMeasureName:function(t){this.itemProperty.measure_name=t.label},setCategoryName:function(t){this.itemProperty.category_name=t.label},setParentName:function(t){this.itemProperty.parent_name=t.label},keyDown:function(t){t=t||window.event;var e=t.which||t.keyCode;46==e&&this.removeItem()}},created:function(){var t=this,e=this.stockCategories.filter(function(e){return e.id==t.itemProperty.category_id});e.length&&(this.itemProperty.category_name=e[0].label);var s=this.measureList.filter(function(e){return e.id==t.itemProperty.measure_id});s.length&&(this.itemProperty.measure_name=s[0].label),this.itemProperty.parent_id=this.$store.state.stock.activeCategoryId,this.itemPropertyCopy=Object.assign({},this.itemProperty)},mounted:function(){document.addEventListener("click",this.searchBlur,!1),window.addEventListener("keydown",this.keyDown,!1)},beforeDestroy:function(){document.removeEventListener("click",this.searchBlur),window.removeEventListener("keydown",this.keyDown)}},Ba=Na,Ra=Object(c["a"])(Ba,qa,Da,!1,null,null,null);Ra.options.__file="ItemAdd.vue";var Wa=Ra.exports,za=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,btnAction:[{name:t.$t("btn.reset"),action:t.resetModal},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-menu-category",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"value-consists-of":t.treeselect.valueConsistsOf,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,value:t.categoryId,options:t.treeSelectList},on:{select:t.setCategory}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.category_name")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.categoryPath}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_category.props.path")))])])])])])])},Ha=[],Ua={name:"edit-category",data:function(){return{categoryName:"",prevCategoryId:-1,activeRow:-1,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!0,valueConsistsOf:"ALL_WITH_INDETERMINATE",appendToBody:!1,showCount:!0}}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","title","closeModal"],computed:Object(u["b"])({treeSelectList:function(t){var e=0,s=function t(s){return s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s}),s};return s(t.menu.treeFolder)},categoryId:function(t){return t.menu.activeCategory.item_id},categoryPath:function(t){var e="";return t.menu.categoryPath.map(function(t){e+=t.name+" / "}),e+=this.categoryName,e}}),methods:{setCategory:function(t){this.$store.dispatch("menu/findListItem",{parent_id:t.id,item_id:-1})},applyModal:function(){this.$store.dispatch("menu/addCategory",{parent_id:this.categoryId,name:this.categoryName}),this.closeModal()},cancelModal:function(){this.setCategory({id:this.prevCategoryId}),this.closeModal()},resetModal:function(){this.categoryName="",this.setCategory({id:this.prevCategoryId})}},mounted:function(){this.prevCategoryId=this.$store.state.menu.activeCategory.item_id}},Va=Ua,Qa=Object(c["a"])(Va,za,Ha,!1,null,null,null);Qa.options.__file="EditCategory.vue";var Ya=Qa.exports,Za={name:"panel",mixins:[ue],components:{CovePanel:Re,SearchPanel:Qe,Modal:Ge,ItemAdd:Wa,EditCategory:Ya},data:function(){return{showModal:!1,editItem:!1,editCategory:!1,frame:!0}},methods:{addNew:function(){var t=this;this.$store.dispatch("menu/setIngredientList",-1).then(function(){t.editItem=!0})},addCategory:function(){this.editCategory=!0},closeModal:function(){this.editCategory=!1,this.editItem=!1},print:function(){if(this.$store.state.stock.stockStatus){this.frame=!0;var t=this.$refs.qframe;t.contentWindow.document.body.innerHTML="";var e='\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n\n                  .print-title {\n                      border-top: 2px solid #000;\n                      border-bottom: 2px solid #000;\n                      border-right: 1px solid #000;\n                      border-left: 1px solid #000;\n                      font-size: 16pt;\n                      padding: 2pt 8pt;\n                  }\n                  .print-wrap {\n                      width: 100%;\n                      height: 100%;\n                  }\n                  .print-table {\n                      width: 100%;\n                      display: table;\n                  }\n                  .print-table-head{\n                      font-weight: bold;\n                  }\n                  .print-table__block {\n                      width: 100%;\n                      margin-bottom: 10px;\n                      page-break-inside: avoid;\n                  }\n                  .print-table__row {\n                      display: table-row;\n                  }\n                  .print-table__cell {\n                      padding: 5pt 10pt 5pt 8pt;\n                      display: table-cell;\n                      border-bottom: 1px solid #000;\n                      border-left: 1px solid #000;\n                  }\n                  .print-table .print-table__row:last-child .print-table__cell{\n                      page-break-inside: avoid;\n                  }\n                  .print-table__cell[name="id"] {\n                      width: 12%;\n                  }\n                  .print-table__cell[name="name"] {\n                      width: 30%;\n                  }\n                  .print-table__cell[name="type"] {\n                      width: 10%;\n                  }\n                  .print-table__cell[name="retail_price"] {\n                      width: 15%;\n                  }\n                  .print-table__cell[name="prime_cost"] {\n                      width: 15%;\n                  }\n                  .print-table__cell[name="last_update"] {\n                      width: 18%;\n                      white-space: nowrap;\n                      border-right: 1px solid #000;\n                  }\n                  .ss{\n\n                  }\n              }',s=document.createElement("style");s.appendChild(document.createTextNode(e)),t.contentWindow.document.body.appendChild(s);var a=this.createElem(null,{tag:"div",className:["print-wrap"],attribute:{id:"stock"}});this.createList([this.$store.state.stock.activeCategory],"",a),t.contentWindow.document.body.appendChild(a),t.contentWindow.print()}},createList:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;if(this.$store.state.stock.categoryPath.length-1>0)for(var i=this.$store.state.stock.categoryPath,o=0,n=i.length-1;o<n;o++)s+=i[o].name,s+=o<n-1?" / ":"";t.map(function(t){if(!t.is_file){var i=t.children.filter(function(t){return t.is_file}),o=s?s+" / "+t.name:t.name;if(i.length){var n=e.createElem(a,{tag:"div",className:["print-table__block","ss"]});e.createElem(n,{tag:"div",text:o,className:["print-title"]});var r=e.createElem(n,{tag:"table",className:["print-table"],attribute:{cellpadding:"0",cellspacing:"0",width:"100%"}}),c=e.createElem(r,{tag:"tr",className:["print-table__row","print-table-head"]}),l=[{name:"Id",attr:"print-table__cell"},{name:"Name",attr:"name"},{name:"stock_price",attr:"stock_price"},{name:"quantity",attr:"quantity"},{name:"Last update",attr:"last_update"},{name:"category",attr:"category"}];l.map(function(t){e.createElem(c,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:t.attr}})}),i.map(function(t){var s=e.createElem(r,{tag:"tr",className:["print-table__row"]});e.createElem(s,{tag:"td",text:t.item_id,className:["print-table__cell"],attribute:{name:"id"}}),e.createElem(s,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:"name"}}),e.createElem(s,{tag:"td",text:t.stock_price.toFixed(2),className:["print-table__cell"],attribute:{name:"stock_price"}}),e.createElem(s,{tag:"td",text:("unit"!=t.measure_name?t.quantity.toFixed(2):t.quantity)+("unit"!=t.measure_name?" "+t.measure_name:""),className:["print-table__cell"],attribute:{name:"quantity"}}),e.createElem(s,{tag:"td",text:e.getTime(t.last_update),className:["print-table__cell"],attribute:{name:"last_update"}}),e.createElem(s,{tag:"td",text:t.category,className:["print-table__cell"],attribute:{name:"category"}})})}t.children.length&&e.createList(t.children,o,a)}})},createElem:function(t,e){var s=Object.assign({tag:"div"},e),a=document.createElement(s.tag);if(t=t||null,s.hasOwnProperty("className")&&(a.className=s.className.join(" ")),s.hasOwnProperty("text")&&(a.innerHTML=s.text),s.hasOwnProperty("attribute"))for(var i=Object.keys(s.attribute),o=0;o<i.length;o++)a.setAttribute(i[o],s.attribute[i[o]]);return t&&t.appendChild(a),s.hasOwnProperty("content")&&s.content(a),a},escape:function(t){t=t||window.event;var e=t.which||t.keyCode;27==e&&this.closeModal()}},mounted:function(){window.addEventListener("keydown",this.escape,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.escape)}},Ka=Za,Ja=Object(c["a"])(Ka,Fa,ja,!1,null,null,null);Ja.options.__file="Panel.vue";var Xa=Ja.exports,Ga=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrap",staticClass:"cove-category__wrap",style:t.setWidth},[t.stockStatus&&t.activeCategory?s("category-path",{attrs:{pathList:t.pathList}}):t._e(),t.stockStatus&&t.activeCategory?s("div",{ref:"category-container",staticClass:"cove-category__container"},[s("div",{staticClass:"cove-category__box"},[t.pathList.length>1?s("div",{staticClass:"category-name category-name__back",on:{click:function(e){t.backToRoot()}}},[t._v("\n                Back to "+t._s(t.activeCategory.root.name.toLowerCase())+"\n            ")]):t._e(),t._l(t.activeCategory.list.folders,function(t,e){return s("category-item",{key:e,attrs:{cat:t}})})],2)]):t._e()],1)},ti=[],ei=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category-name",on:{click:function(e){t.setActiveCategory(t.cat)}}},[s("div",{staticClass:"title"},[t._v(t._s(t.cat.name.toLowerCase()))])])},si=[],ai={name:"category-item",props:["cat"],methods:{setActiveCategory:function(t){this.$store.dispatch("stock/setActiveCategory",{item:t,list:t.children})}}},ii=ai,oi=Object(c["a"])(ii,ei,si,!1,null,null,null);oi.options.__file="CategoryItem.vue";var ni=oi.exports,ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-category__path"},[s("div",{staticClass:"cove-category__path-back",on:{click:t.back}}),s("div",{staticClass:"cove-category__path-box"},t._l(t.pathList,function(e,a){return s("div",{key:a,staticClass:"cove-category__path-item"},[s("div",{staticClass:"cove-category__path-name",on:{click:function(s){t.toCategory(e)}}},[t._v(t._s(e.name))]),a+1!=t.pathList.length?s("div",{staticClass:"cove-category__path-separator"},[t._v("/")]):t._e()])}))])},ci=[],li={name:"category-path",props:["pathList"],methods:{back:function(){var t=this.pathList.length>2?this.pathList.length-2:0;this.$store.dispatch("stock/setCategoryFromPath",this.pathList[t])},toCategory:function(t){this.$store.dispatch("stock/setCategoryFromPath",t)}}},di=li,_i=Object(c["a"])(di,ri,ci,!1,null,null,null);_i.options.__file="CategoryPath.vue";var ui=_i.exports,mi={name:"StockCategory",props:["dx","endResize"],data:function(){return{searchPath:[],width:0}},components:{CategoryItem:ni,CategoryPath:ui},computed:Object(u["b"])({setWidth:function(){var t=this.width-this.dx;return this.endResize||this.$nextTick(function(){this.width=this.$el.clientWidth,this.$emit("setDx",0)}),-1==this.endResize?this.width?{width:this.width+"px"}:{}:{width:t+"px"}},setActive:function(t){return this.searchPath=[0].concat(Object(I["a"])(t.stock.searchPath)),{activeCategory:t.stock.activeCategory}},pathList:function(t){return t.stock.categoryPath},activeCategory:function(t){if(0===Object.keys(t.stock.activeCategory).length)return!1;var e={folders:t.stock.activeCategory.children.filter(function(t){return!t.is_file}),files:t.stock.activeCategory.children.filter(function(t){return t.is_file})};return{root:t.stock.stock[0],item:t.stock.activeCategory,list:e}},stockStatus:function(t){return t.stock.stockStatus}}),methods:{backToRoot:function(){this.$store.dispatch("stock/setActiveCategory",{item:this.activeCategory.root,list:this.activeCategory.root.children})}},mounted:function(){this.width=this.$el.clientWidth}},pi=mi,vi=Object(c["a"])(pi,Ga,ti,!1,null,null,null);vi.options.__file="StockCategory.vue";var hi=vi.exports,fi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-list-wrap"},[s("div",{staticClass:"cove-list-container",attrs:{id:"cove-list-container"}},[s("list-table",[s("list-item")],1)],1)])},bi=[],yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-table"},[s("div",{staticClass:"list-header"},t._l(t.listHeader,function(e,a){return s("div",{key:a,staticClass:"list-header_item",class:["list-header_item-"+e.name,{active:t.active==e.name},t.dir.toLowerCase(),{scroll_table:t.scroll}],on:{click:function(s){t.sortList(e.name)}}},[t._v(t._s(t.$t("stock.table."+e.title))+"\n      ")])})),t._t("default")],2)},gi=[],Ci={name:"list-table",data:function(){return{activeItem:"name",dir:"ASC",scroll:!1,listHeader:[{name:"item_id",title:"id"},{name:"name",title:"name"},{name:"stock_price",title:"stock_price"},{name:"quantity",title:"quantity"},{name:"last_update",title:"last_update"},{name:"category",title:"category"}]}},computed:{active:function(){return this.activeItem}},methods:{fixHeader:function(t){var e="translate(0,"+t.scrollTop+"px)";this.scroll=!!t.scrollTop,document.querySelector(".list-header").style.transform=e},sortList:function(t){var e="";this.activeItem!=t?(this.activeItem=t,e=this.dir,this.$store.dispatch("menu/sortList",{propname:t,dir:e})):(e="ASC"==this.dir?"DESC":"ASC",this.dir=e,this.$store.dispatch("menu/sortList",{propname:t,dir:e}))}},mounted:function(){var t=document.getElementById("cove-list-container");t.addEventListener("scroll",this.fixHeader.bind(null,t))}},wi=Ci,xi=Object(c["a"])(wi,yi,gi,!1,null,null,null);xi.options.__file="ListTable.vue";var ki=xi.exports,$i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.stockStatus?s("div",{staticClass:"list-item_tbody"},[t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"list-item_row",class:[{active:t.activeItemIndex==a},{grey:e.status&&e.is_file}],on:{click:function(s){t.toggle(e,a)}}},[s("div",{staticClass:"list-item_item list-item_item-id"},[t._v(t._s(t.isFolder(e.is_file)?"":e.item_id))]),s("div",{key:a,staticClass:"list-item_item list-item_item-name",class:[t.isFolder(e.is_file)?"folder":"nofolder",{active:t.activeItemIndex==a}],attrs:{opened:t.open?"-":"+"},on:{contextmenu:function(s){s.preventDefault(),t.onShowCntxMenu(s,e,a)},dblclick:function(s){t.getItem(e,a)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.editItemMode!=a,expression:"editItemMode != index"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: item.name}"}]},[t._v(t._s(e.name.toLowerCase()))]),s("input",{directives:[{name:"show",rawName:"v-show",value:t.editItemMode==a,expression:"editItemMode == index"}],ref:"item-name",refInFor:!0,domProps:{value:e.name.toLowerCase()},on:{blur:function(s){t.setName(a,e)},keydown:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;s.preventDefault(),t.checkKey(a,e)}}})]),s("div",{staticClass:"list-item_item list-item_item-stock_price"},[s("span",[t._v(t._s(t.isFolder(e.is_file)?"":e.stock_price.toFixed(2)))])]),s("div",{staticClass:"list-item_item list-item_item-quantity"},[t._v(t._s(t.isFolder(e.is_file)?"":("unit"!=e.measure_name?e.quantity.toFixed(2):e.quantity)+("unit"!=e.measure_name?" "+t.$t("measure."+e.measure_name):""))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-update"},[t._v(t._s(t.isFolder(e.is_file)?"":t.getTime(e.last_update))+"\n    ")]),s("div",{staticClass:"list-item_item list-item_item-category"},[s("span",[t._v(t._s(t.isFolder(e.is_file)?"":e.category))])])])}),t.showHistoryStatus?s("item-history",{attrs:{activeItem:t.activeItem,closeModal:t.closeModal,title:t.$t("stock.modal.story")}}):t._e(),t.itemEditStatus?s("item-edit",{attrs:{activeItem:t.activeItem,closeModal:t.closeModal,title:t.$t("stock.modal.edit")}}):t._e(),t.mergeStatus?s("item-merge",{attrs:{activeItem:t.activeItem,closeModal:t.closeModal,title:t.$t("stock.modal.merge")}}):t._e(),t.dependenciesStatus?s("item-dependencies",{attrs:{activeItem:t.activeItem,closeModal:t.closeModal,title:t.$t("stock.modal.dependencies")}}):t._e(),t.showCntxMenu?s("ContextMenu",{attrs:{showCntxMenu:t.showCntxMenu,cntxPos:t.cntxPos,cntxIndex:t.cntxIndex,id:t.id,cntxItem:t.cntxItem},on:{close:t.onCloseCntxMenu,showHistory:t.showHistory,merge:t.merge,dependencies:t.dependencies,setEditName:t.setEditName,editProperty:t.editProperty,changeData:t.changeData,getItem:t.getItem}}):t._e()],2):t._e()},Pi=[],Oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"cntxMenu",staticClass:"cove-context-menu",attrs:{tabindex:"-1"},on:{blur:function(e){t.$emit("close")}}},[t.cntxItem.is_file?t._e():s("ul",[s("li",{on:{click:t.open}},[t._v(t._s(t.$t("context_menu.open")))]),s("li",{on:{click:t.remove}},[t._v(t._s(t.$t("context_menu.remove")))])]),t.cntxItem.is_file?s("ul",[s("li",{on:{click:t.open}},[t._v(t._s(t.$t("context_menu.open")))]),s("li",{on:{click:t.history}},[t._v(t._s(t.$t("context_menu.history")))]),s("li",{on:{click:t.merge}},[t._v(t._s(t.$t("context_menu.merge")))]),s("li",{on:{click:t.dependencies}},[t._v(t._s(t.$t("context_menu.dependencies")))]),s("li",{on:{click:t.remove}},[t._v(t._s(t.$t("context_menu.remove")))])]):t._e()])},Si=[],Ii={name:"ContextMenu",props:["showCntxMenu","cntxPos","id","cntxItem","cntxIndex","editProperty","changeData","getItem","showHistory"],components:{},data:function(){return{discount:""}},methods:{rename:function(){this.$emit("setEditName",this.cntxIndex),this.$emit("close")},remove:function(){var t=this;this.$store.dispatch("stock/stockRemove",this.cntxItem).then(function(){t.$store.dispatch("stock/stock"),t.$store.dispatch("menu/menu")}),this.$emit("close")},reset:function(){this.cntxItem.is_file&&(this.$emit("editProperty",this.cntxItem,"max_discount",0),this.$emit("close"))},setdis:function(t){this.cntxItem.is_file&&(this.$emit("editProperty",this.cntxItem,"max_discount",t),this.$emit("close"))},showinner:function(){var t=this.$refs.inner.getBoundingClientRect(),e=window.innerHeight-t.height,s=e>t.top?this.$refs.inner.offsetTop:-(t.height-this.$refs.inner.parentElement.clientHeight-2);this.$refs.inner.style.top=s+"px"},open:function(){this.$emit("getItem",this.cntxItem),this.$emit("close")},history:function(){this.$emit("showHistory"),this.$emit("close")},merge:function(){this.$emit("merge"),this.$emit("close")},dependencies:function(){this.$emit("dependencies"),this.$emit("close")}},mounted:function(){if(this.showCntxMenu){var t=window.innerHeight-this.$refs.cntxMenu.offsetHeight,e=t>this.cntxPos.top?this.cntxPos.top:t-10;this.$refs.cntxMenu.style.top=e+"px",this.$refs.cntxMenu.style.left=this.cntxPos.left+"px",this.$refs.cntxMenu.focus()}}},Mi=Ii,Li=Object(c["a"])(Mi,Oi,Si,!1,null,null,null);Li.options.__file="ContextMenu.vue";var Ei=Li.exports,Ti=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s10",btnAction:[{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.save"),action:t.checkMeasure}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"1/4"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.edit_item.characterictics")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.stockCategories},model:{value:t.itemProperty.category_id,callback:function(e){t.$set(t.itemProperty,"category_id",e)},expression:"itemProperty.category_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.type_records")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.categoryList},model:{value:t.itemProperty.parent_id,callback:function(e){t.$set(t.itemProperty,"parent_id",e)},expression:"itemProperty.parent_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.name,expression:"itemProperty.name"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.name},on:{input:function(e){e.target.composing||t.$set(t.itemProperty,"name",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.name")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.description,expression:"itemProperty.description"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.description},on:{input:function(e){e.target.composing||t.$set(t.itemProperty,"description",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.description")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.measureList},model:{value:t.itemProperty.measure_id,callback:function(e){t.$set(t.itemProperty,"measure_id",e)},expression:"itemProperty.measure_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_mesurment")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.quantity,expression:"itemProperty.quantity",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.quantity},on:{input:function(e){e.target.composing||t.$set(t.itemProperty,"quantity",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.quantity")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.stock_price,expression:"itemProperty.stock_price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.stock_price},on:{focus:function(e){t.checkZeroFocus("stock_price")},blur:[function(e){t.checkZeroBlur("stock_price")},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||t.$set(t.itemProperty,"stock_price",t._n(e.target.value))}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_price")))])])]),s("div",{staticClass:"modal-row c-text-right"},t._l(t.btn_new,function(e,a){return s("div",{key:a,staticClass:"modal-default-button",on:{click:e.a}},[t._v(t._s(e.name))])}))]),s("div",{staticClass:"modal-block",attrs:{name:"3/4"}},[s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.edit_item.barcodes")))])])]),s("div",{staticClass:"modal-row__field-50"},[s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_barcode,expression:"new_barcode"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.new_barcode},on:{input:function(e){e.target.composing||(t.new_barcode=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.barcode")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,"disable-branch-nodes":!0,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.menuTree},model:{value:t.menu_id,callback:function(e){t.menu_id=e},expression:"menu_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.edit_item.menu_item")))])],1)]),s("div",{staticClass:"modal-row c-text-right"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-default-button",class:{"c-btn__disabled":!t.new_barcode},on:{click:t.addBarcode}},[t._v(t._s(t.$t("btn.add_to_db")))])])])]),s("div",{staticClass:"modal-row__field-50"},[s("div",{staticClass:"modal-table__table modal-table__table-scroll"},[s("div",{staticClass:"modal-table__cell modal-table__padd"},[s("div",{staticClass:"modal-table__wrap modal-table__wrap-160"},[s("div",{staticClass:"modal-table"},[s("div",{staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.number")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.barcode")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.stockBarcodes.barcodes,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",class:{active:t.barcodeActive&&t.barcodeActive.barcode_id==e.barcode_id},attrs:{name:"items"},on:{click:function(s){t.activeBarcode(e)}}},[s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.barcode_id))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.barcode))])])}))])])])])]),s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.modal.story")))])])]),s("div",{staticClass:"modal-table__row modal-row"},[s("div",{staticClass:"modal-table__cell modal-table__padd"},[s("div",{staticClass:"modal-table__wrap modal-table__wrap-160"},[s("div",{staticClass:"modal-table"},[s("div",{staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.id")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.balance")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.quantity_mini")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.date")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.comment")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.user")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.stockStory,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",attrs:{name:"items"}},[s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.stock_story_id))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.balance_after.toFixed(2)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.quantity.toFixed(2)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.price&&t.getPrice(e)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(t.getTime(e.stock_story_time)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.description))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.user_name))])])}))])])])])])]),t.mergeStatus?s("item-merge",{attrs:{activeItem:t.activeItem,closeModal:t.closeMerge,title:t.$t("stock.modal.merge")}}):t._e(),t.writeoffStatus?s("item-write-off",{attrs:{activeItem:t.activeItem,closeModal:t.closeWriteoff,title:t.$t("stock.modal.reason")}}):t._e(),t.alertStatus?s("alert-error",{attrs:{closeModal:t.closeAlert,str:t.alert}}):t._e(),t.barcodeRemoveStatus?s("barcode-remove",{attrs:{closeModal:t.closeBarcodeRemove,barcode:t.barcodeActive},on:{removeBarcode:t.removeBarcode}}):t._e(),t.recalculateStatus?s("alert-recalculate",{attrs:{closeModal:t.closeRecalculate},on:{Recalculate:t.Recalculate}}):t._e()],1)])},Ai=[],Fi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s1",btnAction:[{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal,active:t.source_id}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-menu-category",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"value-consists-of":t.treeselect.valueConsistsOf,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,"disable-branch-nodes":!0,options:t.list},on:{select:t.setItem},model:{value:t.source_id,callback:function(e){t.source_id=e},expression:"source_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.modal.stock")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.product,expression:"product"}],staticClass:"cove-input cove-input__disabled",attrs:{type:"text",required:""},domProps:{value:t.product},on:{input:function(e){e.target.composing||(t.product=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.modal.product")))])])])])])])},ji=[],qi={name:"item-Merge",data:function(){return{source_id:null,product:"",treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!0,valueConsistsOf:"ALL_WITH_INDETERMINATE",appendToBody:!1,showCount:!0}}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","title","closeModal"],computed:Object(u["b"])({list:function(t){return t.stock.stockSelectList}}),methods:{setItem:function(t){this.product=t.label},applyModal:function(){var t={source_id:this.source_id,destination_id:this.activeItem.item_id};this.$store.dispatch("stock/mergeItems",t),this.closeModal()},cancelModal:function(){this.closeModal()}}},Di=qi,Ni=Object(c["a"])(Di,Fi,ji,!1,null,null,null);Ni.options.__file="ItemMerge.vue";var Bi=Ni.exports,Ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s1",btnAction:[{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal,active:t.quantity&&t.reason}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-menu-category",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.modal.quantity")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.modal.reason")))])])])])])])},Wi=[],zi={name:"item-write-off",data:function(){return{quantity:"",reason:""}},components:{Modal:Ge},props:["activeItem","title","closeModal"],methods:{applyModal:function(){var t=this,e={item_id:this.activeItem.item_id,quantity:this.quantity,reason:this.reason};this.$store.dispatch("stock/writeoff",e).then(function(){t.$store.dispatch("stock/stock")}),this.closeModal()},cancelModal:function(){this.closeModal()}}},Hi=zi,Ui=Object(c["a"])(Hi,Ri,Wi,!1,null,null,null);Ui.options.__file="ItemWriteOff.vue";var Vi=Ui.exports,Qi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.$t("stock.modal.error"),size:"s1",btnAction:[{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.closeModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-notify"},[t._v(t._s(t.str))])])])])])},Yi=[],Zi={name:"alert-error",components:{Modal:Ge},props:["closeModal","str"],methods:{applyModal:function(){this.closeModal()}}},Ki=Zi,Ji=Object(c["a"])(Ki,Qi,Yi,!1,null,null,null);Ji.options.__file="AlertError.vue";var Xi=Ji.exports,Gi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.$t("stock.modal.recalculate"),size:"s1",btnAction:[{name:t.$t("btn.recalculate"),action:t.applyModal,data:{recalculate:!0}},{name:t.$t("btn.leave_as_is"),action:t.applyModal,data:{recalculate:!1}}]},on:{closeModal:t.closeModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-notify"},[t._v(t._s(t.$t("stock.modal.recalculate_desc")))])])])])])},to=[],eo={name:"alert-recalculate",components:{Modal:Ge},props:["closeModal"],methods:{applyModal:function(t){this.$emit("Recalculate",t),this.closeModal()}}},so=eo,ao=Object(c["a"])(so,Gi,to,!1,null,null,null);ao.options.__file="AlertRecalculate.vue";var io=ao.exports,oo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.$t("settings.modal.remove_title"),size:"s1",btnAction:[{name:t.$t("btn.remove"),action:t.applyModal},{name:t.$t("btn.cancel"),action:t.cancelModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-notify"},[t._v(t._s(t.$t("stock.modal.remove_noty"))),s("strong",[t._v(t._s(t.barcode.barcode)+"?")])])])])])])},no=[],ro={name:"barcode-remove",components:{Modal:Ge},props:["closeModal","barcode"],methods:{applyModal:function(){this.$emit("removeBarcode"),this.closeModal()},cancelModal:function(){}}},co=ro,lo=Object(c["a"])(co,oo,no,!1,null,null,null);lo.options.__file="BarcodeRemove.vue";var _o=lo.exports,uo={name:"item-edit",mixins:[ue],data:function(){return{mergeStatus:!1,writeoffStatus:!1,barcodeRemoveStatus:!1,alertStatus:!1,recalculateStatus:!1,alert:"",menu_id:null,new_barcode:"",barcodeActive:!1,recalculate:!1,btn_new:[{a:this.openMerge,name:this.$t("stock.modal.merge")},{a:this.openWriteoff,name:this.$t("stock.modal.write_off")}],treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},itemProperty:{category:"",category_id:"",description:"",item_id:0,parent_id:0,measure_id:0,name:"",quantity:0,stock_price:0}}},components:{Treeselect:Ce.a,Modal:Ge,InputQuantity:rs,ItemMerge:Bi,ItemWriteOff:Vi,AlertError:Xi,BarcodeRemove:_o,AlertRecalculate:io},props:["activeItem","closeModal","title"],computed:Object(u["b"])({categoryList:function(t){return t.stock.treeFolder},measureList:function(t){var e=this,s=t.stock.measureList,a=s.map(function(t){var s=Object.assign({},t);return s.label=e.$t("measure."+t.label),s});return a},stockCategories:function(t){return t.stock.stockCategories},stockStory:function(t){return t.stock.stockStory},menuTree:function(t){return t.menu.treeMenu},stockBarcodes:function(t){var e=Object.assign({},t.stock.stockBarcode);return this.menu_id=e.menu_id,e}}),methods:{openMerge:function(){this.mergeStatus=!0},closeMerge:function(){this.mergeStatus=!1},openWriteoff:function(){this.writeoffStatus=!0},closeWriteoff:function(){this.writeoffStatus=!1},openBarcodeRemove:function(){this.barcodeRemoveStatus=!0},closeBarcodeRemove:function(){this.barcodeRemoveStatus=!1},closeAlert:function(){this.alert="",this.alertStatus=!1},openRecalculate:function(){this.recalculateStatus=!0},closeRecalculate:function(){this.recalculateStatus=!1},cancelModal:function(){this.closeModal()},Recalculate:function(t){this.recalculate=t.recalculate,this.applyModal()},checkMeasure:function(){this.itemProperty["measure_id"]!=this.activeItem["measure_id"]?this.openRecalculate():this.applyModal()},checkZeroFocus:function(t){0==parseInt(this.itemProperty[t])&&(this.itemProperty[t]="")},checkZeroBlur:function(t){""===this.itemProperty[t]?(this.itemProperty[t]=0,this.itemProperty[t]=+parseFloat(this.itemProperty[t]).toFixed(2)):this.itemProperty[t]=+parseFloat(this.itemProperty[t]).toFixed(2)},applyModal:function(){var t=this,e=["category_id","parent_id","name","measure_id","description","stock_price","quantity"],s={},a=!1;e.map(function(e){t.itemProperty[e]!=t.activeItem[e]&&(a=!0,s["new_"+e]=t.itemProperty[e])}),this.stockBarcodes.menu_id!=this.menu_id&&(a=!0,s["menu_item_id"]=this.menu_id);var i=!1;this.recalculate&&(i=!0,this.recalculate=!1,s["recalculate_measure"]=i),a?(s["item_id"]=this.activeItem["item_id"],this.$store.dispatch("stock/saveItem",s).then(function(){t.$store.dispatch("stock/stock"),t.$store.dispatch("menu/menu")}),this.closeModal()):this.closeModal()},getPrice:function(t){var e=t.price.toFixed(2)+" "+t.currency+" ("+t.unit_price.toFixed(2)+" "+t.currency+"/"+t.measure+")";return e},addBarcode:function(){var t=this,e={item_id:this.activeItem.item_id,barcode:this.new_barcode.toString(),menu_id:this.menu_id};this.$store.dispatch("stock/addBarcode",e).then(function(e){e.added?(t.new_barcode="",t.$store.dispatch("stock/setBarcode",{item_id:t.activeItem.item_id})):t.barcodeError(e)})},removeBarcode:function(){var t=this;this.$store.dispatch("stock/removeBarcode",{barcode_id:this.barcodeActive.barcode_id}).then(function(){t.barcodeActive=!1,t.$store.dispatch("stock/setBarcode",{item_id:t.activeItem.item_id})})},activeBarcode:function(t){this.barcodeActive&&this.barcodeActive.barcode_id==t.barcode_id?this.barcodeActive=!1:this.barcodeActive=Object.assign({},t)},barcodeError:function(t){this.alertStatus=!0,this.alert="Этот штрихкод уже был присвоен продукту #"+t.assigned_stock_item_id+" "+t.assigned_stock_item_name},keyDown:function(t){t=t||window.event;var e=t.which||t.keyCode;46==e&&this.barcodeActive&&(this.barcodeRemoveStatus=!0)}},created:function(){var t=this;if(null!=this.activeItem){var e=Object.keys(this.itemProperty);e.map(function(e){t.itemProperty[e]=t.activeItem[e],"quantity"==e&&(t.itemProperty[e]=parseFloat(parseFloat(t.itemProperty[e]).toFixed(2)))})}},mounted:function(){window.addEventListener("keydown",this.keyDown,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown)}},mo=uo,po=Object(c["a"])(mo,Ti,Ai,!1,null,null,null);po.options.__file="ItemEdit.vue";var vo=po.exports,ho=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s-inline",btnAction:[{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-block",attrs:{slot:"content",name:"ingredients"},slot:"content"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-table__wrap",style:{height:t.height}},[s("div",{staticClass:"modal-table",attrs:{name:"ingredients"}},[s("div",{staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.id")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.balance")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.quantity")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.date")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.comment")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.user")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",attrs:{name:"items"}},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.stock_story_id))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.balance_after.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.quantity))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.price&&t.getPrice(e)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.getTime(e.stock_story_time)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.description))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.user_name))])])}))])])])])},fo=[],bo={name:"item-history",mixins:[ue],components:{Modal:Ge},props:["activeItem","closeModal","title"],computed:Object(u["b"])({height:function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return t=t/100*75,t+"px"},list:function(t){return t.stock.stockStory}}),methods:{cancelModal:function(){this.closeModal()},applyModal:function(){this.closeModal()},getPrice:function(t){var e=t.price.toFixed(2)+" "+t.currency+" ("+t.unit_price.toFixed(2)+" "+t.currency+"/"+t.measure+")";return e}}},yo=bo,go=Object(c["a"])(yo,ho,fo,!1,null,null,null);go.options.__file="ItemHistory.vue";var Co=go.exports,wo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s-inline",btnAction:[{name:t.$t("btn.ok"),action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-block",attrs:{slot:"content",name:"ingredients"},slot:"content"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-table__wrap",style:{height:t.height}},[s("div",{staticClass:"modal-table",attrs:{name:"ingredients"}},[s("div",{staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.id")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.name")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.quantity_mini")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.measure")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.type_menu")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.discount")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.retail_price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.prime_cost")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.table.last_update")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",attrs:{name:"items"}},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"modal-table__cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.quantity))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("measure."+e.measure)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.type?"Kitchen":"Bar"))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.discount))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.retail_price.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.prime_cost.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.getTime(e.last_update)))])])}))])])])])},xo=[],ko={name:"item-dependencies",mixins:[ue],components:{Modal:Ge},props:["activeItem","closeModal","title"],computed:Object(u["b"])({height:function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return t=t/100*75,t+"px"},list:function(t){return t.stock.stockDependencies}}),methods:{cancelModal:function(){this.closeModal()},applyModal:function(){this.closeModal()},getPrice:function(t){var e=t.price.toFixed(2)+" "+t.currency+" ("+t.unit_price.toFixed(2)+" "+t.currency+"/"+t.measure+")";return e}}},$o=ko,Po=Object(c["a"])($o,wo,xo,!1,null,null,null);Po.options.__file="ItemDependencies.vue";var Oo=Po.exports,So={name:"list-item",mixins:[ue],components:{ContextMenu:Ei,ItemEdit:vo,ItemHistory:Co,ItemMerge:Bi,ItemDependencies:Oo},data:function(){return{showHistoryStatus:!1,itemEditStatus:!1,mergeStatus:!1,dependenciesStatus:!1,open:!1,openModal:[],showCntxMenu:!1,cntxPos:{top:0,left:0},id:"",cntxItem:{},cntxIndex:-1,activeItem:{},activeItemIndex:-1,editItemMode:-1,editNameDone:!1}},computed:Object(u["b"])({list:function(t){return this.activeItemIndex=-1,this.editItemMode=-1,t.stock.activeCategoryList},stockStatus:function(t){return t.stock.stockStatus}}),methods:{showHistory:function(){var t=this;this.$store.commit("stock/setLoading",!0),this.$store.dispatch("stock/setStory",{item_id:this.activeItem.item_id}).then(function(){t.showHistoryStatus=!0,t.$store.commit("stock/setLoading",!1),t.openModal.push("showHistoryStatus")})},dependencies:function(){var t=this;this.$store.dispatch("stock/setDependencies",{item_id:this.activeItem.item_id}).then(function(){t.dependenciesStatus=!0,t.openModal.push("dependenciesStatus")})},merge:function(){this.mergeStatus=!0,this.openModal.push("mergeStatus")},onCloseCntxMenu:function(){this.showCntxMenu=!1},onShowCntxMenu:function(t,e,s){this.cntxPos.top=t.y,this.cntxPos.left=t.x,this.id=e.item_id,this.cntxItem=Object.assign({},e),this.cntxIndex=s,this.showCntxMenu=!0,this.activeItemIndex=s,e.is_file?this.activeItem=Object.assign({},e):this.activeItem=!1},closeModal:function(){if(this.openModal.length){var t=this.openModal.pop();this[t]=!1}},isFolder:function(t){return!t},getItem:function(t,e){var s=this;this.editItemMode!=e&&(t.is_file?(this.$store.commit("stock/setLoading",!0),Promise.all([this.$store.dispatch("stock/setStory",{item_id:this.activeItem.item_id}),this.$store.dispatch("stock/setBarcode",{item_id:this.activeItem.item_id})]).then(function(){s.itemEditStatus=!0,s.$store.commit("stock/setLoading",!1),s.openModal.push("itemEditStatus")})):this.$store.dispatch("stock/setActiveCategory",{item:Object.assign({},t),list:t.children}))},toggle:function(t,e){this.activeItemIndex!=e&&(this.activeItemIndex=e,this.activeItem=Object.assign({},t))},changeData:function(t,e){this[t]=e},setEditName:function(t){this.activeItemIndex=t,this.editItemMode=t,setTimeout(function(){this.editItemMode>=0&&this.$refs["item-name"][t].focus()}.bind(this),0)},editProperty:function(t,e,s){this.$store.dispatch("stock/setItemProp",{item:Object.assign({},t),property:e,value:s})},setName:function(t,e){this.editItemMode=-1,this.editNameDone?this.editNameDone=!1:e.name!=this.$refs["item-name"][t].value&&(this.$refs["item-name"][t].scrollLeft=0,this.editProperty(e,"name",this.$refs["item-name"][t].value.trim()))},checkKey:function(t,e){this.setName(t,e,!0),this.editNameDone=!0},escape:function(t){t=t||window.event;var e=t.which||t.keyCode;27==e&&this.closeModal()}},mounted:function(){var t=document.getElementById("cove-list-container");t.addEventListener("scroll",this.onCloseCntxMenu),window.addEventListener("keydown",this.escape,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.escape)}},Io=So,Mo=Object(c["a"])(Io,$i,Pi,!1,null,null,null);Mo.options.__file="ListItem.vue";var Lo=Mo.exports,Eo={name:"StockList",components:{ListTable:ki,ListItem:Lo}},To=Eo,Ao=Object(c["a"])(To,fi,bi,!1,null,null,null);Ao.options.__file="StockList.vue";var Fo=Ao.exports,jo={name:"AppStock",components:{CoveStock:Aa,Panel:Xa,StockCategory:hi,StockList:Fo,CoveResizer:wa},data:function(){return{dx:0,endResize:-1}},computed:Object(u["b"])({loading:function(t){return t.stock.loading},stockStatus:function(t){return t.stock.stockStatus}}),created:function(){this.fetchData()},methods:{fetchData:function(){this.$store.dispatch("stock/stock"),this.$store.dispatch("menu/menu")},setDx:function(t){this.dx=t},setResize:function(t){this.endResize=t}}},qo=jo,Do=Object(c["a"])(qo,Oa,Sa,!1,null,null,null);Do.options.__file="AppStock.vue";var No=Do.exports,Bo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-expenses",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("ExpensesWrap",{attrs:{slot:"expenses"},slot:"expenses"})],1)},Ro=[],Wo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("expenses")],2)],2)},zo=[],Ho={name:"cove-expenses"},Uo=Ho,Vo=Object(c["a"])(Uo,Wo,zo,!1,null,null,null);Vo.options.__file="CoveExpenses.vue";var Qo=Vo.exports,Yo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))])]),s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"right"},slot:"right"},t._l(t.options,function(e,a){return s("div",{key:a,staticClass:"cove-panel__buttons-btn",class:{active:t.reportType==e.value},on:{click:function(s){t.setReportType(e.value)}}},[t._v(t._s(t.$t(e.name)))])})),s("div",{attrs:{slot:"future"},slot:"future"},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}}),s("no-visible",[s("div",{ref:"novisible",attrs:{slot:"body"},slot:"body"},[s("table",[s("tr",{staticClass:"cove-container__table-head"},[s("th",{staticClass:"cove-container__table-cell"},[t._v("Id")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("Operation")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("Category")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("Q-ty")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("User")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("Cost")]),s("th",{staticClass:"cove-container__table-cell",attrs:{name:"safe"}},[t._v("Safe")]),s("th",{staticClass:"cove-container__table-cell",attrs:{name:"cashier"}},[t._v("Cashier")]),s("th",{staticClass:"cove-container__table-cell"},[t._v("Time")]),s("th")]),s("tbody",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listExpenses.list,function(e,a){return s("tr",{key:a,staticClass:"cove-container__table-row"},[s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.expense_id))]),s("td",{staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.category_name))]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.quantity))]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.user_name))]),s("td",{staticClass:"cove-container__table-cell",class:{negative:e.cost<0}},[t._v(t._s(e.cost))]),s("td",{staticClass:"cove-container__table-cell",attrs:{name:"safe"}},[s("span",{staticClass:"value-before"},[t._v(t._s(e.safe_before))]),t._v("\n                                /\n                                "),s("span",{staticClass:"value-after"},[t._v(t._s(e.safe_after))])]),s("td",{staticClass:"cove-container__table-cell",attrs:{name:"cashier"}},[s("span",{staticClass:"value-before"},[t._v(t._s(e.cashier_before))]),t._v("\n                                /\n                                "),s("span",{staticClass:"value-after"},[t._v(t._s(e.cashier_after))])]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.time)))]),s("td")])}))])])])],1)])},Zo=[],Ko=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"novisible"},[t._t("body")],2)},Jo=[],Xo={name:"no-visible"},Go=Xo,tn=Object(c["a"])(Go,Ko,Jo,!1,null,null,null);tn.options.__file="NoVisible.vue";var en=tn.exports,sn={name:"panel",mixins:[ue],components:{CovePanel:Re,Modal:Ge,NoVisible:en},data:function(){return{showModal:!1,frame:!0,options:[{value:2,name:"btn.all"},{value:1,name:"btn.safe"},{value:0,name:"btn.cashbox"}]}},computed:Object(u["b"])({reportType:function(t){return t.expenses.options.report_type},listExpenses:function(t){return{list:t.expenses.expensesList}}}),methods:{closeModal:function(){this.editCategory=!1,this.editItem=!1},setReportType:function(t){this.$store.dispatch("expenses/setOptions",{report_type:t})},print:function(){if(this.$store.state.expenses.expensesStatus){this.frame=!0;var t=this.$refs.qframe;t.contentWindow.document.body.innerHTML="";var e="\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n                  th, td {\n                      padding: 5pt;\n                      white-space: nowrap;\n                      text-align: left;\n                  }\n                  .print-page{\n                      padding: 5pt;\n                  }\n              }",s=document.createElement("style");s.appendChild(document.createTextNode(e)),t.contentWindow.document.body.appendChild(s),t.contentWindow.document.body.appendChild(this.$refs.novisible),t.contentWindow.print()}}}},an=sn,on=Object(c["a"])(an,Yo,Zo,!1,null,null,null);on.options.__file="Panel.vue";var nn=on.exports,rn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__wrap",attrs:{name:"expenses"}},[t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e(),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__head-left"},[s("time-period",{on:{callback:t.setPeriod}})],1),s("div",{staticClass:"cove-container__head-right"},[s("div",{staticClass:"cove-container__field cove-container__field-part20",attrs:{name:"filter"}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselectFilter.multiple,clearable:t.treeselectFilter.clearable,searchable:t.treeselectFilter.searchable,disabled:t.treeselectFilter.disabled,"open-on-click":t.treeselectFilter.openOnClick,"open-on-focus":t.treeselectFilter.openOnFocus,"clear-on-select":t.treeselectFilter.clearOnSelect,"close-on-select":t.treeselectFilter.closeOnSelect,"always-open":t.treeselectFilter.alwaysOpen,"append-to-body":t.treeselectFilter.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,options:t.filters},on:{select:t.setCategory},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),s("div",{staticClass:"cove-container__field cove-container__field-part20"},[s("div",{staticClass:"input-box input-box--disabled"},[s("input",{attrs:{type:"text"},domProps:{value:parseFloat(t.funds.cashier).toFixed(2)}}),s("div",{staticClass:"cove-container__field-label"},[t._v(t._s(t.$t("expenses.panel.cashbox")))])])]),s("div",{staticClass:"cove-container__field cove-container__field-part20"},[s("div",{staticClass:"input-box input-box--disabled"},[s("input",{attrs:{type:"text"},domProps:{value:parseFloat(t.funds.safe).toFixed(2)}}),s("div",{staticClass:"cove-container__field-label"},[t._v(t._s(t.$t("expenses.panel.safe")))])])]),s("div",{staticClass:"cove-container__field cove-container__field-part20"},[s("div",{staticClass:"input-box input-box--disabled"},[s("input",{attrs:{type:"text"},domProps:{value:parseFloat(t.funds.bank).toFixed(2)}}),s("div",{staticClass:"cove-container__field-label"},[t._v(t._s(t.$t("expenses.panel.bank")))])])])])]),s("div",{ref:"body",staticClass:"cove-container__body margin-top-3"},[s("div",{ref:"box",staticClass:"cove-container__body-table-box"},[s("div",{ref:"table",staticClass:"cove-container__table"},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.operation")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.category")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.user")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.cost")))]),s("div",{staticClass:"cove-container__table-cell",attrs:{name:"safe"}},[t._v(t._s(t.$t("expenses.heads.safe")))]),s("div",{staticClass:"cove-container__table-cell",attrs:{name:"cashier"}},[t._v(t._s(t.$t("expenses.heads.cashier")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.time")))])]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listExpenses.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row",attrs:{page:"expenses"},on:{dblclick:function(s){t.editExpense(e)}}},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.expense_id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.category_name))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.quantity))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.user_name))]),s("div",{staticClass:"cove-container__table-cell",class:{negative:e.cost<0}},[t._v(t._s(e.cost.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell",attrs:{name:"safe"}},[s("span",{staticClass:"value-before"},[t._v(t._s(e.safe_before.toFixed(2)))]),s("span",{staticClass:"value-sep"}),s("span",{staticClass:"value-after"},[t._v(t._s(e.safe_after.toFixed(2)))])]),s("div",{staticClass:"cove-container__table-cell",attrs:{name:"cashier"}},[s("span",{staticClass:"value-before"},[t._v(t._s(e.cashier_before.toFixed(2)))]),s("span",{staticClass:"value-sep"}),s("span",{staticClass:"value-after"},[t._v(t._s(e.cashier_after.toFixed(2)))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.time)))])])}))]),s("div",{staticClass:"cove-container__body-bottom"},[s("pagination",{attrs:{"v-if":t.expensesStatus,options:t.listExpenses.options,perPagelist:[50,100]},on:{paginator:t.paginator}}),s("expenses-total")],1)])]),t.editExpensesStatus?s("expenses-edit",{attrs:{activeItem:t.editExpenses,closeModal:t.closeModal,title:t.$t("expenses.modal.editing")}}):t._e()],1)},cn=[],ln=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s1",btnAction:[{name:t.$t("btn.detail"),action:t.showDetail,active:t.activeItem.is_cashier_order},{name:t.$t("btn.remove"),action:t.removeItem},{name:t.$t("btn.transfer"),action:t.transferItem},{name:t.$t("btn.save"),action:t.applyModal,active:t.activeItem.name!=t.operation}]},on:{closeModal:t.closeModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.operation,expression:"operation"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.operation},on:{input:function(e){e.target.composing||(t.operation=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("expenses.modal.operation")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"cove-input c-read-only",attrs:{type:"text",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("expenses.modal.price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field c-read-only"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:4,"max-height":100,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.categoryList},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("expenses.modal.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"cove-input c-read-only",attrs:{type:"text",required:""},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("expenses.modal.amount")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field c-read-only"},[s("date-picker",{attrs:{type:"datetime",lang:"ru",format:"YYYY-MM-DD HH:mm:ss",confirm:"","not-after":new Date},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("expenses.modal.data")))])],1)]),t.detailStatus?s("expenses-detail",{attrs:{activeItem:t.activeItem,closeModal:t.closeDetail,title:t.$t("orders.modal.order_detail")}}):t._e()],1)])])},dn=[],_n=s("ea76"),un=s.n(_n),mn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,btnAction:[{name:t.$t("btn.prev_order")+(t.order.prev_order_number?" #"+t.order.prev_order_number:""),action:t.getOrder,active:!!t.order.prev_order_number,data:{id:t.order.prev_order_number}},{name:t.$t("btn.next_order")+(t.order.next_order_number?" #"+t.order.next_order_number:""),action:t.getOrder,active:!!t.order.next_order_number,data:{id:t.order.next_order_number}},{name:t.$t("btn.ok"),action:t.closeModal}]},on:{closeModal:t.closeModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"owners"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("orders.modal.order")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.order")))]),s("div",{staticClass:"modal-row__field-value"},[t._v("#"+t._s(t.order.order_number))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.time")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.getTime(t.order.time)))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.cashier")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.order.cashier_name))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.discount_card")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.order.discount_card&&"0"!==t.order.discount_card?t.order.discount_card:"-"))])])])]),s("div",{staticClass:"modal-block",attrs:{name:"details"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("orders.modal.details")))])]),s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row modal-row modal-table__100"},[s("div",{staticClass:"modal-table__cell modal-table__100 modal-table__padd"},[s("div",{ref:"wrap",staticClass:"modal-table__wrap"},[s("div",{staticClass:"modal-table",attrs:{name:"details"}},[s("div",{ref:"table-body",staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell",attrs:{name:"head-name"}},[t._v(t._s(t.$t("orders.modal.position")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.quantity")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.discount")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.paidsum")))])]),s("div",{staticClass:"modal-table__row-group"},[t._l(t.order.items,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",attrs:{name:"items"}},[s("div",{staticClass:"modal-table__cell",attrs:{name:"name"}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"#"+e.menu_id+" "+e.menu_name,expression:"'#' + item.menu_id + ' ' + item.menu_name"}]},[t._v(t._s("#"+e.menu_id+" "+e.menu_name))])]),s("div",{staticClass:"modal-table__cell",attrs:{name:"quantity"}},[t._v(t._s(e.quantity))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.price.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.discount.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.paidsum.toFixed(2)))])])}),s("div",{staticClass:"modal-table__row",attrs:{name:"total"}},[s("div",{staticClass:"modal-table__cell",attrs:{name:"tree"}}),s("div",{staticClass:"modal-table__cell c-text-bold"},[t._v(t._s(t.$t("orders.modal.total")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.order.total_price.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.order.discount.toFixed(2)))]),s("div",{staticClass:"modal-table__cell c-text-bold"},[t._v(t._s(t.order.paidsum.toFixed(2)))])])],2)])])])])])])])])},pn=[],vn={name:"expenses-detail",mixins:[ue],data:function(){return{}},components:{Modal:Ge},props:["activeItem","title","closeModal"],computed:Object(u["b"])({order:function(t){if(!t.orders.orderItem)return{items:[],total_price:0,discount:0,paidsum:0};var e=Object.assign({},t.orders.orderItem),s=Object.keys(e),a=s.filter(function(t){return"prev_order_number"==t}),i=s.filter(function(t){return"next_order_number"==t});return a.length||(e["prev_order_number"]=null),i.length||(e["next_order_number"]=null),e}}),methods:{getOrder:function(t){this.$store.dispatch("orders/setOrderItem",t)}},created:function(){this.activeItem.is_cashier_order&&this.getOrder({id:this.activeItem.order_number})}},hn=vn,fn=Object(c["a"])(hn,mn,pn,!1,null,null,null);fn.options.__file="ExpensesDetail.vue";var bn=fn.exports,yn={name:"expenses-edit",data:function(){return{operation:"",price:0,date:"",quantity:0,categoryId:"",prevCategoryId:-1,activeRow:-1,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},detailStatus:!1}},components:{Treeselect:Ce.a,Modal:Ge,DatePicker:un.a,ExpensesDetail:bn},props:["activeItem","title","closeModal"],computed:Object(u["b"])({categoryList:function(t){return t.expenses.stockCategories}}),methods:{applyModal:function(){this.$store.dispatch("expenses/expensesRename",{expense_id:this.activeItem.expense_id,new_name:this.operation}),this.closeModal()},closeDetail:function(){this.detailStatus=!1},showDetail:function(){this.detailStatus=!0},removeItem:function(){this.$store.dispatch("expenses/expensesRemove",{expense_id:this.activeItem.expense_id}),this.closeModal()},transferItem:function(){this.$store.dispatch("expenses/expensesTransfer",{expense_id:this.activeItem.expense_id}),this.closeModal()}},created:function(){this.operation=this.activeItem.name,this.price=Math.abs(this.activeItem.cost),this.categoryId=this.activeItem.category_id,this.quantity=this.activeItem.quantity;var t=6e4*(new Date).getTimezoneOffset(),e=new Date(new Date(this.activeItem.time).getTime()+t);this.date=new Date(e)}},gn=yn,Cn=Object(c["a"])(gn,ln,dn,!1,null,null,null);Cn.options.__file="ExpensesEdit.vue";var wn=Cn.exports,xn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__table",attrs:{name:"totals"}},[s("div",{staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"}),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.cash")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.card")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads.total")))])]),s("div",{staticClass:"cove-container__table-tbody"},t._l(t.listTotals,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("expenses.heads."+e.name)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.cash))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.card))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.total)+" "),e.promo?s("span",{staticClass:"c-promo"},[t._v(" ["+t._s(e.promo||"0.00")+"]")]):t._e()])])}))])},kn=[],$n={name:"expenses-total",computed:Object(u["b"])({listTotals:function(t){var e=[],s={name:"income"};return s["cash"]=parseFloat(t.expenses.totals.total_cash_income).toFixed(2),s["card"]=parseFloat(t.expenses.totals.total_card_income).toFixed(2),s["total"]=parseFloat(t.expenses.totals.total_income).toFixed(2),s["promo"]=parseFloat(t.expenses.totals.total_princess_promo_income).toFixed(2),e.push(Object.assign({},s)),s["name"]="outcome",s["cash"]=parseFloat(t.expenses.totals.total_cash_outcome).toFixed(2),s["card"]=parseFloat(t.expenses.totals.total_card_outcome).toFixed(2),s["total"]=parseFloat(t.expenses.totals.total_outcome).toFixed(2),s["promo"]=!1,e.push(Object.assign({},s)),s["name"]="profit",s["cash"]=parseFloat(t.expenses.totals.total_cash_profit).toFixed(2),s["card"]=parseFloat(t.expenses.totals.total_card_profit).toFixed(2),s["total"]=parseFloat(t.expenses.totals.total_profit).toFixed(2),s["promo"]=!1,e.push(Object.assign({},s)),e}})},Pn=$n,On=(s("035d"),Object(c["a"])(Pn,xn,kn,!1,null,null,null));On.options.__file="ExpensesTotal.vue";var Sn=On.exports,In=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-pagination"},[s("pagination-list",{attrs:{options:t.options},on:{paginator:t.paginator}}),s("div",{staticClass:"cove-pagination__perpage"},t._l(t.perPagelist,function(e,a){return s("span",{staticClass:"cove-pagination__perpage-btn",class:{active:e==t.options.count},on:{click:function(s){t.paginator({count:e})}}},[t._v(t._s(e||t.$t("pagination.all")))])}))],1)},Mn=[],Ln=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-pagination__page-list"},[s("span",{staticClass:"cove-pagination__prev",class:{noactive:1==t.options.page},on:{click:function(e){t.prev()}}},[t._v(" ")]),t._l(t.createPag(),function(e,a){return s("span",{key:a,class:[e.btn?"cove-pagination__page":"cove-pagination__page-ellipsis",{active:t.options.page==e.value}],on:{click:function(s){t.paginator({page:e.value})}}},[t._v(t._s(e.value))])}),s("span",{staticClass:"cove-pagination__next",class:{noactive:t.options.page==t.total()||t.options.page<2},on:{click:function(e){t.next()}}},[t._v(" ")])],2)},En=[],Tn={name:"pagination-list",props:["options"],methods:{paginator:function(t){this.$emit("paginator",t)},next:function(){this.$emit("paginator",{page:++this.options.page})},prev:function(){this.$emit("paginator",{page:--this.options.page})},total:function(){return Math.ceil(this.options.total_records/this.options.count)},createPag:function(){for(var t=3,e=[],s=this.total(),a=1;a<=s;a++)(a<=t||a>this.options.page-t/2&&a<this.options.page+t/2||a>s-t)&&(e.length&&e[e.length-1].value&&a!=e[e.length-1].value+1&&e.push({value:"...",btn:!1}),e.push({value:a,btn:!0}));return e}}},An=Tn,Fn=Object(c["a"])(An,Ln,En,!1,null,null,null);Fn.options.__file="PaginationList.vue";var jn=Fn.exports,qn={name:"pagination",props:["options","perPagelist"],components:{PaginationList:jn},methods:{paginator:function(t){var e=Object.assign(this.options,t);this.$emit("paginator",{page:e.page,count:e.count})}}},Dn=qn,Nn=Object(c["a"])(Dn,In,Mn,!1,null,null,null);Nn.options.__file="Pagination.vue";var Bn=Nn.exports,Rn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-time-period__box"},[s("div",{staticClass:"c-time-period__notify"},[t._v(t._s(t.$t("periodtime.selected_period"))+" "+t._s(t.periodTime.start_time)+" - "+t._s(t.periodTime.end_time))]),t._l(t.filterPeriod,function(e,a){return s("div",{key:a,staticClass:"link",class:{active:t.filterPeriodValue==e.id},on:{click:function(s){t.setPeriod(e)}}},[t._v("\n        "+t._s(e.name)+"\n    ")])}),s("div",{staticClass:"link",class:{active:5==t.filterPeriodValue},on:{click:t.selectPeriod}},[t._v(t._s(t.$t("periodtime.period"))+"\n    ")]),t.setPeriodStatus?s("set-period",{attrs:{closeModal:t.closeModal,title:t.$t("stat.modal.set_period")},on:{setPeriod:t.setPeriod}}):t._e()],2)},Wn=[],zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s-inline",btnAction:[{name:"Ok",action:t.applyModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"},[t._v(t._s(t.$t("stat.modal.start")))]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("date-picker",{attrs:{type:"datetime",lang:"ru",format:"MM/DD/YYYY HH:mm:ss",confirm:"","not-after":new Date},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stat.modal.data")))])],1)])]),s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"},[t._v(t._s(t.$t("stat.modal.end")))]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("date-picker",{attrs:{type:"datetime",lang:"ru",format:"MM/DD/YYYY HH:mm:ss",confirm:"","not-after":new Date},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stat.modal.data")))])],1)])])])])},Hn=[],Un={name:"set-period",data:function(){return{operaion:"",price:0,dateStart:"",dateEnd:"",categoryName:"",prevCategoryId:-1,activeRow:-1,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0}}},components:{Treeselect:Ce.a,Modal:Ge,DatePicker:un.a},props:["title","closeModal"],methods:{applyModal:function(){this.closeModal(),this.$emit("setPeriod",{id:5,period:this.dateStart,start_time:this.dateStart,end_time:this.dateEnd})},cancelModal:function(){this.closeModal()}},created:function(){var t=6e4*(new Date).getTimezoneOffset();if(this.$store.state.statistics.options.start_time){var e=new Date(new Date(this.$store.state.statistics.options.start_time).getTime()+t);this.dateStart=new Date(e)}if(this.$store.state.statistics.options.end_time){var s=new Date(new Date(this.$store.state.statistics.options.end_time).getTime()+t);this.dateEnd=new Date(s)}}},Vn=Un,Qn=Object(c["a"])(Vn,zn,Hn,!1,null,null,null);Qn.options.__file="SetPeriod.vue";var Yn=Qn.exports,Zn={name:"time-period",mixins:[ue,me],props:["callback"],components:{SetPeriod:Yn},data:function(){return{setPeriodStatus:!1,filterPeriod:[{id:0,name:this.$t("periodtime.today")},{id:1,name:this.$t("periodtime.yesterday")},{id:2,name:this.$t("periodtime.week")},{id:3,name:this.$t("periodtime.month")},{id:4,name:this.$t("periodtime.all")}]}},computed:Object(u["b"])({periodTime:function(t){var e={start_time:t.common.options.start_time?this.getTime(t.common.options.start_time):this.$t("periodtime.start_time"),end_time:t.common.options.end_time?this.getTime(t.common.options.end_time):this.$t("periodtime.end_time")};return e},filterPeriodValue:function(t){return t.common.options.period_id}}),methods:{selectPeriod:function(){this.setPeriodStatus=!0},setPeriod:function(t){var e=this,s=this.setTime(t);this.$store.dispatch("common/setPeriod",s).then(function(){e.$emit("callback")})},closeModal:function(){this.setPeriodStatus=!1}}},Kn=Zn,Jn=Object(c["a"])(Kn,Rn,Wn,!1,null,null,null);Jn.options.__file="TimePeriod.vue";var Xn=Jn.exports,Gn={name:"ExpensesWrap",mixins:[ue],components:{Treeselect:Ce.a,ExpensesEdit:wn,ExpensesTotal:Sn,Pagination:Bn,TimePeriod:Xn},data:function(){return{editExpensesStatus:!1,editExpenses:{},treeselectFilter:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},filter:null}},computed:Object(u["b"])({loading:function(t){return t.expenses.loading},expensesStatus:function(t){return t.expenses.expensesStatus},listExpenses:function(t){return this.$nextTick(function(){var t=this.$refs.body;t.scroll(0,0)}),{list:t.expenses.expensesList,options:{total_records:t.expenses.totals.total_records,count:t.expenses.options.count,page:t.expenses.options.page}}},listOptions:function(t){return{total_records:t.expenses.totals.total_records,count:t.expenses.options.count,page:t.expenses.options.page}},funds:function(t){return this.expensesStatus?t.expenses.funds:{cashier:0,safe:0,bank:0}},filters:function(t){var e=t.expenses.categories.map(function(t){return{id:t.category_id,label:t.name}});return e.length&&(this.filter=!1===t.expenses.options.category_id?e[0].id:t.expenses.options.category_id),e}}),methods:{paginator:function(t){var e={page:t.page,count:t.count};this.$store.dispatch("expenses/setOptions",e)},editExpense:function(t){this.editExpenses=t,this.editExpensesStatus=!0},setCategory:function(t){this.$store.dispatch("expenses/setOptions",{category_id:t.id})},setPeriod:function(){this.$store.dispatch("expenses/setOptions",this.$store.state.expenses.options)},closeModal:function(){this.editExpensesStatus=!1,this.setPeriodStatus=!1}},created:function(){var t={};this.expensesStatus?this.$store.dispatch("expenses/setOptions",this.$store.state.expenses.options):(t={page:1,count:50,report_type:2,period_id:0,category_id:!1,end_time:!1},this.$store.dispatch("expenses/setOptions",t))},mounted:function(){var t=this;this.$store.dispatch("expenses/setFunds").then(function(){return t.$store.dispatch("expenses/setCategories"),!0}).then(function(){t.$store.dispatch("expenses/setStockCategories")})}},tr=Gn,er=Object(c["a"])(tr,rn,cn,!1,null,null,null);er.options.__file="ExpensesWrap.vue";var sr=er.exports,ar={name:"AppExpenses",components:{CoveExpenses:Qo,Panel:nn,ExpensesWrap:sr},computed:Object(u["b"])({expensesStatus:function(t){return t.expenses.expensesStatus}})},ir=ar,or=Object(c["a"])(ir,Bo,Ro,!1,null,null,null);or.options.__file="AppExpenses.vue";var nr=or.exports,rr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-operations",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("OperationsWrap",{attrs:{slot:"operations"},slot:"operations"}),t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e()],1)},cr=[],lr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__block"},[t._t("operations")],2),t._t("default")],2)},dr=[],_r={name:"cove-operations"},ur=_r,mr=Object(c["a"])(ur,lr,dr,!1,null,null,null);mr.options.__file="CoveOperations.vue";var pr=mr.exports,vr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel")},hr=[],fr={name:"panel",components:{CovePanel:Re}},br=fr,yr=Object(c["a"])(br,vr,hr,!1,null,null,null);yr.options.__file="Panel.vue";var gr=yr.exports,Cr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__body margin-top"},[s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__row"},[s("div",{staticClass:"cove-container__wrap",attrs:{name:"operations"}},[s("div",{staticClass:"cove-container__wrap-title"},[t._v(t._s(t.$t("operations.title.services_and_stock")))]),s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}},[s("div",{staticClass:"btn",on:{click:t.addService}},[t._v(t._s(t.$t("operations.btn.add_service")))])]),s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}},[s("div",{staticClass:"btn",on:{click:t.addToStock}},[t._v(t._s(t.$t("operations.btn.add_to_stock")))])])]),s("div",{staticClass:"cove-container__wrap",attrs:{name:"operations"}})])]),s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__row"},[t._l(t.operations,function(e,a,i){return s("div",{key:i,staticClass:"cove-container__wrap",attrs:{name:"operations"}},[s("div",{staticClass:"cove-container__wrap-title"},[t._v(t._s(t.$t("operations.title."+a)))]),t._l(e,function(e,i,o){return[s("div",{key:"inpt"+o,staticClass:"cove-container__field cove-container__field-full",attrs:{name:"input"}},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"vv.value",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.value},on:{focus:function(s){t.focus(e)},blur:[function(s){t.blur(e)},function(e){t.$forceUpdate()}],input:function(s){s.target.composing||t.$set(e,"value",t._n(s.target.value))}}}),s("div",{staticClass:"cove-container__field-label"},[t._v(t._s(t.$t("operations.operation."+i)))])])]),s("div",{key:"btn"+o,staticClass:"c-wrap",class:{"c-wrap__active":t.isActive(e)}},[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}}),s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}},[s("div",{staticClass:"btn",class:{"c-btn__disabled":""==e.value||parseFloat(e.value)<0},on:{click:function(e){t.apply(a,i)}}},[t._v(t._s(t.$t("operations.btn.apply")))])])])]})],2)}),s("div",{staticClass:"cove-container__wrap",attrs:{name:"operations"}})],2)]),t.addServiceStatus?s("add-service",{attrs:{closeModal:t.closeModal,title:t.$t("operations.modal.add_service")}}):t._e(),t.addItem?s("add-item",{attrs:{closeModal:t.closeModal,activeItem:null,title:t.$t("stock.add_to_stock.add_to_stock")}}):t._e()],1)},wr=[],xr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s1",btnAction:[{name:t.$t("btn.add"),action:t.applyModal,active:t.serviceName&&""!==t.servicePrice&&t.servicePrice>=0},{name:t.$t("btn.close"),action:t.cancelModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-block__title"}),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:4,"max-height":100,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.stockCategories},on:{select:t.setType},model:{value:t.service_id,callback:function(e){t.service_id=e},expression:"service_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("operations.modal.type_records")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.serviceName,expression:"serviceName",modifiers:{trim:!0}}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.serviceName},on:{input:function(e){e.target.composing||(t.serviceName=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("operations.modal.service_name")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.servicePrice,expression:"servicePrice",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.servicePrice},on:{input:function(e){e.target.composing||(t.servicePrice=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("operations.modal.service_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-btn__small",class:{checked:t.use_own_funds},on:{click:function(e){t.use_own_funds=!t.use_own_funds}}},[t._v(t._s(t.$t("operations.modal.use_own_funds")))])])])])])])},kr=[],$r={name:"add-service",data:function(){return{serviceName:"",servicePrice:0,use_own_funds:!1,service_id:16,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0}}},components:{Treeselect:Ce.a,Modal:Ge},props:["title","closeModal"],computed:Object(u["b"])({stockCategories:function(t){return t.stock.stockCategories}}),methods:{setType:function(t){},applyModal:function(){var t={category_id:this.service_id,name:this.serviceName,price:this.servicePrice,use_own_funds:this.use_own_funds};this.$store.dispatch("operations/addService",t),this.closeModal()},cancelModal:function(){this.closeModal()}}},Pr=$r,Or=Object(c["a"])(Pr,xr,kr,!1,null,null,null);Or.options.__file="AddService.vue";var Sr=Or.exports,Ir=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s10",btnAction:[{name:t.$t("btn.reset"),action:t.resetModal,active:t.stockAddList.items.length},{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.ok"),action:t.applyModal,active:t.stockAddList.items.length}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"properties"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.add_to_stock.new_product")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.barcode,expression:"itemProperty.barcode"}],staticClass:"cove-input",attrs:{type:"text"},domProps:{value:t.itemProperty.barcode},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.findProductByBarcode(e):null},input:function(e){e.target.composing||t.$set(t.itemProperty,"barcode",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.barcode")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"c-search__wrap"},[s("div",{ref:"search",staticClass:"c-search__box",class:{active:t.showSearch}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.name,expression:"itemProperty.name"}],attrs:{type:"text"},domProps:{value:t.itemProperty.name},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"name",e.target.value)},t.inputName],focus:function(e){t.showSearch=!0}}}),t.showSearch?s("div",{staticClass:"c-search__list"},t._l(t.productList,function(e,a){return s("div",{key:a,staticClass:"c-search__list-item",on:{click:function(s){t.searchSelect(e)}}},[t._v(t._s(e.name))])})):t._e()]),s("div",{staticClass:"modal-row__label",style:{"z-index":11}},[t._v(t._s(t.$t("stock.add_to_stock.name")))])])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.categoryList},on:{select:t.setParentName},model:{value:t.itemProperty.parent_id,callback:function(e){t.$set(t.itemProperty,"parent_id",e)},expression:"itemProperty.parent_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.category")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.stockCategories},on:{select:t.setCategoryName},model:{value:t.itemProperty.category_id,callback:function(e){t.$set(t.itemProperty,"category_id",e)},expression:"itemProperty.category_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.type_records")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.measureList},on:{select:t.setMeasureName},model:{value:t.itemProperty.measure_id,callback:function(e){t.$set(t.itemProperty,"measure_id",e)},expression:"itemProperty.measure_id"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_mesurment")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{"c-disabled":!1!==t.itemProperty.item_id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemProperty.description,expression:"itemProperty.description"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.itemProperty.description},on:{input:function(e){e.target.composing||t.$set(t.itemProperty,"description",e.target.value)}}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.description")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.quantity,expression:"itemProperty.quantity",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.quantity},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"quantity",t._n(e.target.value))},t.recalQ],focus:function(e){t.checkZeroFocus("quantity")},blur:[function(e){t.checkZeroBlur("quantity")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.quantity")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.price,expression:"itemProperty.price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number",required:""},domProps:{value:t.itemProperty.price},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"price",t._n(e.target.value))},t.recalP],focus:function(e){t.checkZeroFocus("price")},blur:[function(e){t.checkZeroBlur("price")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.unit_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemProperty.total_price,expression:"itemProperty.total_price",modifiers:{number:!0}}],staticClass:"cove-input",attrs:{type:"number"},domProps:{value:t.itemProperty.total_price},on:{input:[function(e){e.target.composing||t.$set(t.itemProperty,"total_price",t._n(e.target.value))},t.recalT],focus:function(e){t.checkZeroFocus("total_price")},blur:[function(e){t.checkZeroBlur("total_price")},function(e){t.$forceUpdate()}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("stock.add_to_stock.total_price")))])])]),s("div",{staticClass:"modal-row c-text-right c-nowrap"},[s("div",{staticClass:"modal-default-button",on:{click:t.clear}},[t._v(t._s(t.$t("stock.add_to_stock.clear")))]),s("div",{staticClass:"modal-default-button",class:{"c-btn__disabled":!t.existActive},on:{click:t.editItem}},[t._v(t._s(t.$t("stock.add_to_stock.edit")))]),s("div",{staticClass:"modal-default-button",class:{"c-btn__disabled":!t.readyToAdd},on:{click:t.addItem}},[t._v(t._s(t.$t("stock.add_to_stock.add")))])])]),s("div",{staticClass:"modal-block",attrs:{name:"ingredients"}},[s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("stock.add_to_stock.new_products")))])])]),s("div",{staticClass:"modal-table__row modal-row modal-table__100"},[s("div",{staticClass:"modal-table__cell modal-table__100 modal-table__padd"},[s("div",{ref:"wrap",staticClass:"modal-table__wrap"},[s("div",{staticClass:"modal-table",attrs:{name:"ingredients"}},[s("div",{ref:"table-body",staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.category_full")))]),s("div",{staticClass:"modal-table__cell",attrs:{name:"head-name"}},[t._v(t._s(t.$t("stock.add_to_stock.heads.name")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.mesurment")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.quantity")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.total_price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("stock.add_to_stock.heads.expense")))])]),s("div",{staticClass:"modal-table__row-group"},t._l(t.stockAddList.items,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",class:{active:t.itemProperty.id===e.id},attrs:{name:"items"},on:{click:function(s){t.setActive(e)}}},[s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.category_name))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"modal-table__cell modal-table__cell-quarted",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.measure_name))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(1==e.measure_id||3==e.measure_id?e.quantity.toFixed(3):e.quantity))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(t.VAT(e.total_price)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(t.VAT(e.price)))]),s("div",{staticClass:"modal-table__cell modal-table__cell-quarted"},[t._v(t._s(e.category_name))])])}))])])])]),s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"property-value"},[t._v(t._s(t.VAT(t.totalCost)))]),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("menu.new_dish.props.total_price")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},t._l(t.checkbox,function(e,a){return s("div",{key:a,staticClass:"modal-btn__small",class:{checked:t.stockAddList[e.a]},on:{click:function(s){t.setCheckbox(e.a)}}},[t._v(t._s(e.name))])}))])])])])])])},Mr=[],Lr={name:"add-item",data:function(){return{count:0,checkbox:[{a:"use_own_funds",name:this.$t("stock.add_to_stock.use_own")},{a:"pay_later",name:this.$t("stock.add_to_stock.pay_later")},{a:"include_vat",name:this.$t("stock.add_to_stock.vat")}],treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},itemProperty:{id:!1,item_id:!1,barcode:"",parent_id:null,parent_name:"",measure_id:0,measure_name:"",category_id:0,category_name:"",name:"",quantity:0,price:"0.00",description:"",total_price:"0.00"},itemPropertyCopy:{},stockAddList:{use_own_funds:!1,include_vat:!1,pay_later:!1,items:[]},showSearch:!1}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","closeModal","title"],computed:Object(u["b"])({productList:function(t){var e=this,s=[];return this.itemProperty.name?(s=t.stock.productList.filter(function(t){if(t.name.toLowerCase().indexOf(e.itemProperty.name.toLowerCase())>-1)return t}),this.sortASC(s,"name")):s},measureList:function(t){return t.stock.measureList},categoryList:function(t){return t.stock.treeFolder},stockCategories:function(t){return t.stock.stockCategories},readyToAdd:function(){var t=!1;return this.itemProperty.parent_id&&this.itemProperty.name&&(t=!0),t},existActive:function(){var t=this,e=!1;return this.stockAddList.items.map(function(s){s.id===t.itemProperty.id&&(e=!0)}),e},totalCost:function(){var t=0;return this.stockAddList.items.map(function(e){t+=parseFloat(e.total_price)}),t}}),watch:{"itemProperty.parent_id":{handler:function(t){var e=this.stockCategories.filter(function(e){return e.id==t});e.length&&(this.itemProperty.parent_name=e[0].label)},deep:!0},"itemProperty.category_id":{handler:function(t){var e=this.stockCategories.filter(function(e){return e.id==t});e.length&&(this.itemProperty.category_name=e[0].label)},deep:!0},"itemProperty.measure_id":{handler:function(t){var e=this.measureList.filter(function(e){return e.id==t});e.length&&(this.itemProperty.measure_name=e[0].label)},deep:!0}},methods:{recalQ:function(t){this.itemProperty.quantity<0&&(this.itemProperty.quantity=0),this.itemProperty.total_price=(this.itemProperty.price*this.itemProperty.quantity).toFixed(2)},recalP:function(t){this.itemProperty.price<0&&(this.itemProperty.price=0),this.itemProperty.total_price=(this.itemProperty.price*this.itemProperty.quantity).toFixed(2)},recalT:function(t){var e=!0;this.itemProperty.quantity||(e=!1),(parseInt(this.itemProperty.total_price)<0||0==parseInt(this.itemProperty.quantity))&&(this.itemProperty.total_price=0,e=!1),e&&(this.itemProperty.price=(this.itemProperty.total_price/this.itemProperty.quantity).toFixed(2))},cancelModal:function(){this.resetModal(),this.closeModal()},applyModal:function(){var t=this,e=Object.assign({},this.stockAddList);e.items=e.items.map(function(t){return t.item_id?{item_id:t.item_id,quantity:t.quantity,price:parseFloat(t.price)}:{name:t.name,parent_id:t.parent_id,category_id:t.category_id,description:t.description,quantity:t.quantity,price:parseFloat(t.price),measure_id:t.measure_id}}),this.$store.dispatch("stock/stockAdd",e).then(function(){t.$store.dispatch("stock/stock"),t.$store.dispatch("menu/menu")}),this.cancelModal()},resetModal:function(){this.clear(),this.stockAddList.use_own_funds=!1,this.stockAddList.include_vat=!1,this.stockAddList.pay_later=!1,this.stockAddList.items=[],this.count=0},clear:function(){Object.assign(this.itemProperty,this.itemPropertyCopy)},removeItem:function(){var t=this.itemProperty.id;this.stockAddList.items=this.stockAddList.items.filter(function(e){return e.id!=t}),this.clear()},addItem:function(){var t={id:this.count,item_id:this.itemProperty.item_id,name:this.itemProperty.name,parent_id:this.itemProperty.parent_id,category_id:this.itemProperty.category_id,category_name:this.itemProperty.category_name,description:this.itemProperty.description,quantity:this.itemProperty.quantity,price:this.itemProperty.price,total_price:this.itemProperty.total_price,measure_id:this.itemProperty.measure_id,measure_name:this.itemProperty.measure_name};this.count++,this.stockAddList.items.push(t),this.clear()},editItem:function(){var t=this;this.stockAddList.items.map(function(e){e.id==t.itemProperty.id&&(e=Object.assign(e,t.itemProperty))})},VAT:function(t){return this.stockAddList.include_vat?(parseFloat(t)+parseFloat(t)/100*7).toFixed(2):parseFloat(t).toFixed(2)},setActive:function(t){Object.assign(this.itemProperty,t)},setCheckbox:function(t){return this.stockAddList[t]=!this.stockAddList[t],this.stockAddList[t]},checkZeroFocus:function(t){0==parseInt(this.itemProperty[t])&&(this.itemProperty[t]="")},checkZeroBlur:function(t){var e="quantity"==t;""===this.itemProperty[t]?(this.itemProperty[t]=0,e||(this.itemProperty[t]=parseFloat(this.itemProperty[t]).toFixed(2))):e||(this.itemProperty[t]=parseFloat(this.itemProperty[t]).toFixed(2))},findProductByBarcode:function(){var t=this;this.itemProperty.barcode&&this.$store.dispatch("stock/findProductByBarcode",{barcode:this.itemProperty.barcode}).then(function(e){t.setItemProperty(e)})},setItemProperty:function(t){var e=t.category_id,s=t.item_id,a=t.description,i=t.name,o=t.measure_id,n=t.parent_id,r=t.quantity,c=t.stock_price;this.itemProperty.id=!!t.hasOwnProperty("id")&&t.id,this.itemProperty.item_id=s,this.itemProperty.name=i,this.itemProperty.parent_id=n,this.itemProperty.category_id=e,this.itemProperty.description=a,this.itemProperty.quantity=r,this.itemProperty.price=parseFloat(c).toFixed(2),this.itemProperty.measure_id=o,this.itemProperty.parent_id=n,this.itemProperty.total_price=parseFloat(this.itemProperty.price*r).toFixed(2)},inputName:Object(ps["debounce"])(function(){var t=this;this.itemProperty.item_id=!1,this.itemProperty.id=!1;var e=this.productList.filter(function(e){return e.name==t.itemProperty.name});e.length&&this.setItemProperty(e[0])},100),searchBlur:function(){this.showSearch&&event.target!=this.$refs.search&&!this.$refs.search.contains(event.target)&&(this.showSearch=!1)},searchSelect:function(t){this.setItemProperty(t),this.showSearch=!1},sortASC:function(t,e){return t.sort(function(t,s){var a="string"==typeof t[e]?t[e].toLowerCase():t[e],i="string"==typeof s[e]?s[e].toLowerCase():s[e];return a>i?1:a<i?-1:0}),t},setMeasureName:function(t){this.itemProperty.measure_name=t.label},setCategoryName:function(t){this.itemProperty.category_name=t.label},setParentName:function(t){this.itemProperty.parent_name=t.label},keyDown:function(t){t=t||window.event;var e=t.which||t.keyCode;46==e&&this.removeItem()}},created:function(){var t=this,e=this.stockCategories.filter(function(e){return e.id==t.itemProperty.category_id});e.length&&(this.itemProperty.category_name=e[0].label);var s=this.measureList.filter(function(e){return e.id==t.itemProperty.measure_id});s.length&&(this.itemProperty.measure_name=s[0].label),this.itemPropertyCopy=Object.assign({},this.itemProperty)},mounted:function(){document.addEventListener("click",this.searchBlur,!1),window.addEventListener("keydown",this.keyDown,!1)},beforeDestroy:function(){document.removeEventListener("click",this.searchBlur),window.removeEventListener("keydown",this.keyDown)}},Er=Lr,Tr=Object(c["a"])(Er,Ir,Mr,!1,null,null,null);Tr.options.__file="AddItem.vue";var Ar=Tr.exports,Fr={name:"OperationsWrap",components:{AddService:Sr,AddItem:Ar},data:function(){return{addItem:!1,addServiceStatus:!1,operations:{cashbox:{balance:{value:0,type:"set_cashier_balance",active:!1},add:{value:"",type:"cashier_deposit",active:!1},whitdrawal:{value:"",type:"cashier_withdrawal",active:!1}},safe:{balance:{value:0,type:"set_safe_balance",active:!1},add:{value:"",type:"safe_deposit",active:!1},transfer_cash:{value:"",type:"transfer_from_cashier_to_safe",active:!1},transfer_bank:{value:"",type:"transfer_from_bank_to_safe",active:!1},whitdrawal:{value:"",type:"safe_withdrawal",active:!1}},bank:{balance:{value:0,type:"set_bank_balance",active:!1}}}}},methods:{focus:function(t){t.active=!0},blur:function(t){t.active=!1},isActive:function(t){return!((""==t.value||t.value<0)&&!t.active)},addService:function(){this.addServiceStatus=!0},closeModal:function(){this.addServiceStatus=!1,this.addItem=!1},addToStock:function(){this.addItem=!0},apply:function(t,e){var s=this,a={type:this.operations[t][e].type,value:this.operations[t][e].value};this.$store.dispatch("operations/setFundsOperation",a).then(function(){"balance"!=e&&(s.operations[t][e].value=""),s.$store.dispatch("operations/getFunds").then(function(t){s.operations.cashbox.balance.value=t.cashier,s.operations.safe.balance.value=t.safe,s.operations.bank.balance.value=t.bank})})},getFunds:function(){var t=this;this.$store.dispatch("operations/getFunds").then(function(e){t.operations.cashbox.balance.value=e.cashier,t.operations.safe.balance.value=e.safe,t.operations.bank.balance.value=e.bank})}},created:function(){this.getFunds()}},jr=Fr,qr=Object(c["a"])(jr,Cr,wr,!1,null,null,null);qr.options.__file="OperationsWrap.vue";var Dr=qr.exports,Nr={name:"AppOperations",components:{CoveOperations:pr,Panel:gr,OperationsWrap:Dr},computed:Object(u["b"])({loading:function(t){return t.stock.loading}}),created:function(){this.$store.commit("stock/setLoading",!0),this.$store.dispatch("stock/stock"),this.$store.dispatch("menu/menu")}},Br=Nr,Rr=Object(c["a"])(Br,rr,cr,!1,null,null,null);Rr.options.__file="AppOperations.vue";var Wr=Rr.exports,zr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-orders",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("OrdersWrap",{attrs:{slot:"orders"},slot:"orders"})],1)},Hr=[],Ur=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("orders")],2)],2)},Vr=[],Qr={name:"cove-orders"},Yr=Qr,Zr=Object(c["a"])(Yr,Ur,Vr,!1,null,null,null);Zr.options.__file="CoveOrders.vue";var Kr=Zr.exports,Jr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))])]),s("div",{attrs:{slot:"future"},slot:"future"},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}}),s("no-visible",[s("div",{ref:"novisible",attrs:{slot:"body"},slot:"body"},[s("table",[s("tr",{staticClass:"cove-container__table-head"},[s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.id")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.cashier")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.time")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.discount")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.paidsum")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.balance")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.paid_type")))]),s("th")]),s("tbody",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listOrders.list,function(e,a){return s("tr",{key:a,staticClass:"cove-container__table-row"},[s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.order_number))]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.cashier_name))]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.time)))]),s("td",{staticClass:"cove-container__table-cell"},[s("span",{staticClass:"value-before__common"},[t._v(t._s(e.discount.toFixed(2)))]),s("span",{staticClass:"value-after__common"},[t._v(t._s(e.discount_percent.toFixed(2))+"%")])]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.paidsum.toFixed(2)))]),s("td",{staticClass:"cove-container__table-cell"},[s("span",{staticClass:"value-before__common"},[t._v(t._s(e.balancebefore.toFixed(2)))]),s("span",{staticClass:"value-after__common  value-bold"},[t._v(t._s(e.balanceafter.toFixed(2)))])]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads."+e.paid_type)))]),s("td")])}))])])])],1)])},Xr=[],Gr={name:"panel",mixins:[ue],components:{CovePanel:Re,Modal:Ge,NoVisible:en},data:function(){return{showModal:!1,frame:!0}},computed:Object(u["b"])({reportType:function(t){return t.expenses.options.report_type},listOrders:function(t){return{list:t.orders.ordersList,options:{total_records:t.orders.totals.total_records,count:t.orders.options.count,page:t.orders.options.page}}}}),methods:{print:function(){if(this.$store.state.orders.ordersStatus){this.frame=!0;var t=this.$refs.qframe;t.contentWindow.document.body.innerHTML="";var e="\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n                  th, td {\n                      padding: 5pt 12pt;\n                      white-space: nowrap;\n                  }\n                  .c-text-center{\n                      text-align: center !important;\n                  }\n                  .value-before__common {\n                      width: 50%;\n                      display: inline-block;\n                      text-align: right;\n                      padding-right: 11px;\n                  }\n                  .value-after__common {\n                      display: inline-block;\n                      width: 50%;\n                  }\n                  .print-page{\n                      padding: 5pt;\n                  }\n              }",s=document.createElement("style");s.appendChild(document.createTextNode(e)),t.contentWindow.document.body.appendChild(s),t.contentWindow.document.body.appendChild(this.$refs.novisible),t.contentWindow.print()}}}},tc=Gr,ec=Object(c["a"])(tc,Jr,Xr,!1,null,null,null);ec.options.__file="Panel.vue";var sc=ec.exports,ac=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__wrap",attrs:{name:"expenses"}},[t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e(),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__head-left"},[s("time-period",{on:{callback:t.setPeriod}})],1),s("div",{staticClass:"cove-container__head-right"},[s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{name:"cashier"}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselectFilter.multiple,clearable:t.treeselectFilter.clearable,searchable:t.treeselectFilter.searchable,disabled:t.treeselectFilter.disabled,"open-on-click":t.treeselectFilter.openOnClick,"open-on-focus":t.treeselectFilter.openOnFocus,"clear-on-select":t.treeselectFilter.clearOnSelect,"close-on-select":t.treeselectFilter.closeOnSelect,"always-open":t.treeselectFilter.alwaysOpen,"append-to-body":t.treeselectFilter.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,options:t.cashier_list},on:{select:t.setCashier},model:{value:t.cashier,callback:function(e){t.cashier=e},expression:"cashier"}})],1),s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{name:"order-id"}},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOrder,expression:"inputOrder"}],attrs:{placeholder:"Order",type:"text"},domProps:{value:t.inputOrder},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enterOrder(e):null},input:function(e){e.target.composing||(t.inputOrder=e.target.value)}}})])])])]),s("div",{ref:"body",staticClass:"cove-container__body margin-top-3"},[s("div",{ref:"box",staticClass:"cove-container__body-table-box"},[s("div",{ref:"table",staticClass:"cove-container__table"},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"}),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.cashier")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.time")))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(t.$t("orders.heads.discount")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.paidsum")))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(t.$t("orders.heads.balance")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads.paid_type")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listOrders.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",on:{dblclick:function(s){t.showOrder({id:e.order_number})}}},[s("div",{staticClass:"cove-container__table-cell"}),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.order_number))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.cashier_name))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.time)))]),s("div",{staticClass:"cove-container__table-cell"},[s("span",{staticClass:"value-before__common"},[t._v(t._s(e.discount.toFixed(2)))]),s("span",{staticClass:"value-after__common"},[t._v(t._s(e.discount_percent.toFixed(2))+"%")])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.paidsum.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[s("span",{staticClass:"value-before__common"},[t._v(t._s(e.balancebefore.toFixed(2)))]),s("span",{staticClass:"value-after__common  value-bold"},[t._v(t._s(e.balanceafter.toFixed(2)))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.heads."+e.paid_type)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom"},[s("pagination",{attrs:{"v-if":t.ordersStatus,options:t.listOrders.options,perPagelist:[50,100,!1]},on:{paginator:t.paginator}}),s("orders-total")],1)]),t.showOrderStatus&&t.$store.state.orders.orderItem?s("order-detail",{attrs:{closeModal:t.closeModal,title:t.$t("orders.modal.order_detail")}}):t._e()],1)])},ic=[],oc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__table",attrs:{name:"totals"}},[s("div",{staticClass:"cove-container__table-tbody"},t._l(t.listTotals,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("orders.total."+e.name)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.value))])])}))])},nc=[],rc={name:"orders-total",computed:Object(u["b"])({listTotals:function(t){for(var e=[],s={},a=Object.keys(t.orders.totals),i=0,o=a.length;i<o;i++)"total_records"!=a[i]&&(s["name"]=a[i],s["value"]=t.orders.totals[a[i]].toFixed(2),e.push(Object.assign({},s)));return e}})},cc=rc,lc=Object(c["a"])(cc,oc,nc,!1,null,null,null);lc.options.__file="OrdersTotal.vue";var dc=lc.exports,_c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,btnAction:[{name:t.$t("btn.prev_order")+(t.order.prev_order_number?" #"+t.order.prev_order_number:""),action:t.getOrder,active:!!t.order.prev_order_number,data:{id:t.order.prev_order_number}},{name:t.$t("btn.next_order")+(t.order.next_order_number?" #"+t.order.next_order_number:""),action:t.getOrder,active:!!t.order.next_order_number,data:{id:t.order.next_order_number}},{name:t.$t("btn.ok"),action:t.cancelModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"owners"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("orders.modal.order")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.order")))]),s("div",{staticClass:"modal-row__field-value"},[t._v("#"+t._s(t.order.order_number))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.time")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.getTime(t.order.time)))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.cashier")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.order.cashier_name))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-row__field-title"},[t._v(t._s(t.$t("orders.modal.discount_card")))]),s("div",{staticClass:"modal-row__field-value"},[t._v(t._s(t.order.discount_card&&"0"!==t.order.discount_card?t.order.discount_card:"-"))])])])]),s("div",{staticClass:"modal-block",attrs:{name:"details"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("orders.modal.details")))])]),s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row modal-row modal-table__100"},[s("div",{staticClass:"modal-table__cell modal-table__100 modal-table__padd"},[s("div",{ref:"wrap",staticClass:"modal-table__wrap"},[s("div",{staticClass:"modal-table",attrs:{name:"details"}},[s("div",{ref:"table-body",staticClass:"modal-table__row modal-table__row-head"},[s("div",{staticClass:"modal-table__cell",attrs:{name:"head-name"}},[t._v(t._s(t.$t("orders.modal.position")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.quantity")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.price")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.discount")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.$t("orders.modal.paidsum")))])]),s("div",{staticClass:"modal-table__row-group"},[t._l(t.order.items,function(e,a){return s("div",{key:a,staticClass:"modal-table__row",attrs:{name:"items"}},[s("div",{staticClass:"modal-table__cell",attrs:{name:"name"}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"#"+e.menu_id+" "+e.menu_name,expression:"'#' + item.menu_id + ' ' + item.menu_name"}]},[t._v(t._s("#"+e.menu_id+" "+e.menu_name))])]),s("div",{staticClass:"modal-table__cell",attrs:{name:"quantity"}},[t._v(t._s(e.quantity))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.price.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.discount.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(e.paidsum.toFixed(2)))])])}),s("div",{staticClass:"modal-table__row",attrs:{name:"total"}},[s("div",{staticClass:"modal-table__cell",attrs:{name:"tree"}}),s("div",{staticClass:"modal-table__cell c-text-bold"},[t._v(t._s(t.$t("orders.modal.total")))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.order.total_price.toFixed(2)))]),s("div",{staticClass:"modal-table__cell"},[t._v(t._s(t.order.discount.toFixed(2)))]),s("div",{staticClass:"modal-table__cell c-text-bold"},[t._v(t._s(t.order.paidsum.toFixed(2)))])])],2)])])])])])])])])},uc=[],mc={name:"order-detail",mixins:[ue],components:{Modal:Ge},props:["title","closeModal"],computed:Object(u["b"])({order:function(t){var e=Object.assign({},t.orders.orderItem),s=Object.keys(e),a=s.filter(function(t){return"prev_order_number"==t}),i=s.filter(function(t){return"next_order_number"==t});return a.length||(e["prev_order_number"]=null),i.length||(e["next_order_number"]=null),e}}),methods:{cancelModal:function(){this.closeModal()},getOrder:function(t){this.$store.dispatch("orders/setOrderItem",t)}}},pc=mc,vc=Object(c["a"])(pc,_c,uc,!1,null,null,null);vc.options.__file="OrderDetail.vue";var hc=vc.exports,fc={name:"OrdersWrap",mixins:[ue],components:{Treeselect:Ce.a,OrdersTotal:dc,OrderDetail:hc,Pagination:Bn,TimePeriod:Xn},data:function(){return{setPeriodStatus:!1,showOrderStatus:!1,filterPeriod:[{id:0,name:this.$t("periodtime.today")},{id:1,name:this.$t("periodtime.yesterday")},{id:2,name:this.$t("periodtime.week")},{id:3,name:this.$t("periodtime.month")},{id:4,name:this.$t("periodtime.all")}],treeselectFilter:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},cashier:null,inputOrder:""}},computed:Object(u["b"])({loading:function(t){return t.orders.loading},ordersStatus:function(t){return t.orders.ordersStatus},listOrders:function(t){return this.$nextTick(function(){var t=this.$refs.body;t.scroll(0,0)}),{list:t.orders.ordersList,options:{total_records:t.orders.totals.total_records,count:t.orders.options.count,page:t.orders.options.page}}},filterPeriodValue:function(t){return t.orders.options.period_id},listOptions:function(t){return{total_records:t.orders.totals.total_records,count:t.orders.options.count,page:t.orders.options.page}},cashier_list:function(t){var e={id:"-1",label:this.$t("orders.all_cashiers")},s=t.orders.cashier_list.map(function(t){return{id:t.user_id,label:t.user_name}});return e=[e].concat(Object(I["a"])(s)),e.length&&(this.cashier=!1===t.orders.options.cashier_id?e[0].id:t.orders.options.cashier_id),e}}),methods:{enterOrder:function(){this.showOrder({id:parseInt(this.inputOrder)})},paginator:function(t){var e={page:t.page,count:t.count};this.$store.dispatch("orders/setOptions",e)},setCashier:function(t){var e=t.id;-1==e&&(e=!1),this.$store.dispatch("orders/setOptions",{cashier_id:e})},selectPeriod:function(){this.setPeriodStatus=!0},setPeriod:function(){this.$store.dispatch("orders/setOptions",this.$store.state.orders.options)},showOrder:function(t){var e=this;this.$store.dispatch("orders/setOrderItem",t).then(function(){e.showOrderStatus=!0})},closeModal:function(){this.setPeriodStatus=!1,this.showOrderStatus=!1}},created:function(){var t={};this.ordersStatus?this.$store.dispatch("orders/setOptions",this.$store.state.orders.options):(t={page:1,count:50,period_id:0,cashier_id:!1,end_time:!1},this.$store.dispatch("orders/setOptions",t))},mounted:function(){this.$store.dispatch("orders/setCashierList")}},bc=fc,yc=Object(c["a"])(bc,ac,ic,!1,null,null,null);yc.options.__file="OrdersWrap.vue";var gc=yc.exports,Cc={name:"AppOrders",components:{CoveOrders:Kr,Panel:sc,OrdersWrap:gc}},wc=Cc,xc=Object(c["a"])(wc,zr,Hr,!1,null,null,null);xc.options.__file="AppOrders.vue";var kc=xc.exports,$c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-settings",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("router-view",{attrs:{slot:"settings"},slot:"settings"})],1)},Pc=[],Oc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("settings")],2)],2)},Sc=[],Ic={name:"cove-settings"},Mc=Ic,Lc=Object(c["a"])(Mc,Oc,Sc,!1,null,null,null);Lc.options.__file="CoveSettings.vue";var Ec=Lc.exports,Tc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel")},Ac=[],Fc={name:"panel",components:{CovePanel:Re}},jc=Fc,qc=Object(c["a"])(jc,Tc,Ac,!1,null,null,null);qc.options.__file="Panel.vue";var Dc=qc.exports,Nc={name:"AppSettings",components:{CoveSettings:Ec,Panel:Dc}},Bc=Nc,Rc=Object(c["a"])(Bc,$c,Pc,!1,null,null,null);Rc.options.__file="AppSettings.vue";var Wc=Rc.exports,zc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-statistics",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("router-view",{attrs:{slot:"statistics"},slot:"statistics"})],1)},Hc=[],Uc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("statistics")],2)],2)},Vc=[],Qc={name:"cove-statistics"},Yc=Qc,Zc=Object(c["a"])(Yc,Uc,Vc,!1,null,null,null);Zc.options.__file="CoveStatistics.vue";var Kc=Zc.exports,Jc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))])]),s("div",{attrs:{slot:"future"},slot:"future"},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}})])])},Xc=[],Gc={name:"panel",mixins:[ue],components:{CovePanel:Re,SearchPanel:Qe,Modal:Ge},data:function(){return{showModal:!1,frame:!0}},methods:{closeModal:function(){this.editCategory=!1,this.editItem=!1},print:function(){var t='\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n                  .cove-container__table {\n                      display: table;\n                      width: 100%;\n                      position: relative;\n                      border-collapse: collapse;\n                      background-color: #fff;\n                  }\n                  .cove-container__table-head {\n                      display: table-row;\n                      color: #1c3869;\n                      height: 50px;\n                  }\n                  .cove-container__table-head .cove-container__table-cell {\n                      display: table-cell;\n                      padding: 0 5px 0 10px;\n                      cursor: pointer;\n                      font-size: 0.9rem;\n                      white-space: nowrap;\n                      position: relative;\n                      line-height: 50px;\n                      font-weight: 500;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      background-color: #fff;\n                      position: -webkit-sticky;\n                      position: sticky;\n                      top: 0;\n                  }\n                  .cove-container__table-tbody {\n                      display: table-row-group;\n                  }\n                  .cove-container__table-row {\n                      display: table-row;\n                  }\n                  .cove-container__table-caption {\n                      font-size: 1rem;\n                      white-space: nowrap;\n                      line-height: 2.5rem;\n                      font-weight: 400;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      padding: 0 5px 0 10px;\n                      background-color: #f2f2f2 !important;\n                  }\n                  .cove-container__table-row .cove-container__table-cell {\n                      display: table-cell;\n                      font-size: 0.8rem;\n                      white-space: nowrap;\n                      line-height: 2.5rem;\n                      font-weight: 400;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      padding: 0 5px 0 10px;\n                  }\n                  .cove-container__table-row .cove-container__table-cell[name="name"] {\n                      min-width: 180px;\n                      max-width: 180px;\n                      white-space: normal;\n                      line-height: 1rem;\n                      padding-top: 10px;\n                      padding-bottom: 10px;\n                  }\n                  .cove-container__table-row .cove-container__table-cell--total {\n                      font-size: 1rem;\n                  }\n                  .c-text-right {\n                      text-align: right !important;\n                  }\n                  .c-text-left {\n                      text-align: left !important;\n                  }\n                  .c-text-center {\n                      text-align: center !important;\n                  }\n\n                  .cove-container__body-bottom {\n                      width: 100%;\n                      position: relative;\n                      bottom: 0;\n                      left: 0;\n                      padding-bottom: 30px;\n                      padding-top: 30px;\n                  }\n                  .cove-container__table[name="totals"] {\n                      position: relative;\n                      bottom: 0;\n                      left: 0;\n                  }\n                  .cove-container__table[name="totals"] .cove-container__table-row .cove-container__table-cell:first-child {\n                      font-size: 1.3rem;\n                  }\n                  .cove-container__table[name="totals"] .cove-container__table-row .cove-container__table-cell {\n                      font-size: 1.2rem;\n                      font-weight: 500;\n                      padding-left: 30px;\n                      border: 0;\n                  }\n                  .cove-container__table-row .cove-container__table-cell:last-child {\n                      width: auto;\n                  }\n              }';this.frame=!0;var e=this.$refs.qframe;e.contentWindow.document.body.innerHTML="";var s=document.createElement("style");s.appendChild(document.createTextNode(t)),e.contentWindow.document.body.appendChild(s);var a=document.getElementsByName("print"),i=document.getElementsByName("print-totals"),o=document.getElementsByName("print-chart");a.length&&(a=a[0].cloneNode(!0),e.contentWindow.document.body.appendChild(a)),i.length&&(i=i[0].cloneNode(!0),e.contentWindow.document.body.appendChild(i)),o.length&&(e.contentWindow.document.open(),e.contentWindow.document.write(o[0].outerHTML),e.contentWindow.document.close()),e.contentWindow.print()},createList:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;if(this.$store.state.menu.categoryPath.length-1>0)for(var i=this.$store.state.menu.categoryPath,o=0,n=i.length-1;o<n;o++)s+=i[o].name,s+=o<n-1?" / ":"";t.map(function(t){if(!t.is_file){var i=t.children.filter(function(t){return t.is_file}),o=s?s+" / "+t.name:t.name;if(i.length){var n=e.createElem(a,{tag:"div",className:["print-table__block","ss"]});e.createElem(n,{tag:"div",text:o,className:["print-title"]});var r=e.createElem(n,{tag:"table",className:["print-table"],attribute:{cellpadding:"0",cellspacing:"0",width:"100%"}}),c=e.createElem(r,{tag:"tr",className:["print-table__row","print-table-head"]}),l=[{name:"Id",attr:"print-table__cell"},{name:"Name",attr:"name"},{name:"Type",attr:"type"},{name:"Retail price",attr:"retail_price"},{name:"Prime cost",attr:"prime_cost"},{name:"Last update",attr:"last_update"}];l.map(function(t){e.createElem(c,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:t.attr}})}),i.map(function(t){var s=e.createElem(r,{tag:"tr",className:["print-table__row"]});e.createElem(s,{tag:"td",text:t.item_id,className:["print-table__cell"],attribute:{name:"id"}}),e.createElem(s,{tag:"td",text:t.name,className:["print-table__cell"],attribute:{name:"name"}}),e.createElem(s,{tag:"td",text:t.type?"Kitchen":"Bar",className:["print-table__cell"],attribute:{name:"type"}}),e.createElem(s,{tag:"td",text:t.retail_price.toFixed(2),className:["print-table__cell"],attribute:{name:"retail_price"}}),e.createElem(s,{tag:"td",text:t.prime_cost.toFixed(2),className:["print-table__cell"],attribute:{name:"prime_cost"}}),e.createElem(s,{tag:"td",text:e.getTime(t.last_update),className:["print-table__cell"],attribute:{name:"last_update"}})})}t.children.length&&e.createList(t.children,o,a)}})},createElem:function(t,e){var s=Object.assign({tag:"div"},e),a=document.createElement(s.tag);if(t=t||null,s.hasOwnProperty("className")&&(a.className=s.className.join(" ")),s.hasOwnProperty("text")&&(a.innerHTML=s.text),s.hasOwnProperty("attribute"))for(var i=Object.keys(s.attribute),o=0;o<i.length;o++)a.setAttribute(i[o],s.attribute[i[o]]);return t&&t.appendChild(a),s.hasOwnProperty("content")&&s.content(a),a}}},tl=Gc,el=Object(c["a"])(tl,Jc,Xc,!1,null,null,null);el.options.__file="Panel.vue";var sl=el.exports,al={name:"AppStatistics",components:{Panel:sl,CoveStatistics:Kc}},il=al,ol=Object(c["a"])(il,zc,Hc,!1,null,null,null);ol.options.__file="AppStatistics.vue";var nl=ol.exports,rl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-analytics",[s("panel",{attrs:{slot:"panel"},slot:"panel"}),s("router-view",{attrs:{slot:"analytics"},slot:"analytics"})],1)},cl=[],ll=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-main"},[t._t("panel"),s("div",{staticClass:"cove-main__table"},[t._t("analytics")],2)],2)},dl=[],_l={name:"cove-analytics"},ul=_l,ml=Object(c["a"])(ul,ll,dl,!1,null,null,null);ml.options.__file="CoveAnalytics.vue";var pl=ml.exports,vl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("cove-panel",[s("div",{staticClass:"cove-panel__buttons",attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"cove-panel__link",on:{click:t.print}},[t._v(t._s(t.$t("panel.print")))])]),s("div",{attrs:{slot:"future"},slot:"future"},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.frame,expression:"frame"}],ref:"qframe",staticStyle:{"z-index":"-10000",position:"fixed",top:"0px",left:"-99999px","background-color":"#fff"},attrs:{id:"qframe",frameborder:"0",width:"100%",height:"100%"}})])])},hl=[],fl={name:"panel",mixins:[ue],components:{CovePanel:Re,Modal:Ge},data:function(){return{frame:!0}},methods:{print:function(){var t='\n\n              @page {\n                  margin: 0cm;\n                  size: auto;\n              }\n              @media print, screen{\n                  * {\n                      background-color: #fff;\n                  }\n                  .cove-container__table {\n                      display: table;\n                      width: 100%;\n                      position: relative;\n                      border-collapse: collapse;\n                      background-color: #fff;\n                  }\n                  .cove-container__table-head {\n                      display: table-row;\n                      color: #1c3869;\n                      height: 50px;\n                  }\n                  .cove-container__table-head .cove-container__table-cell {\n                      display: table-cell;\n                      padding: 0 5px 0 10px;\n                      cursor: pointer;\n                      font-size: 0.9rem;\n                      white-space: nowrap;\n                      position: relative;\n                      line-height: 50px;\n                      font-weight: 500;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      background-color: #fff;\n                      position: -webkit-sticky;\n                      position: sticky;\n                      top: 0;\n                  }\n                  .cove-container__table-tbody {\n                      display: table-row-group;\n                  }\n                  .cove-container__table-row {\n                      display: table-row;\n                  }\n                  .cove-container__table-caption {\n                      font-size: 1rem;\n                      white-space: nowrap;\n                      line-height: 2.5rem;\n                      font-weight: 400;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      padding: 0 5px 0 10px;\n                      background-color: #f2f2f2 !important;\n                  }\n                  .cove-container__table-row .cove-container__table-cell {\n                      display: table-cell;\n                      font-size: 0.8rem;\n                      white-space: nowrap;\n                      line-height: 2.5rem;\n                      font-weight: 400;\n                      text-align: left;\n                      width: 10%;\n                      border-bottom: 1px solid #f2f2f2;\n                      padding: 0 5px 0 10px;\n                  }\n                  .cove-container__table-row .cove-container__table-cell[name="name"] {\n                      min-width: 180px;\n                      max-width: 180px;\n                      white-space: normal;\n                      line-height: 1rem;\n                      padding-top: 10px;\n                      padding-bottom: 10px;\n                  }\n                  .cove-container__table-row .cove-container__table-cell--total {\n                      font-size: 1rem;\n                  }\n                  .c-text-right {\n                      text-align: right !important;\n                  }\n                  .c-text-left {\n                      text-align: left !important;\n                  }\n                  .c-text-center {\n                      text-align: center !important;\n                  }\n\n                  .cove-container__body-bottom {\n                      width: 100%;\n                      position: relative;\n                      bottom: 0;\n                      left: 0;\n                      padding-bottom: 30px;\n                      padding-top: 30px;\n                  }\n                  .cove-container__table[name="totals"] {\n                      position: relative;\n                      bottom: 0;\n                      left: 0;\n                  }\n                  .cove-container__table[name="totals"] .cove-container__table-row .cove-container__table-cell:first-child {\n                      font-size: 1.3rem;\n                  }\n                  .cove-container__table[name="totals"] .cove-container__table-row .cove-container__table-cell {\n                      font-size: 1.2rem;\n                      font-weight: 500;\n                      padding-left: 30px;\n                      border: 0;\n                  }\n                  .cove-container__table-row .cove-container__table-cell:last-child {\n                      width: auto;\n                  }\n              }';this.frame=!0;var e=this.$refs.qframe;e.contentWindow.document.body.innerHTML="";var s=document.createElement("style");s.appendChild(document.createTextNode(t)),e.contentWindow.document.body.appendChild(s);var a=document.getElementsByName("print"),i=document.getElementsByName("print-totals"),o=document.getElementsByName("print-chart");a.length&&(a=a[0].cloneNode(!0),e.contentWindow.document.body.appendChild(a)),i.length&&(i=i[0].cloneNode(!0),e.contentWindow.document.body.appendChild(i)),o.length&&(e.contentWindow.document.open(),e.contentWindow.document.write(o[0].outerHTML),e.contentWindow.document.close()),e.contentWindow.print()}}},bl=fl,yl=Object(c["a"])(bl,vl,hl,!1,null,null,null);yl.options.__file="Panel.vue";var gl=yl.exports,Cl={name:"AppAnalytics",components:{Panel:gl,CoveAnalytics:pl}},wl=Cl,xl=Object(c["a"])(wl,rl,cl,!1,null,null,null);xl.options.__file="AppAnalytics.vue";var kl=xl.exports,$l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.last_update_time")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.days_left")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.written_off_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.average_sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.profit")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(("unit"!=e.measure_name?e.stock_quantity.toFixed(2):e.stock_quantity)+("unit"!=e.measure_name?" "+t.$t("measure."+e.measure_name):"")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.stock_price))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.last_update_time)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.days_left))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.written_off_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.average_sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.profit.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"draft_beer",totals:t.listStat.totals}})],1)])])},Pl=[],Ol=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__wrap",attrs:{name:"stat"}},[t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e(),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__head-left"},[s("time-period",{on:{callback:t.setPeriod}})],1),s("div",{staticClass:"cove-container__head-right"},[t._t("panel-right")],2)]),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__tabs"},[s("div",{staticClass:"cove-container__tabs-box"},t._l(t.tabs,function(e,a){return s("router-link",{key:a,staticClass:"cove-container__tabs-tab stat-tab__router-link",class:{active:e.path==t.$route.name},attrs:{to:{path:"/statistics/"+e.path}}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])}))])]),s("div",{ref:"body",staticClass:"cove-container__body margin-top-2"},[t._t("body")],2)])},Sl=[],Il={name:"StatWrap",components:{TimePeriod:Xn},data:function(){return{tabs:[{title:this.$t("stat.parts.draft_beer"),path:"draft_beer"},{title:this.$t("stat.parts.bottled_beer"),path:"bottled_beer"},{title:this.$t("stat.parts.products"),path:"products"},{title:this.$t("stat.parts.dishes"),path:"dishes"},{title:this.$t("stat.parts.discount_cards"),path:"discount_cards"},{title:this.$t("stat.parts.expense_categories"),path:"expense_categories"},{title:this.$t("stat.parts.alcohol"),path:"alcohol"},{title:this.$t("stat.parts.orders_by_hours"),path:"orders_by_hours"},{title:this.$t("stat.parts.revenue"),path:"revenue"},{title:this.$t("stat.parts.dishes_by_hours"),path:"dishes_by_hours"},{title:this.$t("stat.parts.additions"),path:"additions"},{title:this.$t("stat.parts.karaoke"),path:"karaoke"},{title:this.$t("stat.parts.promo"),path:"promo"}]}},computed:Object(u["b"])({loading:function(t){return t.statistics.loading}}),methods:{setPeriod:function(){this.$store.dispatch("statistics/setOptions",Object.assign({},this.$store.state.statistics.parts[this.$store.state.statistics.part].options))}},mounted:function(){this.$nextTick(function(){var t=this.$refs.body;t.scroll(0,0)})}},Ml=Il,Ll=Object(c["a"])(Ml,Ol,Sl,!1,null,null,null);Ll.options.__file="StatisticsWrap.vue";var El=Ll.exports,Tl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__table",attrs:{name:"totals"}},[s("div",{staticClass:"cove-container__table-tbody"},t._l(t.list(),function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.total."+e.name)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.value))])])}))])},Al=[],Fl={name:"stat-total",props:["part","totals"],methods:{isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},list:function(){for(var t=[],e={},s=this.totals||{},a=Object.keys(s),i=0,o=a.length;i<o;i++)if("total_records"!=a[i]){e["name"]=a[i];var n=s[a[i]];e["value"]=this.isNumeric(n)?n.toFixed(2):"-",t.push(Object.assign({},e))}return t}}},jl=Fl,ql=Object(c["a"])(jl,Tl,Al,!1,null,null,null);ql.options.__file="StatTotal.vue";var Dl=ql.exports,Nl={name:"DraftBeer",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["draft_beer"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["draft_beer"];return{list:e.statList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"draft_beer",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"draft_beer"},this.$store.dispatch("statistics/setOptions",t)}},Bl=Nl,Rl=Object(c["a"])(Bl,$l,Pl,!1,null,null,null);Rl.options.__file="DraftBeer.vue";var Wl=Rl.exports,zl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.last_update_time")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.days_left")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.written_off_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.average_sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.profit")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(("unit"!=e.measure_name?e.stock_quantity.toFixed(2):e.stock_quantity)+("unit"!=e.measure_name?" "+t.$t("measure."+e.measure_name):"")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.stock_price))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.last_update_time)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.days_left))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.written_off_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.average_sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.profit.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"bottled_beer",totals:t.listStat.totals}})],1)])])},Hl=[],Ul={name:"BottledBeer",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["bottled_beer"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["bottled_beer"];return{list:e.statList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"bottled_beer",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"bottled_beer"},this.$store.dispatch("statistics/setOptions",t)}},Vl=Ul,Ql=Object(c["a"])(Vl,zl,Hl,!1,null,null,null);Ql.options.__file="BottledBeer.vue";var Yl=Ql.exports,Zl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.last_update_time")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.days_left")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.written_off_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.average_sold_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.profit")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(("unit"!=e.measure_name?e.stock_quantity.toFixed(2):e.stock_quantity)+("unit"!=e.measure_name?" "+t.$t("measure."+e.measure_name):"")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.stock_price))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.last_update_time)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.days_left))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.written_off_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.average_sold_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.profit.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"products",totals:t.listStat.totals}})],1)])])},Kl=[],Jl={name:"Products",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["products"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["products"];return{list:e.statList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"products",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"products"},this.$store.dispatch("statistics/setOptions",t)}},Xl=Jl,Gl=Object(c["a"])(Xl,Zl,Kl,!1,null,null,null);Gl.options.__file="Products.vue";var td=Gl.exports,ed=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.treeSelectList},on:{select:t.setCategory},model:{value:t.category_id,callback:function(e){t.category_id=t._n(e)},expression:"category_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("menu.new_dish.props.category")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.menu_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.orders_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.average_orders_per_day")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.orders_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.prime_cost")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.margin")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",class:{"cove-container__table-row--disabled":!e.orders_quantity}},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.menu_id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.menu_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.orders_quantity))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.average_orders_per_day.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.orders_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.prime_cost.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell",class:{negative:e.margin<e.orders_price/2}},[t._v(t._s(e.margin.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"dishes",totals:t.listStat.totals}})],1)])])},sd=[],ad={name:"Dishes",mixins:[ue],data:function(){return{treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},category_id:2297}},components:{Treeselect:Ce.a,StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){return t.statistics.parts["dishes"].statStatus},listStat:function(t){var e=t.statistics.parts["dishes"];return{list:e.statList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}},treeSelectList:function(t){if(!t.statistics.categoryTree.hasOwnProperty("tree"))return[];var e=this.category_id,s=function t(s){var a=s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s});return a},a=Object.assign({},t.statistics.categoryTree),i=a.tree;return s(i)}}),methods:{setCategory:function(t){this.$store.dispatch("statistics/setCategoryId",{id:t.id,part:"dishes"})}},beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"dishes",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"dishes"},this.$store.dispatch("statistics/categoryTree",t)}},id=ad,od=Object(c["a"])(id,ed,sd,!1,null,null,null);od.options.__file="Dishes.vue";var nd=od.exports,rd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.card_number")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.cardholder_name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.current_discount")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.discounts_count")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",class:{"cove-container__table-row--disabled":!e.discounts_count}},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.card_number))]),s("div",{staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.cardholder_name},expression:"{content: i.cardholder_name}"}]},[t._v(t._s(e.cardholder_name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.current_discount.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.discounts_count))]),s("div",{staticClass:"cove-container__table-cell"})])}))])])])},cd=[],ld={name:"Cards",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["discount_cards"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["discount_cards"];return{list:e.statList,totals:e.totals}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"discount_cards",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"discount_cards"},this.$store.dispatch("statistics/setOptions",t)}},dd=ld,_d=Object(c["a"])(dd,rd,cd,!1,null,null,null);_d.options.__file="Cards.vue";var ud=_d.exports,md=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("table",{staticClass:"cove-container__table",attrs:{name:"print"}},[s("thead",{staticClass:"cove-container__table-head"},[s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.category_id")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.category_name")))]),s("th",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.cost")))]),s("th",{staticClass:"cove-container__table-cell"})]),t._l(t.listStat.list,function(e,a){return s("tbody",{key:a,staticClass:"cove-container__table-tbody"},[s("tr",{staticClass:"cove-container__table-row"},[s("td",{staticClass:"cove-container__table-caption",attrs:{colspan:"4"}},[t._v(t._s(e.group))])]),t._l(e.items,function(e,a){return s("tr",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.category_id))]),s("td",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.category_name},expression:"{content: i.category_name}"}],staticClass:"cove-container__table-cell",class:{negative:99==e.category_id&&e.cost>0},attrs:{name:"name"}},[s("span",[t._v(t._s(e.category_name))])]),s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.cost.toFixed(2)))]),s("td",{staticClass:"cove-container__table-cell"})])}),s("tr",{staticClass:"cove-container__table-row"},[s("td",{staticClass:"cove-container__table-cell cove-container__table-cell--total  c-text-right",attrs:{colspan:"2"}},[t._v(t._s(t.$t("stat.heads.total")))]),s("td",{staticClass:"cove-container__table-cell cove-container__table-cell--total  c-text-left",attrs:{colspan:"2"}},[t._v(t._s(e.subtotal.toFixed(2)))])])],2)})],2),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"expense_categories",totals:t.listStat.totals}})],1)])])},pd=[],vd={name:"ExpenseCategories",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["expense_categories"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["expense_categories"],s=e.statList.map(function(t){return 99==t.category_id?(t.cost=90,t):t});return{list:s,totals:e.totals}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"expense_categories",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"expense_categories"},this.$store.dispatch("statistics/setOptions",t)}},hd=vd,fd=Object(c["a"])(hd,md,pd,!1,null,null,null);fd.options.__file="ExpenseCategories.vue";var bd=fd.exports,yd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.stock_price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.last_update_time")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.days_left")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.purchased_quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.sold_quantity")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",class:{"cove-container__table-row--disabled":e.stock_quantity<=0}},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(("unit"!=e.measure_name?e.stock_quantity.toFixed(2):e.stock_quantity)+("unit"!=e.measure_name?" "+t.$t("measure."+e.measure_name):"")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.stock_price))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.last_update_time)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.days_left))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.purchased_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.sold_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"alcohol",totals:t.listStat.totals}})],1)])])},gd=[],Cd={name:"Alcohol",mixins:[ue],components:{StatisticsWrap:El,StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["alcohol"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["alcohol"];return{list:e.statList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"alcohol",{totals:{},statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={page:1,count:50,part:"alcohol"},this.$store.dispatch("statistics/setOptions",t)}},wd=Cd,xd=Object(c["a"])(wd,yd,gd,!1,null,null,null);xd.options.__file="Alcohol.vue";var kd=xd.exports,$d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.listStat.list,updateArgs:t.updateArgs}})],1)])},Pd=[],Od=s("2b5b"),Sd={name:"Revenue",mixins:[ue],data:function(){return{updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("stat.chart.revenue")},yAxis:{title:{text:this.$t("stat.chart.revenue")},stackLabels:{enabled:!0,style:{color:"#000",textOutline:"0px contrast"}}},xAxis:{categories:[],title:{text:this.$t("stat.chart.data_time")}},plotOptions:{series:{dataLabels:{enabled:!0}},column:{stacking:"normal",dataLabels:{enabled:!0,color:"#000",style:{textOutline:0,textShadow:null}}}},series:[{data:[],color:"#6fcd98",name:this.$t("stat.chart.revenue")},{data:[],color:"#999eff",name:this.$t("stat.chart.revenue_pr_promo")}]}}},components:{StatisticsWrap:El,Chart:Od["Chart"]},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["revenue"];return e.statStatus},listStat:function(t){var e=this,s=t.statistics.parts["revenue"];return this.chartOptions.series[0].data=[],this.chartOptions.series[1].data=[],this.chartOptions.xAxis.categories=[],s.statList.map(function(t){e.chartOptions.xAxis.categories.push(e.getTime(t.point)),e.chartOptions.series[0].data.push(t.revenue_no_promo),e.chartOptions.series[1].data.push(t.revenue_princess_promo)}),{list:this.chartOptions}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"revenue",{statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={part:"revenue"},this.$store.dispatch("statistics/setOptions",t)}},Id=Sd,Md=Object(c["a"])(Id,$d,Pd,!1,null,null,null);Md.options.__file="Revenue.vue";var Ld=Md.exports,Ed=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.treeSelectList},on:{select:t.setCategory},model:{value:t.category_id,callback:function(e){t.category_id=t._n(e)},expression:"category_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("menu.new_dish.props.category")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.listStat.list,updateArgs:t.updateArgs}})],1)])},Td=[],Ad={name:"DishesByHours",mixins:[ue],data:function(){return{treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},category_id:0,updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("stat.chart.dishes_by_hours")},yAxis:{title:{text:this.$t("stat.chart.dishes_quantity")}},xAxis:{categories:[],title:{text:this.$t("stat.chart.hours")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[{data:[],color:"#6fcd98",name:this.$t("stat.chart.quantity")}]}}},components:{Treeselect:Ce.a,StatisticsWrap:El,StatTotal:Dl,Chart:Od["Chart"]},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["dishes_by_hours"];return e.statStatus},listStat:function(t){var e=this,s=t.statistics.parts["dishes_by_hours"];return this.chartOptions.series[0].data=[],this.chartOptions.xAxis.categories=[],s.statList.map(function(t){e.chartOptions.xAxis.categories.push(t.hours),e.chartOptions.series[0].data.push(t.quantity)}),{list:this.chartOptions}},treeSelectList:function(t){if(!t.statistics.categoryTreeDishes.hasOwnProperty("tree"))return[];var e=this.category_id,s=function t(s){var a=s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s});return a},a=Object.assign({},t.statistics.categoryTreeDishes),i=a.tree;return s(i)}}),methods:{setCategory:function(t){this.$store.dispatch("statistics/setCategoryId",{id:t.id,part:"dishes_by_hours"})}},beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"dishes_by_hours",{statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={part:"dishes_by_hours"},this.$store.dispatch("statistics/categoryTreeDishes",t)}},Fd=Ad,jd=Object(c["a"])(Fd,Ed,Td,!1,null,null,null);jd.options.__file="DishesByHours.vue";var qd=jd.exports,Dd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselectFilter.multiple,clearable:t.treeselectFilter.clearable,searchable:t.treeselectFilter.searchable,disabled:t.treeselectFilter.disabled,"open-on-click":t.treeselectFilter.openOnClick,"open-on-focus":t.treeselectFilter.openOnFocus,"clear-on-select":t.treeselectFilter.clearOnSelect,"close-on-select":t.treeselectFilter.closeOnSelect,"always-open":t.treeselectFilter.alwaysOpen,"append-to-body":t.treeselectFilter.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,options:t.types},on:{select:t.setType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("stat.chart.type_of_chart")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.listStat.list,updateArgs:t.updateArgs}})],1)])},Nd=[],Bd={name:"OrdersByHours",mixins:[ue],components:{Treeselect:Ce.a,StatisticsWrap:El,StatTotal:Dl,Chart:Od["Chart"]},data:function(){return{treeselectFilter:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},type:0,types:[{id:0,label:this.$t("stat.chart.by_quantity")},{id:1,label:this.$t("stat.chart.by_price")}],updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("stat.chart.orders_by_hours")},yAxis:{title:{text:this.$t("stat.chart.orders_quantity")}},xAxis:{categories:[],title:{text:this.$t("stat.chart.hours")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[]}}},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["orders_by_hours"];return e.statStatus},listStat:function(t){var e=this,s=t.statistics.parts["orders_by_hours"];return this.chartOptions.series=[],this.type?(this.chartOptions.series[0]={data:[],color:"#999eff",name:this.$t("stat.chart.bar")},this.chartOptions.series[1]={data:[],color:"#ff7599",name:this.$t("stat.chart.kitchen")},this.chartOptions.xAxis.categories=[],this.chartOptions.yAxis.title.text=this.$t("stat.chart.price"),s.statList.map(function(t){e.chartOptions.xAxis.categories.push(t.hours),e.chartOptions.series[0].data.push(t.bar),e.chartOptions.series[1].data.push(t.kitchen)})):(this.chartOptions.series[0]={data:[],color:"#6fcd98",name:this.$t("stat.chart.quantity")},this.chartOptions.xAxis.categories=[],this.chartOptions.yAxis.title.text=this.$t("stat.chart.orders_quantity"),s.statList.map(function(t){e.chartOptions.xAxis.categories.push(t.hours),e.chartOptions.series[0].data.push(t.count)})),{list:this.chartOptions}}}),methods:{setType:function(t){var e={chart_type:t.id,part:"orders_by_hours"};this.$store.dispatch("statistics/setOptions",e)}},beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"orders_by_hours",{statList:[],statStatus:!1,options:{}})},created:function(){var t={chart_type:this.type,part:"orders_by_hours"};this.$store.dispatch("statistics/setOptions",t)}},Rd=Bd,Wd=Object(c["a"])(Rd,Dd,Nd,!1,null,null,null);Wd.options.__file="OrdersByHours.vue";var zd=Wd.exports,Hd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.treeSelectList},on:{select:t.setCategory},model:{value:t.category_id,callback:function(e){t.category_id=t._n(e)},expression:"category_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("menu.new_dish.props.category")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.popularity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.quantity")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.price")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.prime_cost_full")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.profit")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.menu_id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.popularity))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.orders_quantity.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.menu_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.prime_cost.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.profit.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))])])])},Ud=[],Vd={name:"Additions",mixins:[ue],data:function(){return{treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},category_id:0}},components:{Treeselect:Ce.a,StatisticsWrap:El},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["additions"];return e.statStatus},listStat:function(t){var e=t.statistics.parts["additions"];return{list:e.statList}},treeSelectList:function(t){if(!t.statistics.categoryTree.hasOwnProperty("tree"))return[];var e=this.category_id,s=function t(s){var a=s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s});return a},a=Object.assign({},t.statistics.categoryTree),i=a.tree;return s(i)}}),methods:{setCategory:function(t){this.$store.dispatch("statistics/setCategoryId",{id:t.id,part:"additions"})}},beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"additions",{statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={part:"additions"},this.$store.dispatch("statistics/categoryTree",t)}},Qd=Vd,Yd=Object(c["a"])(Qd,Hd,Ud,!1,null,null,null);Yd.options.__file="Additions.vue";var Zd=Yd.exports,Kd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.listStat.list,updateArgs:t.updateArgs}}),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("stat-total",{attrs:{part:"karaoke",totals:t.listStat.totals}})],1)],1)])},Jd=[],Xd={name:"Karaoke",mixins:[ue],data:function(){return{updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("stat.chart.revenue_karaoke")},yAxis:{title:{text:this.$t("stat.chart.revenue")}},xAxis:{categories:[],title:{text:this.$t("stat.chart.data_time")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[{data:[],color:"#6fcd98",name:this.$t("stat.chart.revenue_karaoke")}]}}},components:{StatisticsWrap:El,Chart:Od["Chart"],StatTotal:Dl},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["karaoke"];return e.statStatus},listStat:function(t){var e=this,s=t.statistics.parts["karaoke"];return this.chartOptions.series[0].data=[],this.chartOptions.xAxis.categories=[],s.statList.map(function(t){e.chartOptions.xAxis.categories.push(e.getTime(t.point)),e.chartOptions.series[0].data.push(t.profit)}),{list:this.chartOptions,totals:s.totals}}}),beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"karaoke",{statList:[],statStatus:!1,options:{}})},created:function(){var t={};t={part:"karaoke"},this.$store.dispatch("statistics/setOptions",t)}},Gd=Xd,t_=Object(c["a"])(Gd,Kd,Jd,!1,null,null,null);t_.options.__file="Karaoke.vue";var e_=t_.exports,s_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("StatisticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.type")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.prime_cost")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.price")))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(t.$t("stat.heads.cashback")))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(t.$t("stat.heads.rentability")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("stat.heads.yield")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.listStat,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.item_id))]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.name},expression:"{content: i.name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.name))])]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.type?t.$t("menu.table.kitchen"):t.$t("menu.table.bar")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.prime_cost.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.retail_price.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[s("span",{staticClass:"c-inline-cell-left"},[t._v(t._s(e.cashback.toFixed(2)))]),s("span",{staticClass:"value-sep"}),s("span",{staticClass:"c-inline-cell-right"},[t._v(t._s(t.cashback(e.cashback,e.retail_price))+"%")])]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(t.rentability(e.retail_price,e.prime_cost,e.cashback))+"%")]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.yieldField(e.retail_price,e.prime_cost,e.cashback)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}})])])},a_=[],i_={name:"Promo",components:{StatisticsWrap:El},computed:Object(u["b"])({loading:function(t){return t.statistics.loading},statStatus:function(t){var e=t.statistics.parts["promo"];return e.statStatus},listStat:function(t){var e=t.menu.menuMap,s=e.filter(function(t){return t.is_file&&t.cashback});return s}}),methods:{cashback:function(t,e){return Math.ceil(t/e*100)},rentability:function(t,e,s){return Math.ceil((t-e-s)/e*100)},yieldField:function(t,e,s){return(t-e-s).toFixed(2)}},beforeCreate:function(){a["default"].set(this.$store.state.statistics.parts,"promo",{statList:[],statStatus:!1,options:{}})},created:function(){var t=this;this.$store.dispatch("menu/menu").then(function(){t.$store.dispatch("statistics/setLoading",!1)})}},o_=i_,n_=Object(c["a"])(o_,s_,a_,!1,null,null,null);n_.options.__file="Promo.vue";var r_=n_.exports,c_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SettingsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left",name:"filter"},slot:"panel-left"},[s("Treeselect",{attrs:{placeholder:t.$t("settings.words.all_roles"),multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,defaultExpandLevel:1/0,options:t.roleList},on:{select:t.setRole},model:{value:t.role_id,callback:function(e){t.role_id=e},expression:"role_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("settings.words.roles")))])],1),s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"btn",on:{click:function(e){t.editUser({})}}},[t._v(t._s(t.$t("btn.add_user")))])]),s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"btn",class:{"c-btn__disabled":!t.editUserItem||!Object.keys(t.editUserItem).length},on:{click:t.removeUserDialog}},[t._v(t._s(t.$t("btn.remove_user")))])]),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.login")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.role")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.permissions")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.status")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.date_register")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.userList,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",class:{active:t.editUserItem&&t.editUserItem.user_id==e.user_id},on:{click:function(s){t.activeUser(e)},dblclick:function(s){t.editUser(e)},contextmenu:function(s){s.preventDefault(),t.onShowCntxMenu(s,e,a)}}},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.login))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.nameRole(e.category_id)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.permissions.slice(0,-2)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.active?t.$t("settings.words.active"):t.$t("settings.words.no_active")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.getTime(e.registration_date)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),t.editUserStatus?s("user-edit",{attrs:{closeModal:t.closeModal,activeItem:t.editUserItem,title:t.titleModal}}):t._e(),t.removeUserStatus?s("user-remove",{attrs:{closeModal:t.closeModal,activeItem:t.editUserItem}}):t._e(),t.showCntxMenu?s("ContextMenu",{attrs:{showCntxMenu:t.showCntxMenu,cntxPos:t.cntxPos,cntxItem:t.editUserItem},on:{close:t.onCloseCntxMenu,editUser:t.editUser}}):t._e()],1)])},l_=[],d_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__wrap",attrs:{name:"settings"}},[s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__head-left"},[t._t("panel-left")],2),s("div",{staticClass:"cove-container__head-right"},[t._t("panel-right")],2)]),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__tabs"},[s("div",{staticClass:"cove-container__tabs-box"},t._l(t.tabs,function(e,a){return s("router-link",{key:a,staticClass:"cove-container__tabs-tab stat-tab__router-link",class:{active:e.path==t.$route.name},attrs:{to:{path:"/settings/"+e.path}}},[t._v("\n                        "+t._s(t.$t(e.title))+"\n                    ")])}))])]),s("div",{ref:"body",staticClass:"cove-container__body margin-top-2"},[t._t("body")],2)])},__=[],u_={name:"SettingsWrap",data:function(){return{tabs:[{title:"settings.parts.users",path:"users"},{title:"settings.parts.expense",path:"expense"},{title:"settings.parts.preferences",path:"preferences"}]}},created:function(){this.$store.dispatch("settings/setExpensesCategories")}},m_=u_,p_=Object(c["a"])(m_,d_,__,!1,null,null,null);p_.options.__file="SettingsWrap.vue";var v_=p_.exports,h_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.title,size:"s10",btnAction:[{name:t.$t("btn.cancel"),action:t.cancelModal},{name:t.$t("btn.save"),action:t.applyModal,active:t.user_data_change}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"edit-item-wrap",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block",attrs:{name:"main-settings"}},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("settings.modal.main_settings")))])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{error:t.user_data.login.error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_data.login.value,expression:"user_data.login.value"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.user_data.login.value},on:{input:[function(e){e.target.composing||t.$set(t.user_data.login,"value",e.target.value)},function(e){t.checkInput("login")}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("settings.modal.login")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{error:t.user_data.password.error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_data.password.value,expression:"user_data.password.value"}],staticClass:"cove-input",attrs:{type:"password",required:""},domProps:{value:t.user_data.password.value},on:{input:[function(e){e.target.composing||t.$set(t.user_data.password,"value",e.target.value)},function(e){t.checkInput("password")}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("settings.modal.password")))])])]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field",class:{error:t.user_data.category_id.error}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.roleList},on:{select:t.selectCategory},model:{value:t.user_data.category_id.value,callback:function(e){t.$set(t.user_data.category_id,"value",e)},expression:"user_data.category_id.value"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("settings.modal.role")))])],1)]),s("div",{staticClass:"modal-row"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-checkbox",class:{active:t.user_data.active.value},on:{click:function(e){t.user_data.active=t.user_data.active?0:1}}},[s("span",{staticClass:"label-checkbox"},[t._v(t._s(t.$t("settings.words.active")))])])])])]),s("div",{staticClass:"modal-block",attrs:{name:"card"}},[s("div",{staticClass:"modal-table modal-table__100"},[s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("settings.modal.card")))])])]),s("div",{staticClass:"modal-table__row modal-row"},[s("div",{staticClass:"modal-table__cell modal-table__cell-semi modal-table__padd-left"},[s("div",{staticClass:"modal-row__field",class:{error:t.user_data.card_number.error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user_data.card_number.value,expression:"user_data.card_number.value"}],staticClass:"cove-input",attrs:{type:"text",required:""},domProps:{value:t.user_data.card_number.value},on:{input:[function(e){e.target.composing||t.$set(t.user_data.card_number,"value",e.target.value)},function(e){t.checkInput("card_number")}]}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("settings.modal.card_number")))])])]),s("div",{staticClass:"modal-table__cell"})]),s("div",{staticClass:"modal-table__row"},[s("div",{staticClass:"modal-block__title"},[s("span",[t._v(t._s(t.$t("settings.modal.permissions")))])])]),s("div",{staticClass:"modal-table__row modal-row"},[s("div",{staticClass:"modal-table__cell modal-table__cell-semi modal-table__padd"},t._l(t.permissionsListLeft,function(e,a){return s("div",{key:a,staticClass:"modal-row__field"},[s("div",{staticClass:"modal-checkbox",class:{active:e.status},on:{click:function(s){t.setPermissionsStatus(e.prop)}}},[s("span",{staticClass:"label-checkbox"},[t._v(t._s(t.$t("settings.permissions."+e.prop)))])])])})),s("div",{staticClass:"modal-table__cell modal-table__padd"},t._l(t.permissionsListRight,function(e,a){return s("div",{key:a,staticClass:"modal-row__field"},[s("div",{staticClass:"modal-checkbox",class:{active:e.status},on:{click:function(s){t.setPermissionsStatus(e.prop)}}},[s("span",{staticClass:"label-checkbox"},[t._v(t._s(t.$t("settings.permissions."+e.prop)))])])])}))]),s("div",{staticClass:"modal-table__row modal-row"},[s("div",{staticClass:"modal-table__cell modal-table__cell-semi modal-table__padd-left"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-checkbox",class:{active:t.permissions.PermissionIgnoreDiscount.status},on:{click:function(e){t.setPermissionsStatus("PermissionIgnoreDiscount")}}},[s("span",{staticClass:"label-checkbox"},[t._v("Игнорировать скидку в меню")])])])]),s("div",{staticClass:"modal-table__cell"},[s("div",{staticClass:"modal-row__field"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.discountList},model:{value:t.user_data.discount.value,callback:function(e){t.$set(t.user_data.discount,"value",e)},expression:"user_data.discount.value"}}),s("div",{staticClass:"modal-row__label"},[t._v(t._s(t.$t("settings.modal.discount")))])],1)])])])])])])},f_=[],b_=(s("4917"),{name:"user-edit",data:function(){return{mode:"add",treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},checkbox:[{a:!1,name:this.$t("stock.add_to_stock.use_own")},{a:!1,name:this.$t("stock.add_to_stock.pay_later")},{a:!1,name:this.$t("stock.add_to_stock.vat")}],btn_new:[{a:!1,name:this.$t("stock.add_to_stock.clear")},{a:!1,name:this.$t("stock.add_to_stock.remove")},{a:!1,name:this.$t("stock.add_to_stock.edit")},{a:!1,name:this.$t("stock.add_to_stock.add")}],discountList:[{id:0,label:"0",value:0},{id:5,label:"5",value:5},{id:10,label:"10",value:10},{id:15,label:"15",value:15},{id:20,label:"20",value:20},{id:50,label:"50",value:50}],permissions:{PermissionCashierLogin:{status:!1,bit:31},PermissionChangeCashierPassword:{status:!1,bit:30},PermissionChangeAgentPassword:{status:!1,bit:29},PermissionChangeManagerPassword:{status:!1,bit:28},PermissionDiscountCard5:{status:!1,bit:27},PermissionDiscountCard10:{status:!1,bit:26},PermissionDiscountCard15:{status:!1,bit:25},PermissionDiscountCard20:{status:!1,bit:24},PermissionDiscountCard50:{status:!1,bit:23},PermissionNoPayOrder:{status:!1,bit:22},PermissionCancelOrder:{status:!1,bit:21},PermissionMenuView:{status:!1,bit:20},PermissionMenuEdit:{status:!1,bit:19},PermissionStockView:{status:!1,bit:18},PermissionStockAdd:{status:!1,bit:17},PermissionStockDelete:{status:!1,bit:16},PermissionStockEdit:{status:!1,bit:15},PermissionExpensesView:{status:!1,bit:14},PermissionExpensesDelete:{status:!1,bit:13},PermissionCashierView:{status:!1,bit:12},PermissionOrdersView:{status:!1,bit:11},PermissionUsersEdit:{status:!1,bit:10},PermissionExpensesCategoriesEdit:{status:!1,bit:9},PermissionProgramLogin:{status:!1,bit:8},PermissionCashierDeposit:{status:!1,bit:7},PermissionCashierWithdraw:{status:!1,bit:6},PermissionSafeDeposit:{status:!1,bit:5},PermissionSafeTransferFromCashier:{status:!1,bit:4},PermissionFundsDirectChange:{status:!1,bit:3},PermissionSafeWitdhdraw:{status:!1,bit:2},PermissionIgnoreDiscount:{status:!1,bit:1}},user_data_change:!0,user_data:{login:{value:"",error:!1},password:{value:"",error:!1},active:{value:1,error:!1},permissions:{value:0,error:!1},card_number:{value:"",error:!1},category_id:{value:null,error:!1},discount:{value:0,error:!1}}}},components:{Treeselect:Ce.a,Modal:Ge},props:["activeItem","closeModal","title"],computed:Object(u["b"])({permissionsListLeft:function(){for(var t=Object.keys(this.permissions),e=[],s=0;s<15;s++)e.push({prop:t[s],status:this.permissions[t[s]].status});return e},permissionsListRight:function(){for(var t=Object.keys(this.permissions),e=[],s=15,a=t.length-1;s<a;s++)e.push({prop:t[s],status:this.permissions[t[s]].status});return e},roleList:function(t){var e=this,s=Object.assign({},t.settings.roleList),a=s.list.map(function(t){return{id:t.role_id,label:e.$t("settings.words."+t.role_name)}});return a}}),watch:{user_data:{handler:function(t){var e=this,s=Object.keys(this.activeItem),a=!s.length;s.map(function(s){t.hasOwnProperty(s)&&e.activeItem[s]!=t[s].value&&(a=!0)}),this.user_data_change=a},deep:!0}},methods:{setPermissionsStatus:function(t){this.permissions[t].status=!this.permissions[t].status,this.permissionsComputed()},cancelModal:function(){this.closeModal()},applyModal:function(){var t=this,e=this.user_data,s=e.login,a=e.password,i=e.category_id,o=e.card_number,n=!0;if(this.validate("login"),s.value&&""!=s.value&&!s.error||(s.error=!0,n=!1),!1!==a.value&&(this.validate("password"),a.value&&""!=a.value&&!a.error||(a.error=!0,n=!1)),this.validate("card_number"),o.value&&""!=o.value&&!o.error||(o.error=!0,n=!1),i.value||(i.error=!0,n=!1),n){var r=Object.keys(this.user_data),c={};"add"==this.mode&&(r.map(function(e){c[e]=t.user_data[e].value}),this.$store.dispatch("settings/userCreate",c)),"edit"==this.mode&&(r.map(function(e){t.user_data[e].value!=t.activeItem[e]&&(c[e]=t.user_data[e].value)}),c["user_id"]=this.activeItem.user_id,this.$store.dispatch("settings/userEdit",c)),this.closeModal()}},permissionsComputed:function(){var t=this,e=Object.keys(this.permissions),s="";e.map(function(e){s+=t.permissions[e].status?"1":"0"}),s+="0",this.user_data.permissions.value=s},selectCategory:function(){this.user_data.category_id.value||(this.user_data.category_id.error=!1)},validate:function(t){var e=/^([A-Za-z0-9]+)$/,s=/^(\d+)$/,a="card_number"==t?s:e;this.user_data[t].value.match(a)?this.user_data[t].error=!1:this.user_data[t].error=!0},checkInput:Object(ps["debounce"])(function(t){this.validate(t)},100)},created:function(){var t=this;if(Object.keys(this.activeItem).length){this.activeItem["password"]=!1,this.user_data.login.value=this.activeItem.login,this.user_data.password.value=this.activeItem.password,this.user_data.active.value=this.activeItem.active,this.user_data.card_number.value=this.activeItem.card_number,this.user_data.permissions.value=this.activeItem.permissions,this.user_data.category_id.value=this.activeItem.category_id,this.user_data.discount.value=this.activeItem.discount;var e=Object.keys(this.permissions),s=parseInt(this.activeItem.permissions,2);e.map(function(e){var a=Math.pow(2,t.permissions[e].bit);t.permissions[e].status=!!(s&a)}),this.user_data_change=!1,this.mode="edit"}else this.mode="add",this.permissionsComputed()}}),y_=b_,g_=Object(c["a"])(y_,h_,f_,!1,null,null,null);g_.options.__file="UserEdit.vue";var C_=g_.exports,w_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.$t("settings.modal.remove_title"),size:"s1",btnAction:[{name:t.$t("btn.remove"),action:t.applyModal},{name:t.$t("btn.cancel"),action:t.cancelModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-notify"},[t._v(t._s(t.$t("settings.modal.remove_noty"))),s("strong",[t._v(t._s(t.activeItem.login)+"?")])])])])])])},x_=[],k_={name:"user-remove",components:{Modal:Ge},props:["closeModal","activeItem"],methods:{applyModal:function(){this.$store.dispatch("settings/userRemove",{user_id:this.activeItem.user_id}),this.closeModal()},cancelModal:function(){this.closeModal()}}},$_=k_,P_=Object(c["a"])($_,w_,x_,!1,null,null,null);P_.options.__file="UserRemove.vue";var O_=P_.exports,S_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"cntxMenu",staticClass:"cove-context-menu",attrs:{tabindex:"-1"},on:{blur:function(e){t.$emit("close")}}},[t.cntxItem.is_file?t._e():s("ul",[s("li",{on:{click:t.open}},[t._v(t._s(t.$t("context_menu.open")))]),s("li",{on:{click:t.remove}},[t._v(t._s(t.$t("context_menu.remove")))])])])},I_=[],M_={name:"ContextMenu",props:["showCntxMenu","cntxPos","cntxItem"],components:{},methods:{open:function(){this.$emit("editUser",this.cntxItem),this.$emit("close")},remove:function(){this.$emit("close")}},mounted:function(){if(this.showCntxMenu){var t=window.innerHeight-this.$refs.cntxMenu.offsetHeight,e=t>this.cntxPos.top?this.cntxPos.top:t-10;this.$refs.cntxMenu.style.top=e+"px",this.$refs.cntxMenu.style.left=this.cntxPos.left+"px",this.$refs.cntxMenu.focus()}}},L_=M_,E_=Object(c["a"])(L_,S_,I_,!1,null,null,null);E_.options.__file="ContextMenu.vue";var T_=E_.exports,A_={name:"Users",mixins:[ue],components:{Treeselect:Ce.a,SettingsWrap:v_,ContextMenu:T_,UserEdit:C_,UserRemove:O_},data:function(){return{showCntxMenu:!1,cntxPos:{top:0,left:0},titleModal:"",treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},role_id:null,editUserStatus:!1,removeUserStatus:!1}},computed:Object(u["b"])({userList:function(t){return t.settings.userList.list},roleList:function(t){var e=this,s=Object.assign({},t.settings.roleList),a=s.list.map(function(t){return{id:t.role_id,label:e.$t("settings.words."+t.role_name)}});return this.role_id=t.settings.role?t.settings.role:0,[{id:0,label:this.$t("settings.words.all_roles")}].concat(Object(I["a"])(a))},editUserItem:function(t){return t.settings.activeUser}}),methods:{removeUserDialog:function(){this.removeUserStatus=!0},setRole:function(t){this.role_id!=t.id&&this.$store.dispatch("settings/setRole",{role_id:t.id})},nameRole:function(t){var e=this.$store.state.settings.roleList.list,s=e.filter(function(e){return t==e.role_id});return s.length?this.$t("settings.words."+s[0].role_name):""},closeModal:function(){this.editUserStatus=!1,this.removeUserStatus=!1},editUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).length?this.titleModal=this.$t("settings.modal.edit_user_title"):this.titleModal=this.$t("settings.modal.add_user_title"),this.$store.commit("settings/setActiveUser",Object.assign({},t)),this.editUserStatus=!0},activeUser:function(t){this.$store.commit("settings/setActiveUser",Object.assign({},t))},onCloseCntxMenu:function(){this.showCntxMenu=!1},onShowCntxMenu:function(t,e){this.cntxPos.top=t.y,this.cntxPos.left=t.x,this.$store.commit("settings/setActiveUser",Object.assign({},e)),this.showCntxMenu=!0},escape:function(t){t=t||window.event;var e=t.which||t.keyCode;27==e&&(this.editUserStatus||this.removeUserStatus?this.closeModal():this.showCntxMenu?this.onCloseCntxMenu():this.$store.commit("settings/setActiveUser",{}))}},created:function(){var t=this;this.$store.dispatch("settings/roleList").then(function(){t.$store.dispatch("settings/userList",{})})},mounted:function(){window.addEventListener("keydown",this.escape,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.escape)}},F_=A_,j_=Object(c["a"])(F_,c_,l_,!1,null,null,null);j_.options.__file="Users.vue";var q_=j_.exports,D_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SettingsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"btn"},[t._v(t._s(t.$t("btn.add")))])]),s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"btn"},[t._v(t._s(t.$t("btn.add_qr")))])]),s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"btn",on:{click:t.removeCardDialog}},[t._v(t._s(t.$t("btn.remove_select")))])]),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.card_code")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.card_type")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.permissions")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.discount")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.attached_to")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.exp_date")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(10,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer",class:{active:t.activeItem==e},on:{click:function(s){t.activeItem=e}}},[s("div",{staticClass:"cove-container__table-cell"},[t._v("1111444455")]),s("div",{staticClass:"cove-container__table-cell"},[t._v("RFID")]),s("div",{staticClass:"cove-container__table-cell"},[t._v("111111111111111111")]),s("div",{staticClass:"cove-container__table-cell"},[t._v("10")]),s("div",{staticClass:"cove-container__table-cell"},[t._v("admin")]),s("div",{staticClass:"cove-container__table-cell"},[t._v("10-10-10 22:22:22")]),s("div",{staticClass:"cove-container__table-cell"})])}))]),t.removeCardStatus?s("discount-cards-remove",{attrs:{closeModal:t.closeModal,activeItem:{}}}):t._e()],1)])},N_=[],B_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{title:t.$t("settings.modal.remove_title"),size:"s1",btnAction:[{name:t.$t("btn.remove"),action:t.applyModal},{name:t.$t("btn.cancel"),action:t.cancelModal}]},on:{closeModal:t.cancelModal}},[s("div",{staticClass:"modal-table__table",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"modal-block"},[s("div",{staticClass:"modal-row__field"},[s("div",{staticClass:"modal-notify"},[t._v(t._s(t.$t("settings.modal.remove_card_noty")))])])])])])},R_=[],W_={name:"discount-cards-remove",components:{Modal:Ge},props:["closeModal","activeItem"],methods:{applyModal:function(){this.closeModal()},cancelModal:function(){this.closeModal()}}},z_=W_,H_=Object(c["a"])(z_,B_,R_,!1,null,null,null);H_.options.__file="DiscountCardsRemove.vue";var U_=H_.exports,V_={name:"DiscountCards",components:{SettingsWrap:v_,DiscountCardsRemove:U_},data:function(){return{activeItem:!1,removeCardStatus:!1}},methods:{removeCardDialog:function(){this.removeCardStatus=!0},closeModal:function(){this.activeItem=!1,this.removeCardStatus=!1},escape:function(t){t=t||window.event;var e=t.which||t.keyCode;27==e&&this.activeItem&&this.closeModal()}},mounted:function(){window.addEventListener("keydown",this.escape,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.escape)}},Q_=V_,Y_=Object(c["a"])(Q_,D_,N_,!1,null,null,null);Y_.options.__file="DiscountCards.vue";var Z_=Y_.exports,K_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SettingsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part30",attrs:{slot:"panel-left"},slot:"panel-left"},[s("div",{staticClass:"modal-checkbox",class:{active:t.hiddenCatStatus},on:{click:t.showHiddenCat}},[s("span",{staticClass:"label-checkbox"},[t._v("Show hidden categories")])])]),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.id")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("settings.heads.category_name")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.category_id))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.name))]),s("div",{staticClass:"cove-container__table-cell"})])}))])])])},J_=[],X_={name:"Expenses",components:{SettingsWrap:v_},data:function(){return{hiddenCatStatus:!1}},computed:Object(u["b"])({list:function(t){return t.settings.expensesCategories}}),methods:{showHiddenCat:function(){this.hiddenCatStatus=!this.hiddenCatStatus}}},G_=X_,tu=Object(c["a"])(G_,K_,J_,!1,null,null,null);tu.options.__file="Expenses.vue";var eu=tu.exports,su=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SettingsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"cove-container__table"},[s("div",{staticClass:"cove-container__row"},[s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"},[s("div",{staticClass:"cove-container__wrap-title"},[t._v(t._s(t.$t("settings.localization")))]),s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.lang.options},on:{select:t.setLocal},model:{value:t.locale,callback:function(e){t.locale=e},expression:"locale"}})],1)]),s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"}),s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"})]),s("div",{staticClass:"cove-container__row"},[s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"},[s("div",{staticClass:"cove-container__wrap-title"},[t._v(t._s(t.$t("settings.authorization")))]),s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{name:"btn"}},[s("div",{staticClass:"btn",on:{click:function(e){t.logout()}}},[t._v(t._s(t.$t("settings.logout")))])])]),s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"}),s("div",{staticClass:"cove-container__wrap cove-container__wrap-x3"})])])])])},au=[],iu={name:"Preferences",data:function(){return{locale:null,treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},lang:{value:"English",options:[{id:"en",label:"English",value:"en"},{id:"ru",label:"Русский",value:"ru"}]}}},components:{SettingsWrap:v_,Treeselect:Ce.a},methods:{logout:function(){this.$store.commit("menu/resetMenuStatus"),this.$store.commit("stock/resetStockStatus"),this.$store.commit("expenses/resetExpensesStatus"),this.$store.commit("orders/resetOrdersStatus"),this.$store.commit("settings/resetSettingsStatus"),this.$store.commit("statistics/resetStatStatus"),this.$store.commit("common/resetOptions"),this.$store.dispatch("auth/logout")},setLocal:function(t){this.$i18n.locale=t.id,this.$store.dispatch("auth/setLocal",t)}},created:function(){this.locale=this.$store.state.auth.locale}},ou=iu,nu=Object(c["a"])(ou,su,au,!1,null,null,null);nu.options.__file="Preferences.vue";var ru=nu.exports,cu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.card_number")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.username")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.count")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.sum")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.list.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.card_number))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.username))]),s("div",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(e.count))]),s("div",{staticClass:"cove-container__table-cell c-text-right"},[t._v(t._s(e.sum.toFixed(2)))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("analytics-total",{attrs:{part:"discount100",totals:t.list.totals}})],1)])])},lu=[],du=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__wrap",attrs:{name:"stat"}},[t.loading?s("div",{staticClass:"cove-loading"},[s("div",{staticClass:"gif"})]):t._e(),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__head-left"},[s("time-period",{on:{callback:t.setPeriod}})],1),s("div",{staticClass:"cove-container__head-right"},[t._t("panel-right")],2)]),s("div",{staticClass:"cove-container__head"},[s("div",{staticClass:"cove-container__tabs"},[s("div",{staticClass:"cove-container__tabs-box"},t._l(t.tabs,function(e,a){return s("router-link",{key:a,staticClass:"cove-container__tabs-tab stat-tab__router-link",class:{active:e.path==t.$route.name},attrs:{to:{path:"/analytics/"+e.path}}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])}))])]),s("div",{ref:"body",staticClass:"cove-container__body margin-top-2"},[t._t("body")],2)])},_u=[],uu={name:"AnalyticsWrap",components:{TimePeriod:Xn},data:function(){return{tabs:[{title:this.$t("analytics.parts.discount100"),path:"discount100"},{title:this.$t("analytics.parts.cash2safe"),path:"cash2safe"},{title:this.$t("analytics.parts.buisnesslanch"),path:"buisnesslanch"},{title:this.$t("analytics.parts.princess_promo_dishes"),path:"princess_promo_dishes"},{title:this.$t("analytics.parts.princess_promo_sessions"),path:"princess_promo_sessions"},{title:this.$t("analytics.parts.orders_by_custom_hours"),path:"orders_by_custom_hours"}]}},computed:Object(u["b"])({loading:function(t){return t.analytics.loading}}),methods:{setPeriod:function(){this.$store.dispatch("analytics/setOptions",Object.assign({},this.$store.state.analytics.parts[this.$store.state.analytics.part].options))}},mounted:function(){this.$nextTick(function(){var t=this.$refs.body;t.scroll(0,0)})}},mu=uu,pu=Object(c["a"])(mu,du,_u,!1,null,null,null);pu.options.__file="AnalyticsWrap.vue";var vu=pu.exports,hu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cove-container__table",attrs:{name:"totals"}},[s("div",{staticClass:"cove-container__table-tbody"},t._l(t.listTotals,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.total."+e.name)))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.value))])])}))])},fu=[],bu={name:"analytics-total",props:["part","totals"],computed:Object(u["b"])({listTotals:function(t){for(var e=[],s={},a=this.totals||{},i=Object.keys(a),o=0,n=i.length;o<n;o++)if("total_records"!=i[o]){s["name"]=i[o];var r=a[i[o]];s["value"]=this.isNumeric(r)?r.toFixed(2):"-",e.push(Object.assign({},s))}return e}}),methods:{isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}}},yu=bu,gu=Object(c["a"])(yu,hu,fu,!1,null,null,null);gu.options.__file="AnalyticsTotal.vue";var Cu=gu.exports,wu={name:"Discount100",components:{AnalyticsWrap:vu,AnalyticsTotal:Cu},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["discount100"];return e.statStatus},list:function(t){var e=t.analytics.parts["discount100"];return{list:e.analyticsList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"discount100",{totals:{},analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={part:"discount100"},this.$store.dispatch("analytics/setOptions",t)}},xu=wu,ku=Object(c["a"])(xu,cu,lu,!1,null,null,null);ku.options.__file="Discount100.vue";var $u=ku.exports,Pu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("div",{ref:"table",staticClass:"cove-container__table",attrs:{name:"print"}},[s("div",{ref:"thead",staticClass:"cove-container__table-head"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.user_name")))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(t.$t("analytics.table.amount")))]),s("div",{staticClass:"cove-container__table-cell"})]),s("div",{ref:"tbody",staticClass:"cove-container__table-tbody"},t._l(t.list.list,function(e,a){return s("div",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.user_name))]),s("div",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.amount))]),s("div",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("analytics-total",{attrs:{part:"cash2safe",totals:t.list.totals}})],1)])])},Ou=[],Su={name:"RevenueAdmin",components:{AnalyticsWrap:vu,AnalyticsTotal:Cu},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["cash2safe"];return e.statStatus},list:function(t){var e=t.analytics.parts["cash2safe"];return{list:e.analyticsList,totals:e.totals}}}),beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"cash2safe",{totals:{},analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={part:"cash2safe"},this.$store.dispatch("analytics/setOptions",t)}},Iu=Su,Mu=Object(c["a"])(Iu,Pu,Ou,!1,null,null,null);Mu.options.__file="RevenueAdmin.vue";var Lu=Mu.exports,Eu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,options:t.types},model:{value:t.type_id,callback:function(e){t.type_id=e},expression:"type_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("stat.chart.type_of_chart")))])],1),s("div",{staticClass:"cove-container__field cove-container__field-part50 c-read-only",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,limit:7,"max-height":200,"show-count":t.treeselect.showCount,defaultExpandLevel:1/0,options:t.treeSelectList},model:{value:t.category_id,callback:function(e){t.category_id=t._n(e)},expression:"category_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("menu.new_dish.props.category")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.list.list,updateArgs:t.updateArgs}})],1)])},Tu=[],Au={name:"BuisnessLanch",data:function(){return{treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},category_id:2350,type_id:0,typeList:["quantity","price"],colorList:["#6fcd98","#999eff"],types:[{id:0,label:this.$t("stat.chart.by_quantity")},{id:1,label:this.$t("stat.chart.by_price")}],updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("stat.chart.dishes_by_hours")},yAxis:{title:{text:this.$t("stat.chart.dishes_quantity")}},xAxis:{categories:[],title:{text:this.$t("stat.chart.hours")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[{data:[],color:"#6fcd98",name:this.$t("stat.chart.quantity")}]}}},components:{Treeselect:Ce.a,AnalyticsWrap:vu,Chart:Od["Chart"]},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["buisnesslanch"];return e.analyticsStatus},list:function(t){var e=this,s=t.analytics.parts["buisnesslanch"];return this.chartOptions.series[0].data=[],this.chartOptions.xAxis.categories=[],s.analyticsList.map(function(t){e.chartOptions.xAxis.categories.push(t.hours),e.chartOptions.series[0].data.push(t[e.typeList[e.type_id]]),e.chartOptions.series[0].color=e.colorList[e.type_id],e.chartOptions.series[0].name=e.$t("stat.chart."+e.typeList[e.type_id]),e.chartOptions.yAxis.title.text=e.$t("stat.chart.dishes_"+e.typeList[e.type_id])}),{list:this.chartOptions}},treeSelectList:function(t){if(!t.analytics.categoryTreeDishes.hasOwnProperty("tree"))return[];var e=this.category_id,s=function t(s){var a=s.map(function(s){return s.id==e&&(s["isDefaultExpanded"]=!0),s.hasOwnProperty("children")&&t(s.children),s});return a},a=Object.assign({},t.analytics.categoryTreeDishes),i=a.tree;return s(i)}}),beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"buisnesslanch",{analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={api:"dishes_by_hours",part:"buisnesslanch",id:this.category_id,redirect:"BuisnessLanch"},this.$store.dispatch("analytics/BuisnessLanch",t)}},Fu=Au,ju=Object(c["a"])(Fu,Eu,Tu,!1,null,null,null);ju.options.__file="BuisnessLanch.vue";var qu=ju.exports,Du=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{staticClass:"cove-container__body-table-box",attrs:{slot:"body"},slot:"body"},[s("table",{staticClass:"cove-container__table",attrs:{name:"print"}},[s("thead",{staticClass:"cove-container__table-head"},[s("th",{staticClass:"cove-container__table-cell",attrs:{rowspan:"2"}},[t._v(t._s(t.$t("analytics.table.id")))]),s("th",{staticClass:"cove-container__table-cell",attrs:{rowspan:"2"}},[t._v(t._s(t.$t("analytics.table.menu_name")))]),s("th",{staticClass:"cove-container__table-cell c-text-center c-no-border",attrs:{colspan:"3"}},[t._v("Количество заказов в период")]),s("th",{staticClass:"cove-container__table-cell c-text-center c-no-border",attrs:{colspan:"3"}},[t._v("Сумма заказов в период")]),s("th",{staticClass:"cove-container__table-cell",attrs:{rowspan:"2"}})]),s("thead",{staticClass:"cove-container__table-head "},[s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Текущий")]),s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Прошлый")]),s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Позапрошлый")]),s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Текущий")]),s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Прошлый")]),s("th",{staticClass:"cove-container__table-cell cove-container__table-cell--sticky2 c-no-radius c-text-center"},[t._v("Позапрошлый")])]),s("tbody",{staticClass:"cove-container__table-tbody"},t._l(t.list.list,function(e,a){return s("tr",{key:a,staticClass:"cove-container__table-row c-cursor-pointer"},[s("td",{staticClass:"cove-container__table-cell"},[t._v(t._s(e.menu_id))]),s("td",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.menu_name},expression:"{content: i.menu_name}"}],staticClass:"cove-container__table-cell",attrs:{name:"name"}},[s("span",[t._v(t._s(e.menu_name))])]),s("td",{staticClass:"cove-container__table-cell c-text-center",class:[{"c-green":e.current_quantity>e.last_quantity},{"c-red":e.current_quantity<e.last_quantity}]},[t._v(t._s(e.current_quantity))]),s("td",{staticClass:"cove-container__table-cell c-text-center",class:[{"c-green":e.last_quantity>e.before_last_quantity},{"c-red":e.last_quantity<e.before_last_quantity}]},[t._v(t._s(e.last_quantity))]),s("td",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(e.before_last_quantity))]),s("td",{staticClass:"cove-container__table-cell c-text-center",class:[{"c-green":e.current_price>e.last_price},{"c-red":e.current_price<e.last_price}]},[t._v(t._s(e.current_price))]),s("td",{staticClass:"cove-container__table-cell c-text-center",class:[{"c-green":e.last_price>e.before_last_price},{"c-red":e.last_price<e.before_last_price}]},[t._v(t._s(e.last_price))]),s("td",{staticClass:"cove-container__table-cell c-text-center"},[t._v(t._s(e.before_last_price))]),s("td",{staticClass:"cove-container__table-cell"})])}))]),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}})])])},Nu=[],Bu={name:"PrincessPromoDishes",components:{AnalyticsWrap:vu},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["princess_promo_dishes"];return e.statStatus},list:function(t){var e=t.analytics.parts["princess_promo_dishes"];return{list:e.analyticsList,totals:e.totals,options:{total_records:e.totals.total_records,count:e.options.count,page:e.options.page}}}}),beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"princess_promo_dishes",{totals:{},analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={part:"princess_promo_dishes"},this.$store.dispatch("analytics/setOptions",t)}},Ru=Bu,Wu=Object(c["a"])(Ru,Du,Nu,!1,null,null,null);Wu.options.__file="PrincessPromoDishes.vue";var zu=Wu.exports,Hu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{staticClass:"cove-container__field cove-container__field-part50",attrs:{slot:"panel-right"},slot:"panel-right"},[s("Treeselect",{attrs:{placeholder:"",multiple:t.treeselect.multiple,clearable:t.treeselect.clearable,searchable:t.treeselect.searchable,disabled:t.treeselect.disabled,"open-on-click":t.treeselect.openOnClick,"open-on-focus":t.treeselect.openOnFocus,"clear-on-select":t.treeselect.clearOnSelect,"close-on-select":t.treeselect.closeOnSelect,"always-open":t.treeselect.alwaysOpen,"append-to-body":t.treeselect.appendToBody,"disable-branch-nodes":!0,defaultExpandLevel:1/0,limit:7,"max-height":200,options:t.types},on:{select:t.setTypeName},model:{value:t.type_id,callback:function(e){t.type_id=e},expression:"type_id"}}),s("div",{staticClass:"cove-container__field-label cove-container__field-label--outline"},[t._v(t._s(t.$t("stat.chart.type_of_chart")))])],1),s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("chart",{attrs:{options:t.list.list,updateArgs:t.updateArgs}})],1)])},Uu=[],Vu={name:"BuisnessLanch",mixins:[ue],data:function(){return{treeselect:{multiple:!1,clearable:!1,searchable:!0,disabled:!1,openOnClick:!0,openOnFocus:!1,clearOnSelect:!0,closeOnSelect:!0,alwaysOpen:!1,appendToBody:!1,showCount:!0},type_id:0,type_name:"sessions",dataChart:{sessions:{colorList:["#6fcd98","#999eff"],titleX:[this.$t("analytics.chart.title_sessions"),this.$t("analytics.chart.title_sessions_prev")],titleY:this.$t("analytics.chart.title_quantity_sessions")},revenue:{colorList:["#f7a35c","#ff7599"],titleX:[this.$t("analytics.chart.title_revenue"),this.$t("analytics.chart.title_revenue_prev")],titleY:this.$t("analytics.chart.title_revenue_sessions")}},types:[{id:0,label:this.$t("analytics.chart.quantity_sessions"),value:"sessions"},{id:1,label:this.$t("analytics.chart.revenue_sessions"),value:"revenue"}],updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("analytics.parts.princess_promo_sessions")},yAxis:{title:{text:""}},xAxis:{categories:[],title:{text:this.$t("analytics.chart.date_time")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[{data:[],color:"",name:""},{data:[],color:"",name:""}]}}},components:{Treeselect:Ce.a,AnalyticsWrap:vu,Chart:Od["Chart"]},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["princess_promo_sessions"];return e.analyticsStatus},list:function(t){var e=this,s=t.analytics.parts["princess_promo_sessions"];return this.chartOptions.series[0].data=[],this.chartOptions.series[1].data=[],this.chartOptions.xAxis.categories=[],s.analyticsList.map(function(t){e.chartOptions.xAxis.categories.push(e.getTime(t.point)),e.chartOptions.series[0].data.push(t["total_"+e.type_name]),e.chartOptions.series[1].data.push(t["total_"+e.type_name+"_prev"]),e.chartOptions.series[0].name=e.dataChart[e.type_name].titleX[0],e.chartOptions.series[1].name=e.dataChart[e.type_name].titleX[1],e.chartOptions.series[0].color=e.dataChart[e.type_name].colorList[0],e.chartOptions.series[1].color=e.dataChart[e.type_name].colorList[1],e.chartOptions.yAxis.title.text=e.dataChart[e.type_name].titleY}),{list:this.chartOptions}}}),methods:{setTypeName:function(t){this.type_name=t.value}},beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"princess_promo_sessions",{analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={part:"princess_promo_sessions"},this.$store.dispatch("analytics/setOptions",t)}},Qu=Vu,Yu=Object(c["a"])(Qu,Hu,Uu,!1,null,null,null);Yu.options.__file="PrincessPromoSessions.vue";var Zu=Yu.exports,Ku=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("AnalyticsWrap",[s("div",{ref:"box",staticClass:"cove-container__body-table-box",attrs:{slot:"body",name:"print-chart"},slot:"body"},[s("div",{staticClass:"cove-chart__box"},[s("chart",{attrs:{options:t.list.list,updateArgs:t.updateArgs}})],1),s("div",{staticClass:"cove-slider__box"},[s("vue-slider",t._b({ref:"slider",on:{"drag-start":t.dargStart,"drag-end":t.checkSlider},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}},"vue-slider",t.options,!1))],1),s("div",{staticClass:"cove-container__body-bottom",attrs:{name:"print-totals"}},[s("analytics-total",{attrs:{part:"orders_by_custom_hours",totals:t.list.totals}})],1)])])},Ju=[],Xu=s("6f79"),Gu=s.n(Xu),tm={name:"Karaoke",mixins:[ue],data:function(){return{updateArgs:[!0,!0,{duration:200}],chartOptions:{chart:{type:"column"},title:{text:this.$t("analytics.parts.orders_by_custom_hours")},yAxis:{title:{text:this.$t("stat.chart.revenue")}},xAxis:{categories:[],title:{text:this.$t("stat.chart.data_time")}},plotOptions:{series:{dataLabels:{enabled:!0}}},series:[{data:[],color:"#6fcd98",name:this.$t("analytics.parts.orders_by_custom_hours")}]},drag_start:[],hours:[9,4],options:{width:"100%",height:4,dotSize:14,disabled:!1,show:!0,tooltip:"always",formatter:function(t){return"".concat(t<10?"0"+t:t,":00")},piecewise:!0,data:[9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0,1,2,3,4]}}},components:{AnalyticsWrap:vu,Chart:Od["Chart"],AnalyticsTotal:Cu,vueSlider:Gu.a},computed:Object(u["b"])({loading:function(t){return t.analytics.loading},analyticsStatus:function(t){var e=t.analytics.parts["orders_by_custom_hours"];return e.analyticsStatus},list:function(t){var e=this,s=t.analytics.parts["orders_by_custom_hours"];this.chartOptions.series[0].data=[],this.chartOptions.xAxis.categories=[];var a=[],i=[];return s.analyticsList.map(function(t){i.push(e.getTime(t.point)),a.push(t.profit)}),this.chartOptions.xAxis.categories=i,this.chartOptions.series[0].data=a,{list:this.chartOptions,totals:s.totals}},handlerStart:function(){return{left:this.drag_start[0],right:this.drag_start[1]}},handlerEnd:function(){return{left:this.hours[0],right:this.hours[1]}}}),methods:{dargStart:function(){this.drag_start=this.hours},checkSlider:function(){var t=this;if(this.handlerStart.left!=this.handlerEnd.left&&this.handlerEnd.left==this.handlerEnd.right){var e=0;this.options.data.map(function(s,a){s==t.handlerEnd.left&&(e=a)}),this.hours=[this.options.data[e-1],this.handlerEnd.right]}if(this.handlerStart.right!=this.handlerEnd.right&&this.handlerEnd.right==this.handlerEnd.left){var s=0;this.options.data.map(function(e,a){e==t.handlerEnd.right&&(s=a)}),this.hours=[this.handlerEnd.left,this.options.data[s+1]]}var a={part:"orders_by_custom_hours",start_hour:this.hours[0],end_hour:this.hours[1]};this.$store.dispatch("analytics/setOptions",a)}},beforeCreate:function(){a["default"].set(this.$store.state.analytics.parts,"orders_by_custom_hours",{analyticsList:[],analyticsStatus:!1,options:{}})},created:function(){var t={};t={part:"orders_by_custom_hours",start_hour:9,end_hour:4},this.$store.dispatch("analytics/setOptions",t)}},em=tm,sm=(s("724a"),Object(c["a"])(em,Ku,Ju,!1,null,null,null));sm.options.__file="OrdersByCustomHours.vue";var am=sm.exports;a["default"].use(_["a"]);var im=function(t,e,s){Ot.dispatch("auth/logcheck").then(function(t){t.status?s():s("/auth/login")})},om=function(t,e,s){Ot.dispatch("auth/logcheck").then(function(t){t.status?s("/menu"):s()})},nm=new _["a"]({routes:[{path:"*",redirect:"/auth/login"},{path:"/auth",component:Tt,children:[{name:"login",path:"login",component:$e,beforeEnter:om},{path:"",redirect:{name:"login"}}]},{path:"/",component:fe,children:[{name:"menu",path:"menu",component:Pa,beforeEnter:im},{name:"stock",path:"stock",component:No,beforeEnter:im},{name:"expenses",path:"expenses",component:nr,beforeEnter:im},{name:"operations",path:"operations",component:Wr,beforeEnter:im},{name:"orders",path:"orders",component:kc,beforeEnter:im},{path:"statistics",component:nl,children:[{path:"",redirect:{name:"draft_beer"}},{path:"draft_beer",name:"draft_beer",component:Wl,beforeEnter:im},{path:"bottled_beer",name:"bottled_beer",component:Yl,beforeEnter:im},{path:"products",name:"products",component:td,beforeEnter:im},{path:"dishes",name:"dishes",component:nd,beforeEnter:im},{path:"discount_cards",name:"discount_cards",component:ud,beforeEnter:im},{path:"expense_categories",name:"expense_categories",component:bd,beforeEnter:im},{path:"alcohol",name:"alcohol",component:kd,beforeEnter:im},{path:"revenue",name:"revenue",component:Ld,beforeEnter:im},{path:"dishes_by_hours",name:"dishes_by_hours",component:qd,beforeEnter:im},{path:"orders_by_hours",name:"orders_by_hours",component:zd,beforeEnter:im},{path:"additions",name:"additions",component:Zd,beforeEnter:im},{path:"karaoke",name:"karaoke",component:e_,beforeEnter:im},{path:"promo",name:"promo",component:r_,beforeEnter:im}]},{path:"analytics",component:kl,children:[{path:"",redirect:{name:"discount100"}},{path:"discount100",name:"discount100",component:$u,beforeEnter:im},{path:"cash2safe",name:"cash2safe",component:Lu,beforeEnter:im},{path:"buisnesslanch",name:"buisnesslanch",component:qu,beforeEnter:im},{path:"princess_promo_dishes",name:"princess_promo_dishes",component:zu,beforeEnter:im},{path:"princess_promo_sessions",name:"princess_promo_sessions",component:Zu,beforeEnter:im},{path:"orders_by_custom_hours",name:"orders_by_custom_hours",component:am,beforeEnter:im}]},{path:"settings",component:Wc,children:[{path:"",redirect:{name:"preferences"}},{path:"users",name:"users",component:q_,beforeEnter:im},{path:"cards",name:"cards",component:Z_,beforeEnter:im},{path:"expense",name:"expense",component:eu,beforeEnter:im},{path:"preferences",name:"preferences",component:ru,beforeEnter:im}]},{path:"",redirect:{name:"login"}}]}]}),rm=s("e37d"),cm=s("a925"),lm={auth:!!localStorage.getItem("user-auth")&&JSON.parse(localStorage.getItem("user-auth"))};function dm(){var t=s("49f8"),e={};return t.keys().forEach(function(s){var a=s.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var i=a[1];e[i]=t(s)}}),e}a["default"].use(cm["a"]);var _m=new cm["a"]({locale:lm.auth?lm.auth.locale:"ru",fallbackLocale:"en",messages:dm()});s("6562"),s("542c");a["default"].use(rm["a"]),a["default"].config.productionTip=!1,new a["default"]({router:nm,store:Ot,i18n:_m,render:function(t){return t(d)}}).$mount("#app")},6562:function(t,e,s){},6587:function(t,e,s){},"724a":function(t,e,s){"use strict";var a=s("6587"),i=s.n(a);i.a},7704:function(t){t.exports={navigation:{menu:"Меню",stock:"Склад",expenses:"Расходы",operations:"Операции",orders:"Кассовые операции",statistics:"Статистика",settings:"Настройки",analytics:"Аналитика"},btn:{ok:"Ok",cancel:"Отмена",reset:"Сбросить",cashbox:"Касса",safe:"Сейф",all:"Все",detail:"Детали",remove:"Удалить",transfer:"Перевод",save:"Сохранить",prev_order:"Предыдущий заказ",next_order:"Следующий заказ",add:"Добавить",close:"Закрыть",add_user:"Добавить",add_qr:"Добавить QR",remove_select:"Удалить",remove_user:"Удалить",mark_all:"Отметить все",edit_hours:"Редактировать часы",add_to_db:"Добавить в БД",leave_as_is:"Оставить как есть",recalculate:"Пересчитать"},pagination:{all:"Все"},panel:{print:"Печать",search:"Поиск",add_dish:"Добавить блюдо",add_category:"Добавить категорию",add_new:"Добавить",add_to_stock:"Добавить на склад"},context_menu:{open:"Открыть",rename:"Переименовать",remove:"Удалить",reset_dis:"Сбросить скидку",set_discount:"Установить скидку",history:"Показать историю",merge:"Объединить с...",dependencies:"Зависимости"},periodtime:{today:"Сегодня",yesterday:"Вчера",week:"Неделя",month:"Месяц",all:"За все время",period:"Выбрать период",selected_period:"Выбран интервал",start_time:"с самого начала",end_time:"текущее время"},date:{monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"},measure:{L:"л",kg:"кг",gr:"гр",unit:"ед.",ml:"мл"},menu:{table:{id:"Ид.",name:"Наименование",discount:"Скидка",fix_cashback:"Фикс. кэшбэк",menu_type:"Тип меню",retail_price:"Розничная цена",cost_price:"Себестоимость",max_discount:"Цена с макс. скидкой",last_update:"Последнее обновление",bar:"Бар",kitchen:"Кухня"},new_dish:{titles:{add:"Новое блюдо",characteristics:"Характеристики блюда",ingredients:"Ингредиенты",edit:"Редактирование записи"},props:{identifier:"Идентификатор",name:"Наименование",max_discount:"Максимальная скидка",description:"Описание",menu_price:"Цена в меню",menu_type:"Тип меню",bar:"Бар",kitchen:"Кухня",category:"Категория",fixed_cashback:"Фикс. кэшбэк",total_price:"Итоговая себестоимость",available:"Доступно",mon:"Пн",tue:"Вт",wed:"Ср",thu:"Чт",fri:"Пт",sat:"Сб",sun:"Вс",id:"Ид.",amount:"Кол-во",unit:"Ед.",price:"Цена",total:"Общая цена",new_ingredient:"Новый ингредиент",edit_hours:"Редактирование часов"}},new_category:{titles:{add:"Добавить категорию"},props:{category:"Категория",category_name:"Наименование",path:"Путь"}}},stock:{modal:{stock:"Склад",story:"История операций",edit:"Редактирование записи",write_off:"Списание",merge:"Объединить с...",product:"Продукт",dependencies:"Зависимости",quantity:"Количество",reason:"Тестовое списание",error:"Ошибка",recalculate:"Пересчет",recalculate_desc:"Вы поменяли единицу измерения. Пересчитать количество и стоимость во всех записях?",remove_noty:"Вы уверены, что хотите удалить шрихкод "},table:{id:"Ид.",name:"Наименование",last_update:"Обновление",stock_price:"Цена",quantity:"Количество",quantity_mini:"Кол-во",category:"Тип записи",balance:"Баланс",price:"Цена",date:"Дата",comment:"Описание",user:"Пользователь",discount:"Скидка",measure:"Ед.",type_menu:"Тип меню",retail_price:"Розничная цена",prime_cost:"Себестоимость",number:"№",barcode:"Штрихкод"},edit_item:{characterictics:"Характеристики",barcodes:"Штрихкоды",menu_item:"Блюдо в меню"},add_to_stock:{add_to_stock:"Добавить на склад",new_product:"Новый товар",new_products:"Добавленные товары",barcode:"Штрихкод",name:"Наименование",category:"Категория",type_records:"Тип записи",unit_mesurment:"Ед. измерения",quantity:"Количество",unit_price:"Цена за единицу",total_price:"Общая цена",description:"Описание",use_own:"Использовать собственные средства",pay_later:"Оплатить позже",vat:"+7% VAT",clear:"Очистить",remove:"Удалить",edit:"Редактировать",add:"Добавить",heads:{category:"Кат.",category_full:"Категория",name:"Наименование",mesurment:"Мера",quantity:"Кол-во",total_price:"Общая цена",price:"Цена",expense:"Расходы"}}},expenses:{panel:{cashbox:"Касса",safe:"Сейф",bank:"Банк"},heads:{id:"Ид.",operation:"Операция",category:"Категория",quantity:"Кол-во",user:"Польз.",cost:"Расходы",safe:"Сейф",cashier:"Касса",time:"Время",cash:"Наличными",card:"Банк. картами",total:"Всего",income:"Итого приход",outcome:"Итого расход",profit:"Сальдо"},modal:{editing:"Редактирование",operation:"Операция",price:"Цена",category:"Категория",amount:"Количество",data:"Дата / Время",set_period:"Выбрать период",start:"Начало",end:"Конец"}},orders:{all_cashiers:"Все кассиры",heads:{id:"№",discount:"Скидка",cashier:"Кассир",time:"Время",paidsum:"К оплате",card:"Банковская карта",cash:"Наличные",nopay:"Отменен",total:"Итого",balance:"Баланс",paid_type:"Тип оплаты"},total:{total_cash_income:"Выручка наличными",total_card_income:"Выручка по карте",total_income:"Выручка общая",total_nopay:"Неоплачено",total_discount:"Скидка общая"},modal:{order_detail:"Информация о заказе",order:"Заказ",details:"Детализация",price:"Цена",time:"Дата / Время",cashier:"Кассир",discount_card:"Скидочная карта",position:"Позиция",quantity:"Количество",discount:"Скидка",total:"Итого",paidsum:"Итоговая сумма",data:"Дата / Время",set_period:"Выбрать период",start:"Начало",end:"Конец"}},stat:{parts:{draft_beer:"Разливное пиво",bottled_beer:"Бутылочное пиво",products:"Продукты",dishes:"Блюда",discount_cards:"Скидочные карты",expense_categories:"Категории расходов",alcohol:"Алкоголь",revenue:"Выручка",dishes_by_hours:"Блюда по часам",orders_by_hours:"Заказы по часам",additions:"Дополнения",karaoke:"Караоке",promo:"Promo"},heads:{id:"№",name:"Наименование",stock_quantity:"Остаток",L:"л.",kg:"кг",gr:"гр",ml:"мл",unit:"ед.",stock_price:"Цена за ед.",last_update_time:"Дата обновления",days_left:"Прошло дн.",purchased_quantity:"Приход",sold_quantity:"Расход",purchased_price:"Сум. закуп.",sold_price:"Сум. прод.",average_sold_price:"Среднее",profit:"Прибыль",margin:"Маржа",prime_cost:"Себест.",prime_cost_full:"Себестоимость",orders_price:"Сумма",average_orders_per_day:"Ср. в день",orders_quantity:"Заказано",menu_price:"Цена в меню",card_number:"Номер карты",cardholder_name:"Владелец карты",current_discount:"Текущая скидка",discounts_count:"Количество скидок",category_id:"Ид.",category_name:"Наименование расхода",cost:"Общая сумма",total:"Итого",popularity:"Популярность",quantity:"Количество",price:"Цена",type:"Тип",cashback:"Кешбек",rentability:"Рентабельность",yield:"Доходность",written_off_quantity:"Списано"},total:{total_purchased_quantity:"Всего закуплено",total_purchased_price:"Сумма закупок",total_sold_quantity:"Всего продано",total_sold_price:"Сумма продаж",total_profit:"Чистая прибыль",commodity_balance:"Товарный остаток",total_sold_prime_cost:"Себестоимость",total_margin:"Маржа",total_price:"Общая сумма заказов",total_cost:"Общая себестоимость",total_discount:"Общая скидка",total_princess_promo_bonus:"Бонусы по программе Princess Promo",total_written_off_quantity:"Всего списано",total_written_off_price:"Сумма списаний"},modal:{order_detail:"Информация о заказе",order:"Заказ",details:"Детализация",price:"Цена",time:"Дата / Время",cashier:"Кассир",discount_card:"Скидочная карта",position:"Позиция",quantity:"Количество",discount:"Скидка",total:"Итого",paidsum:"Итоговая сумма",data:"Дата / Время",set_period:"Выбрать период",start:"Начало",end:"Конец"},chart:{quantity:"Количество",hours:"Часы",orders_quantity:"Количество заказов",orders_by_hours:"Заказы по часам",type_of_chart:"Тип диаграммы",by_quantity:"По количеству",by_price:"По цене",bar:"Бар",kitchen:"Кухня",price:"Стоимость",revenue:"Выручка",dishes_quantity:"Количество блюд",dishes_price:"Стоимость блюд",dishes_by_hours:"Блюда по часам",data_time:"Дата / Время",karaoke:"Караоке",revenue_karaoke:"Доход караоке",revenue_pr_promo:"Выручка Princess Promo"}},operations:{title:{services_and_stock:"Услуги и склад",cashbox:"Касса",safe:"Сейф",bank:"Банк"},operation:{balance:"Баланс",add:"Пополнение",whitdrawal:"Изъятие",transfer_cash:"Перенос из кассы",transfer_bank:"Перенос из банка"},btn:{apply:"Применить",add_service:"Добавить услугу",add_to_stock:"Добавить на склад"},modal:{add_service:"Добавить услугу",type_records:"Тип записи",service_name:"Наименование услуги",service_price:"Цена услуги",use_own_funds:"Использовать собственные средства"}},analytics:{table:{card_number:"Номер карты",username:"Владелец карты",count:"Кол-во заказов",sum:"Сумма заказов",amount:"Сумма перевода",user_name:"Имя",id:"№",menu_name:"Наименование"},parts:{discount100:"100% скидки",cash2safe:"Выручка администраторов",buisnesslanch:"Бизнес-ланчи",princess_promo_dishes:"Блюда Princess Promo",princess_promo_sessions:"Сессии Princess Promo",orders_by_custom_hours:"Заказы в выбранные часы"},total:{total:"Сумма заказов",total_amount:"Общая Сумма",total_profit:"Чистая прибыль",total_price:"Общая сумма заказов",total_cost:"Общая себестоимость",total_discount:"Общая скидка",total_princess_promo_bonus:"Бонусы по программе Princess Promo"},chart:{quantity_sessions:"Количество сессий",revenue_sessions:"Выручка сессий",title_sessions:"Сессии",title_sessions_prev:"Предыдущие сессии",title_revenue:"Выручка",title_revenue_prev:"Предыдущая выручка",title_quantity_sessions:"Количество сессий",title_revenue_sessions:"Выручка сессий",date_time:"Дата / Время"}},settings:{localization:"Локализация",authorization:"Авторизация",logout:"Выйти",parts:{users:"Пользователи",cards:"Скидочные карты",expense:"Категории расходов",preferences:"Предпочтения"},heads:{id:"Ид.",name:"Наименование",login:"Логин",role:"Роль",permissions:"Права",status:"Статус",date_register:"Дата регистрации",column:"Столбец",category_name:"Категория",card_code:"Код карты",card_type:"Тип карты",attached_to:"К кому привязана",exp_date:"Срок действия",discount:"Скидка"},words:{active:"Активен",no_active:"Не активен",Administrators:"Администраторы",Managers:"Менеджеры",Agents:"Агенты",Cashiers:"Кассиры",roles:"Роли",all_roles:"Все роли"},modal:{add_user_title:"Добавление нового пользователя",edit_user_title:"Редактирование данных пользователя",main_settings:"Основные параметры",login:"Логин",password:"Пароль",role:"Роль",card:"Карта",card_number:"Номер карты",permissions:"Права",discount:"Скидка",remove_title:"Удаление пользователя",remove_noty:"Вы уверены, что хотите удалить пользователя ",remove_card_noty:"Вы уверены, что хотите удалить карту "},permissions:{PermissionCashierLogin:"Вход в кассу",PermissionChangeCashierPassword:"Создание / смена паролей кассиров",PermissionChangeAgentPassword:"Создание / смена паролей агентовы",PermissionChangeManagerPassword:"Создание / смена паролей менеджеров",PermissionDiscountCard5:"Скидочные карты 5%",PermissionDiscountCard10:"Скидочные карты 10%",PermissionDiscountCard15:"Скидочные карты 15%",PermissionDiscountCard20:"Скидочные карты 20%",PermissionDiscountCard50:"Скидочные карты 50%",PermissionNoPayOrder:"NO PAY - снятие заказа, который не оплачен",PermissionCancelOrder:"Частичная или полная отмена заказа",PermissionMenuView:"Просмотр меню",PermissionMenuEdit:"Редактирование меню",PermissionStockView:"Просмотр склада",PermissionStockAdd:"Добавление в склад + изъятие из сейфа",PermissionStockDelete:"Удаление со склада",PermissionStockEdit:"Редактирование склада",PermissionExpensesView:"Прсмотр расходов",PermissionExpensesDelete:"Удаление из расходов",PermissionCashierView:"Просмотр кассы",PermissionOrdersView:"Просмотр заказов",PermissionUsersEdit:"Редактирование пользователей",PermissionExpensesCategoriesEdit:"Редактирование категорий расходов",PermissionProgramLogin:"Вход в программу",PermissionCashierDeposit:"Пополнение кассы",PermissionCashierWithdraw:"Изъятие из кассы",PermissionSafeDeposit:"Пополнение сейфа",PermissionSafeTransferFromCashier:"Изъятие из сейфа",PermissionFundsDirectChange:"Пополнение сейфа за счет кассы",PermissionSafeWitdhdraw:"Прямое редактирование денежных средств",PermissionMaxPermission:"Максимальные права"}},auth:{login:"Войти",remember:"Запомнить",username:"Логин",password:"Пароль",welcome:"Добро пожаловать!"}}},9268:function(t,e,s){},edd4:function(t){t.exports={navigation:{menu:"Menu",stock:"Stock",expenses:"Expenses",operations:"Operations",orders:"Orders",statistics:"Statistics",settings:"Settings",analytics:"Analytics"},btn:{ok:"Ok",cancel:"Cancel",reset:"Reset",cashbox:"Cashbox",safe:"Safe",all:"All",detail:"Detail",remove:"Remove",transfer:"Transfer",save:"Save",prev_order:"Previous order",next_order:"Next order",add:"Add",close:"Close",add_user:"Add user",add_qr:"Add QR",remove_select:"Remove",remove_user:"Remove user",mark_all:"Mark all",edit_hours:"Add and edit hours",add_to_db:"Add to Database",leave_as_is:"Leave As Is",recalculate:"Recalculate"},pagination:{all:"All"},panel:{print:"Print",search:"Search",add_dish:"Add a dish",add_category:"Add a category",add_new:"Add",add_to_stock:"Add to stock"},context_menu:{open:"Open",rename:"Rename",remove:"Remove",reset_dis:"Reset discount",set_discount:"Set discount",history:"Show history",merge:"Merge with...",dependencies:"Dependencies"},periodtime:{today:"Today",yesterday:"Yesterday",week:"Week",month:"Month",all:"All the time",period:"Select period",selected_period:"Interval selected",start_time:"from the first",end_time:"to present"},date:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},measure:{L:"L",unit:"Un",kg:"Kg",gr:"gr",ml:"ml"},menu:{table:{id:"Id",name:"Name",discount:"Discount",fix_cashback:"Fix cashback",menu_type:"Menu type",retail_price:"Retail price",cost_price:"Cost price",max_discount:"Max discount",last_update:"Last update",bar:"Bar",kitchen:"Kitchen"},new_dish:{titles:{add:"Add a dish",characteristics:"Characteristics of dishes",ingredients:"Ingredients",edit:"Editing a record"},props:{identifier:"Identifier",name:"Name",max_discount:"Max discount",description:"Description",menu_price:"Menu price",menu_type:"Menu type",bar:"Bar",kitchen:"Kitchen",category:"Category",fixed_cashback:"Fixed cashback",total_price:"Total price",available:"Available",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun",id:"Id",amount:"Amount",unit:"Unit",price:"Price",total:"Total",new_ingredient:"New ingredient",edit_hours:"Edit hours"}},new_category:{titles:{add:"Add category"},props:{category:"Category",category_name:"Category name",path:"Path"}}},stock:{modal:{stock:"Stock",story:"Operation history",edit:"Edit records",write_off:"Write off",merge:"Merge with...",product:"Product",dependencies:"Dependencies",quantity:"Quantity",reason:"Reason",error:"Error",recalculate:"Recalculate",recalculate_desc:"You have changed the measure. Do you want to recalculate quantity and price in all related records?",remove_noty:"Are you sure you want to remove barcode "},table:{id:"Id",name:"Name",last_update:"Last update",stock_price:"Price",quantity:"Quantity",quantity_mini:"Q-ty",category:"Category",balance:"Balance",price:"Price",date:"Date",comment:"Comment",user:"User",discount:"Discount",measure:"Unit",type_menu:"Type menu",retail_price:"Retail price",prime_cost:"Prime cost",number:"No.",barcode:"Barcode"},edit_item:{characterictics:"Characterictics",barcodes:"Barcodes",menu_item:"Menu item"},add_to_stock:{add_to_stock:"Add to stock",new_product:"New product",new_products:"New products",barcode:"Barcode",name:"Name",category:"Category",type_records:"Type of records",unit_mesurment:"Unit mesurment",quantity:"Quantity",unit_price:"Unit price",total_price:"Total price",description:"Description",use_own:"Use own funds",pay_later:"Pay later",vat:"+7% VAT",clear:"Clear",remove:"Remove",edit:"Edit",add:"Add",heads:{category:"Cat.",category_full:"Category",name:"Name",mesurment:"Mesurment",quantity:"Q-ty",total_price:"Total price",price:"Price",expense:"Expense"}}},expenses:{panel:{cashbox:"Cashbox",safe:"Safe",bank:"Bank"},heads:{id:"Id",operation:"Operation",category:"Category",quantity:"Q-ty",user:"User",cost:"Cost",safe:"Safe",cashier:"Cashier",time:"Time",cash:"Cash",card:"Card",total:"Total",income:"Total income",outcome:"Total outcome",profit:"Profit"},modal:{editing:"Editing a expense",operation:"Operation",price:"Price",category:"Category",amount:"Amount",data:"Data / Time",set_period:"Set period",start:"Start period",end:"End period"}},orders:{all_cashiers:"All cashiers",heads:{id:"#",discount:"Discount",cashier:"Cashier",time:"Time",paidsum:"Paidsum",card:"Card",cash:"Cash",nopay:"nopay",total:"Total",balance:"Balance",paid_type:"Paid type"},total:{total_cash_income:"Cash income",total_card_income:"Card income",total_income:"Total income",total_nopay:"Nopay",total_discount:"Total discount"},modal:{order_detail:"Order detail",order:"Order",details:"Details",price:"Price",time:"Date / Time",cashier:"Cashier",discount_card:"Discount card",position:"Position",quantity:"Quantity",discount:"Discount",total:"Total",paidsum:"Paidsum",data:"Data / Time",set_period:"Set period",start:"Start period",end:"End period"}},stat:{parts:{draft_beer:"Draft beer",bottled_beer:"Bottled beer",products:"Products",dishes:"Dishes",discount_cards:"Discount cards",expense_categories:"Expense Categories",alcohol:"Alcohol",revenue:"Revenue",dishes_by_hours:"Dishes/h",orders_by_hours:"Orders/h",additions:"Additions",karaoke:"Karaoke",promo:"Промо"},heads:{id:"Id",name:"Name",stock_quantity:"Stock",L:"L",unit:"Un",kg:"Kg",gr:"gr",ml:"ml",stock_price:"Price for un.",last_update_time:"Date",days_left:"Days left",purchased_quantity:"Purchased",sold_quantity:"Sold",purchased_price:"Purchased price",sold_price:"Sold price",average_sold_price:"Average",profit:"Profit",margin:"Margin",prime_cost:"Prime cost",prime_cost_full:"Prime cost",orders_price:"Orders price",average_orders_per_day:"Average / day",orders_quantity:"Quantity",menu_price:"Menu price",card_number:"Card number",cardholder_name:"Cardholder name",current_discount:"Current discount",discounts_count:"Discounts count",category_id:"Id",category_name:"Expenses name",cost:"Cost",total:"Total",popularity:"Popularity",quantity:"Quantity",price:"Price",type:"Type",cashback:"Cashback",rentability:"Rentability",yield:"Yield",written_off_quantity:"Written off"},total:{total_purchased_quantity:"Total purchased quantity",total_purchased_price:"Total purchased price",total_sold_quantity:"Total sold quantity",total_sold_price:"Total sold price",total_profit:"Total profit",commodity_balance:"Commodity balance",total_sold_prime_cost:"Total sold prime cost",total_margin:"Margin",total_price:"Total price",total_cost:"Total cost",total_discount:"Total discount",total_princess_promo_bonus:"Total Princess Promo bonus",total_written_off_quantity:"Written off quantity",total_written_off_price:"Written off price"},modal:{order_detail:"Order detail",order:"Order",details:"Details",price:"Price",time:"Date / Time",cashier:"Cashier",discount_card:"Discount card",position:"Position",quantity:"Quantity",discount:"Discount",total:"Total",paidsum:"Paidsum",data:"Data / Time",set_period:"Set period",start:"Start period",end:"End period"},chart:{quantity:"Quantity",hours:"Hours",orders_quantity:"Orders quantity",orders_by_hours:"Orders by hours",type_of_chart:"Type of chart",by_quantity:"By quantity",by_price:"By price",bar:"Bar",kitchen:"Kitchen",price:"Price",revenue:"Revenue",dishes_quantity:"Dishes quantity",dishes_price:"Dishes price",dishes_by_hours:"Dishes by hours",data_time:"Data / Time",karaoke:"Karaoke",revenue_karaoke:"Revenue karaoke",revenue_pr_promo:"Revenue Princess Promo"}},operations:{title:{services_and_stock:"Services and Stock",cashbox:"CashBox",safe:"Safe",bank:"Bank"},operation:{balance:"Balance",add:"Add",whitdrawal:"Whitdrawal",transfer_cash:"Transfer from the cash",transfer_bank:"Transfer from bank"},btn:{apply:"Apply",add_service:"Add service",add_to_stock:"Add to stock"},modal:{add_service:"Add service",type_records:"Type records",service_name:"Service name",service_price:"Service price",use_own_funds:"Use own funds"}},analytics:{table:{card_number:"Card number",username:"Username",count:"Count",sum:"Sum",amount:"Amount",user_name:"Name",id:"Id",menu_name:"Name"},parts:{discount100:"100% discount",cash2safe:"Admin revenue",buisnesslanch:"Buisness Lanch",princess_promo_dishes:"Princess Promo dishes",princess_promo_sessions:"Princess Promo Sessions",orders_by_custom_hours:"Orders by custom hours"},total:{total:"Total price",total_amount:"Total Amount",total_profit:"Total profit",total_price:"Total price",total_cost:"Total cost",total_discount:"Total discount",total_princess_promo_bonus:"Total Princess Promo bonus"},chart:{quantity_sessions:"Quantity sessions",revenue_sessions:"Revenue sessions",title_sessions:"Sessions",title_sessions_prev:"Sessions prev",title_revenue:"Revenue",title_revenue_prev:"Revenue prev",title_quantity_sessions:"Quantity sessions",title_revenue_sessions:"Revenue sessions",date_time:"Date / Time"}},settings:{localization:"Localization",authorization:"Authorization",logout:"Logout",parts:{users:"Users",cards:"Discount cards",expense:"Expense categories",preferences:"Preferences"},heads:{id:"Id",name:"Name",login:"Login",role:"Role",permissions:"Permissions",status:"Status",date_register:"Date register",column:"Column",category_name:"Category",card_code:"Card code",card_type:"Card type",attached_to:"Attached to",exp_date:"Exp date",discount:"Discount"},words:{active:"Active",no_active:"No active",Administrators:"Administrators",Managers:"Managers",Agents:"Agents",Cashiers:"Cashiers",roles:"Roles",all_roles:"All roles"},modal:{add_user_title:"Add new user",edit_user_title:"Edit user data",main_settings:"Main settings",login:"Login",password:"Password",role:"Role",card:"Card",card_number:"Card number",permissions:"Permissions",discount:"Discount",remove_title:"Remove user",remove_noty:"Are you sure you want to remove user ",remove_card_noty:"Are you sure you want to remove card "},permissions:{PermissionCashierLogin:"Login to the cashier App",PermissionChangeCashierPassword:"Create / change cashier password",PermissionChangeAgentPassword:"Create / change agent password",PermissionChangeManagerPassword:"Create / change manager password",PermissionDiscountCard5:"Discount cards 5%",PermissionDiscountCard10:"Discount cards 10%",PermissionDiscountCard15:"Discount cards 15%",PermissionDiscountCard20:"Discount cards 20%",PermissionDiscountCard50:"Discount cards 50%",PermissionNoPayOrder:"NO PAY - withdrawal of an order that is not paid for",PermissionCancelOrder:"Partial or complete cancellation of an order",PermissionMenuView:"View the menu",PermissionMenuEdit:"Edit menu",PermissionStockView:"View warehouse",PermissionStockAdd:"Add to the warehouse + withdrawal from the safe",PermissionStockDelete:"Remove from the warehouse",PermissionStockEdit:"Editing warehouse",PermissionExpensesView:"View expenses",PermissionExpensesDelete:"Removal expenses",PermissionCashierView:"View cashier",PermissionOrdersView:"View orders",PermissionUsersEdit:"Editting users",PermissionExpensesCategoriesEdit:"Editting categories of expenses",PermissionProgramLogin:"Login to the programm",PermissionCashierDeposit:"Add money to cashbox",PermissionCashierWithdraw:"Withdrawal from cashbox",PermissionSafeDeposit:"Add money to safe",PermissionSafeTransferFromCashier:"Withdrawal from safe",PermissionFundsDirectChange:"Move money from safe to cashbox",PermissionSafeWitdhdraw:"Directly editting of balance",PermissionMaxPermission:"Max permission"}},auth:{login:"Log in",remember:"Remember me",username:"Username",password:"Password",welcome:"Welcome!"}}}});